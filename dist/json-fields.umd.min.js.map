{"version":3,"file":"json-fields.umd.min.js","sources":["../lib/utils/uiAdapters.js","../lib/utils/jsonUtils.js","../lib/components/JsonToFields.jsx"],"sourcesContent":["// UI Library Adapters\n// This file provides adapters for different UI libraries\n\nexport const getUIComponents = () => {\n  // All UI libraries use the same HTML elements as base\n  // The styling is handled through classes and props\n  return {\n    Container: 'div',\n    Box: 'div',\n    Button: 'button',\n    Input: 'input',\n    Select: 'select',\n    Textarea: 'textarea',\n    Table: 'table',\n    Thead: 'thead',\n    Tbody: 'tbody',\n    Tr: 'tr',\n    Th: 'th',\n    Td: 'td',\n    Text: 'span',\n    Heading: 'h2',\n    Stack: 'div',\n    HStack: 'div',\n    VStack: 'div',\n    Card: 'div',\n    Alert: 'div',\n    Badge: 'span',\n    Grid: 'div',\n    GridItem: 'div',\n    Flex: 'div',\n    Label: 'label',\n  }\n}\n\nexport const getUIClasses = (uiLibrary = 'chakra', component, variant = 'default') => {\n  const classMap = {\n    tailwind: {\n      Container: 'max-w-7xl mx-auto px-4 sm:px-6 lg:px-8',\n      Box: 'block',\n      Button: {\n        default:\n          'inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500',\n        secondary:\n          'inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500',\n      },\n      Input: {\n        default:\n          'block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm',\n        checkbox: 'h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded',\n      },\n      Select:\n        'block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm',\n      Textarea:\n        'block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm resize-vertical',\n      Table: 'min-w-full divide-y divide-gray-200',\n      Thead: 'bg-gray-50',\n      Tbody: 'bg-white divide-y divide-gray-200',\n      Tr: 'hover:bg-gray-50',\n      Th: 'px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider',\n      Td: 'px-6 py-4 whitespace-nowrap text-sm text-gray-900',\n      Text: 'text-gray-900',\n      Heading: 'text-2xl font-bold text-gray-900 mb-4',\n      Stack: 'space-y-4',\n      HStack: 'flex space-x-4 items-center',\n      VStack: 'flex flex-col space-y-4',\n      Card: 'bg-white overflow-hidden shadow rounded-lg p-6',\n      Alert: {\n        error: 'bg-red-50 border border-red-200 rounded-md p-4 text-red-800',\n        success: 'bg-green-50 border border-green-200 rounded-md p-4 text-green-800',\n        warning: 'bg-yellow-50 border border-yellow-200 rounded-md p-4 text-yellow-800',\n        info: 'bg-blue-50 border border-blue-200 rounded-md p-4 text-blue-800',\n      },\n      Badge:\n        'inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800',\n      Grid: 'grid',\n      GridItem: '',\n      Flex: 'flex',\n      Label: 'block text-sm font-medium text-gray-700',\n    },\n    shadcn: {\n      Container: 'container mx-auto px-4',\n      Box: 'block',\n      Button: {\n        default:\n          'inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2',\n        secondary:\n          'inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary text-secondary-foreground hover:bg-secondary/80 h-10 px-4 py-2',\n      },\n      Input: {\n        default:\n          'flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\n        checkbox:\n          'h-4 w-4 rounded border border-primary text-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\n      },\n      Select:\n        'flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\n      Textarea:\n        'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\n      Table: 'w-full caption-bottom text-sm',\n      Thead: '[&_tr]:border-b',\n      Tbody: '[&_tr:last-child]:border-0',\n      Tr: 'border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted',\n      Th: 'h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0',\n      Td: 'p-4 align-middle [&:has([role=checkbox])]:pr-0',\n      Text: 'text-sm text-muted-foreground',\n      Heading: 'scroll-m-20 text-2xl font-semibold tracking-tight',\n      Stack: 'flex flex-col space-y-4',\n      HStack: 'flex space-x-4',\n      VStack: 'flex flex-col space-y-4',\n      Card: 'rounded-lg border bg-card text-card-foreground shadow-sm',\n      Alert: {\n        error:\n          'relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive',\n        success:\n          'relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground',\n        warning:\n          'relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground',\n        info: 'relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground',\n      },\n      Badge:\n        'inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2',\n      Grid: 'grid',\n      GridItem: '',\n      Flex: 'flex',\n      Label:\n        'text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70',\n    },\n  }\n\n  if (uiLibrary === 'chakra') {\n    return '' // Chakra UI uses props, not classes\n  }\n\n  const libraryClasses = classMap[uiLibrary]\n  if (!libraryClasses || !libraryClasses[component]) {\n    return ''\n  }\n\n  const componentClasses = libraryClasses[component]\n  if (typeof componentClasses === 'object') {\n    return componentClasses[variant] || componentClasses.default || ''\n  }\n\n  return componentClasses\n}\n","/**\n * Utility functions for JSON parsing and object manipulation\n */\n\n/**\n * Flatten nested objects into dot-notation keys\n * @param {Object} obj - Object to flatten\n * @param {string} prefix - Key prefix for nested properties\n * @returns {Object} Flattened object\n */\nexport const flattenObject = (obj, prefix = '') => {\n  let flattened = {}\n\n  for (let key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      const newKey = prefix ? `${prefix}.${key}` : key\n\n      if (typeof obj[key] === 'object' && obj[key] !== null && !Array.isArray(obj[key])) {\n        Object.assign(flattened, flattenObject(obj[key], newKey))\n      } else {\n        flattened[newKey] = obj[key]\n      }\n    }\n  }\n\n  return flattened\n}\n\n/**\n * Convert flattened object back to nested structure\n * @param {Object} flat - Flattened object with dot-notation keys\n * @returns {Object} Nested object\n */\nexport const unflattenObject = (flat) => {\n  const result = {}\n\n  for (let key in flat) {\n    const keys = key.split('.')\n    let current = result\n\n    for (let i = 0; i < keys.length - 1; i++) {\n      if (!current[keys[i]]) {\n        current[keys[i]] = {}\n      }\n      current = current[keys[i]]\n    }\n\n    current[keys[keys.length - 1]] = flat[key]\n  }\n\n  return result\n}\n\n/**\n * Determine input type based on value and optional field configuration\n * @param {any} value - Value to check\n * @param {string} key - Field key/name\n * @param {Object} fieldConfig - Optional field configuration override\n * @returns {Object} Field type configuration\n */\nexport const getInputType = (value, key = '', fieldConfig = {}) => {\n  // 1. Check explicit field configuration first\n  if (fieldConfig[key]) {\n    return { type: fieldConfig[key].type, ...fieldConfig[key] }\n  }\n\n  // 2. Basic type detection\n  if (typeof value === 'boolean') return { type: 'checkbox' }\n  if (typeof value === 'number') return { type: 'number' }\n  if (Array.isArray(value)) return { type: 'array', items: value }\n  if (typeof value === 'object' && value !== null) return { type: 'object' }\n\n  // 3. Enhanced string analysis\n  if (typeof value === 'string') {\n    // Long text detection\n    if (value.length > 100) return { type: 'textarea', rows: 4 }\n\n    // Email detection\n    if (value.includes('@') || key.toLowerCase().includes('email')) {\n      return { type: 'email' }\n    }\n\n    // URL detection\n    if (value.startsWith('http') || key.toLowerCase().includes('url')) {\n      return { type: 'url' }\n    }\n\n    // Date detection\n    if (value.match(/^\\d{4}-\\d{2}-\\d{2}$/) || key.toLowerCase().includes('date')) {\n      return { type: 'date' }\n    }\n\n    // Password detection\n    if (key.toLowerCase().includes('password')) {\n      return { type: 'password' }\n    }\n  }\n\n  // 4. Fallback to text\n  return { type: 'text' }\n}\n\n/**\n * Parse JSON string safely\n * @param {string} jsonString - JSON string to parse\n * @returns {Object} Parsed object or error\n */\nexport const parseJsonSafely = (jsonString) => {\n  try {\n    const parsed = JSON.parse(jsonString)\n    return { success: true, data: parsed }\n  } catch (error) {\n    return { success: false, error: error.message }\n  }\n}\n\n/**\n * Format JSON string with proper indentation\n * @param {any} obj - Object to stringify\n * @param {number} spaces - Number of spaces for indentation\n * @returns {string} Formatted JSON string\n */\nexport const formatJson = (obj, spaces = 2) => {\n  return JSON.stringify(obj, null, spaces)\n}\n\n/**\n * Get nested level from key\n * @param {string} key - Dot-notation key\n * @returns {number} Nesting level\n */\nexport const getNestedLevel = (key) => {\n  return key.split('.').length - 1\n}\n\n/**\n * Get display name from key\n * @param {string} key - Dot-notation key\n * @returns {string} Display name\n */\nexport const getDisplayName = (key) => {\n  return key\n    .split('.')\n    .pop()\n    .replace(/([A-Z])/g, ' $1') // Add space before capital letters\n    .replace(/[_-]/g, ' ') // Replace underscores and hyphens with spaces\n    .replace(/\\b\\w/g, (l) => l.toUpperCase()) // Capitalize first letter of each word\n    .trim()\n}\n","import React, { useState, useEffect, useCallback } from 'react'\nimport { getUIClasses as _getUIClasses } from '../utils/uiAdapters'\nimport {\n  flattenObject,\n  unflattenObject,\n  getInputType,\n  parseJsonSafely,\n  getDisplayName,\n} from '../utils/jsonUtils'\n\n/**\n * Fields Component - UI Library Agnostic\n * @param {Object} props - Component props\n * @param {string} props.uiLibrary - (deprecated, ignored in headless)\n * @param {Object} [props.classNames] - slot classes for headless styling\n * @param {Object} [props.styles] - slot inline styles for headless styling\n * @param {Object} [props.renderers] - primitive render overrides: { Container, Box, Button, Input, Select, Textarea, Text, Heading, VStack, HStack, Card, Alert, Label }\n * @param {Function} props.onSave - Callback when save is triggered (nestedData, flatData) => void\n * @param {Function} props.onCancel - Callback when cancel is triggered () => void\n * @param {Function} props.onFieldChange - Callback when field changes (key, value, fullData) => void\n * @param {string} props.saveButtonText - Text for save button\n * @param {string} props.cancelButtonText - Text for cancel button\n * @param {string} props.initialJson - Initial JSON string\n * @param {Object} props.customStyles - Custom styles object\n * @param {boolean} props.showControls - Whether to show save/cancel buttons\n * @param {boolean} props.inlineLabels - Whether to render labels inline with fields\n * @param {number} props.columns - Number of columns for form layout (default: 2)\n * @param {Object} props.fieldConfig - Field configuration for custom input types\n * @param {Array} [props.sections] - Optional sections to group fields: [{ id?, title, description?, fields: string[], collapsible?: boolean, defaultOpen?: boolean }]\n * @param {boolean} [props.includeUnsectioned=false] - If true, render fields not listed in sections under an \"Other\" section\n * @param {string} [props.unsectionedTitle='Other'] - Title for the unsectioned fields section\n */\nconst Fields = ({\n  // headless styling hooks\n  _classNames = {},\n  styles: _styleProps = {},\n  renderers = {},\n  // advanced overrides\n  customFieldRenderers = {}, // map of fieldKey => (ctx) => ReactNode\n  customInputRenderers = {}, // map of type => (ctx) => ReactNode\n  customControlRenderers = {}, // map of fieldKey or type => (ctx) => ReactNode (returns just control)\n  customLabelRenderers = {}, // map of fieldKey or type => (ctx) => ReactNode (returns just label)\n  // deprecated uiLibrary (ignored in headless; kept for backward compat)\n  uiLibrary = 'chakra',\n  onSave,\n  onCancel,\n  onFieldChange,\n  saveButtonText = 'Save Changes',\n  cancelButtonText = 'Reset Form',\n  initialJson = '',\n  customStyles = {},\n  showControls = true,\n  inlineLabels = false,\n  columns = 2,\n  fieldConfig = {},\n  sections = null,\n  includeUnsectioned = false,\n  unsectionedTitle = 'Other',\n  ...props\n}) => {\n  // mark intentionally unused headless props to satisfy lint\n  _classNames\n  _styleProps\n  const [jsonInput, setJsonInput] = useState(initialJson)\n  const [formData, setFormData] = useState({})\n  const [originalFormData, setOriginalFormData] = useState({})\n  const [, setParsedJson] = useState(null)\n  const [error, setError] = useState('')\n  // Local input state for tags fields keyed by field name\n  const [tagInputs, setTagInputs] = useState({})\n  // Open state for collapsible sections\n  const [sectionOpenIds, setSectionOpenIds] = useState(() => new Set())\n\n  // Headless primitives; can be overridden by `renderers`\n  const UI = {\n    Container: renderers.Container || 'div',\n    Box: renderers.Box || 'div',\n    Button: renderers.Button || 'button',\n    Input: renderers.Input || 'input',\n    Select: renderers.Select || 'select',\n    Textarea: renderers.Textarea || 'textarea',\n    Text: renderers.Text || 'span',\n    Heading: renderers.Heading || 'h2',\n    VStack: renderers.VStack || 'div',\n    HStack: renderers.HStack || 'div',\n    Card: renderers.Card || 'div',\n    Alert: renderers.Alert || 'div',\n    Label: renderers.Label || 'label',\n  }\n\n  // Segment field renderer (single-select segmented control)\n  const renderSegmentField = (key, value, displayName, fieldTypeConfig) => {\n    const ctx = {\n      key,\n      value,\n      displayName,\n      fieldTypeConfig,\n      formData,\n      onChange: (val) => handleFieldChange(key, val),\n      UI,\n      props: { uiLibrary, customStyles, inlineLabels, ...props },\n    }\n\n    const labelEl =\n      (typeof customLabelRenderers?.[key] === 'function' && customLabelRenderers[key](ctx)) ||\n      (typeof customLabelRenderers?.segment === 'function' && customLabelRenderers.segment(ctx)) || (\n        <UI.Label className={getUIClasses(uiLibrary, 'Label')} style={{ ...customStyles.fieldLabel, marginBottom: inlineLabels ? 0 : '0.5rem' }}>\n          {displayName}\n        </UI.Label>\n      )\n\n    const controlEl =\n      (typeof customControlRenderers?.[key] === 'function' && customControlRenderers[key](ctx)) ||\n      (typeof customControlRenderers?.segment === 'function' && customControlRenderers.segment(ctx)) || (\n        <UI.HStack\n          className={getUIClasses(uiLibrary, 'HStack')}\n          style={{\n            [inlineLabels ? 'flex' : 'width']: inlineLabels ? 1 : '100%',\n            gap: '0.5rem',\n            flexWrap: 'wrap',\n            ...customStyles.hstack,\n          }}\n        >\n          {(fieldTypeConfig.options || []).map((opt) => {\n            const selected = (formData[key] ?? value) === opt\n            return (\n              <UI.Button\n                key={opt}\n                type=\"button\"\n                onClick={() => handleFieldChange(key, opt)}\n                className={getUIClasses(uiLibrary, 'Button', selected ? 'primary' : 'secondary')}\n                style={{\n                  padding: '6px 10px',\n                  borderRadius: '8px',\n                  border: selected ? '1px solid var(--segment-selected-border, #6366f1)' : '1px solid rgba(0,0,0,0.1)',\n                  background: selected ? 'var(--segment-selected-bg, #eef2ff)' : 'var(--segment-bg, #fff)',\n                  color: selected ? 'var(--segment-selected-fg, #3730a3)' : 'inherit',\n                  cursor: 'pointer',\n                }}\n              >\n                {opt}\n              </UI.Button>\n            )\n          })}\n        </UI.HStack>\n      )\n\n    const { description, placement } = getDescriptionMeta(key, fieldTypeConfig)\n    const descEl = description ? (\n      <UI.Text className={getUIClasses(uiLibrary, 'Text')} style={{ fontSize: '12px', opacity: 0.8, marginTop: '0.25rem' }}>\n        {description}\n      </UI.Text>\n    ) : null\n\n    return (\n      <UI.Box\n        key={key}\n        className={getUIClasses(uiLibrary, 'Box')}\n        style={{ marginBottom: '1rem', ...customStyles.fieldContainer }}\n      >\n        {inlineLabels ? (\n          <UI.Box style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>\n            <UI.Box style={{ minWidth: '30%' }}>{labelEl}</UI.Box>\n            <UI.Box style={{ display: 'flex', flexDirection: 'column', flex: 1 }}>\n              {controlEl}\n              {descEl}\n            </UI.Box>\n          </UI.Box>\n        ) : (\n          <>\n            {labelEl}\n            {placement === 'label' ? descEl : null}\n            {controlEl}\n            {placement === 'input' ? descEl : null}\n          </>\n        )}\n      </UI.Box>\n    )\n  }\n\n  // Key-Value list renderer (generic object/array of objects)\n  const renderKeyValueListField = (key, value, displayName, fieldTypeConfig = {}) => {\n    const originalIsArray = Array.isArray(value)\n    const originalIsObjectMap = !originalIsArray && typeof value === 'object' && value !== null\n\n    // Normalize to array of row objects for editing\n    const rows = (() => {\n      if (originalIsArray) return value\n      if (originalIsObjectMap) return Object.entries(value).map(([k, v]) => ({ key: k, value: v }))\n      return []\n    })()\n\n    // Determine columns to render\n    let columns = []\n    if (rows.length) {\n      const set = new Set()\n      rows.forEach((r) => Object.keys(r || {}).forEach((k) => set.add(k)))\n      columns = Array.from(set)\n    } else if (Array.isArray(fieldTypeConfig.columns)) {\n      columns = fieldTypeConfig.columns\n    } else if (originalIsObjectMap) {\n      columns = ['key', 'value']\n    } else {\n      columns = ['key', 'value'] // sensible default\n    }\n\n    // Helpers to rebuild the original shape\n    const commit = (nextRows) => {\n      if (originalIsArray) {\n        handleFieldChange(key, nextRows)\n      } else if (originalIsObjectMap) {\n        const nextObj = {}\n        nextRows.forEach((r) => {\n          const k = r.key ?? r.name\n          const v = r.value ?? r.val\n          if (k !== undefined && k !== '') nextObj[k] = v\n        })\n        handleFieldChange(key, nextObj)\n      } else {\n        handleFieldChange(key, nextRows)\n      }\n    }\n\n    const updateCell = (rowIdx, colKey, val) => {\n      const next = rows.map((r, i) => (i === rowIdx ? { ...r, [colKey]: val } : r))\n      commit(next)\n    }\n\n    const addRow = () => {\n      const template = columns.reduce((acc, c) => ({ ...acc, [c]: '' }), {})\n      commit([...rows, template])\n    }\n\n    const removeRow = (idx) => {\n      const next = rows.filter((_, i) => i !== idx)\n      commit(next)\n    }\n\n    const gridRow = {\n      display: 'grid',\n      gridTemplateColumns: `${'1fr '.repeat(columns.length)}auto`.trim(),\n      gap: '0.5rem',\n      alignItems: 'center',\n      padding: '3px 0px',\n    }\n\n    const { description, placement } = getDescriptionMeta(key, fieldTypeConfig)\n    const descEl = description ? (\n      <UI.Text className={getUIClasses(uiLibrary, 'Text')} style={{ fontSize: '12px', opacity: 0.8, marginBottom: '0.5rem' }}>\n        {description}\n      </UI.Text>\n    ) : null\n    return (\n      <UI.Box\n        key={key}\n        className={getUIClasses(uiLibrary, 'Box')}\n        style={{ marginBottom: '1rem', ...customStyles.fieldContainer }}\n      >\n        <UI.Label\n          className={getUIClasses(uiLibrary, 'Label')}\n          style={{\n            display: 'block',\n            fontWeight: '600',\n            marginBottom: '0.5rem',\n            ...customStyles.fieldLabel,\n          }}\n        >\n          {displayName}\n        </UI.Label>\n        {placement === 'label' ? descEl : null}\n\n        {/* Header row (optional) */}\n        {fieldTypeConfig.showHeader !== false && (\n          <UI.Box style={{ ...gridRow, fontSize: '12px', opacity: 0.8 }}>\n            {columns.map((c) => (\n              <UI.Text key={`hdr-${c}`}>{c}</UI.Text>\n            ))}\n            <span />\n          </UI.Box>\n        )}\n\n        <UI.VStack style={{ gap: '0.5rem' }}>\n          {rows.map((row, idx) => (\n            <UI.Box key={`${key}-${idx}`} style={gridRow}>\n              {columns.map((c) => (\n                <UI.Input\n                  key={`${key}-${idx}-${c}`}\n                  type=\"text\"\n                  placeholder={c}\n                  value={row?.[c] ?? ''}\n                  onChange={(e) => updateCell(idx, c, e.target.value)}\n                  className={getUIClasses(uiLibrary, 'Input')}\n                  style={customStyles.input}\n                />\n              ))}\n              <UI.Button\n                aria-label={`Remove ${displayName} row ${idx + 1}`}\n                onClick={() => removeRow(idx)}\n                className={getUIClasses(uiLibrary, 'Button', 'secondary')}\n                style={{ padding: '6px 10px' }}\n              >\n                ×\n              </UI.Button>\n            </UI.Box>\n          ))}\n\n          <UI.Button\n            onClick={addRow}\n            className={getUIClasses(uiLibrary, 'Button', 'default')}\n            style={{ alignSelf: 'flex-start', padding: '6px 10px' }}\n          >\n            + Add {displayName}\n          </UI.Button>\n        </UI.VStack>\n        {placement === 'input' ? descEl : null}\n      </UI.Box>\n    )\n  }\n\n  // Use adapter class mapping for tailwind/shadcn; Chakra returns empty string\n  const getUIClasses = (lib, component, variant) => _getUIClasses(lib, component, variant)\n\n  // Helper: resolve description text and placement for a field\n  // placement: 'label' (default) or 'input'\n  const getDescriptionMeta = (key, fieldTypeConfig = {}) => {\n    const cfg = fieldConfig?.[key] || {}\n    const description = fieldTypeConfig.description ?? cfg.description\n    const placementRaw = fieldTypeConfig.descriptionPlacement ?? cfg.descriptionPlacement\n    const placement = placementRaw === 'input' ? 'input' : 'label'\n    return { description, placement }\n  }\n\n  const parseJson = useCallback(\n    (jsonString = jsonInput) => {\n      const result = parseJsonSafely(jsonString)\n\n      if (result.success) {\n        setParsedJson(result.data)\n        const flattened = flattenObject(result.data)\n        setFormData(flattened)\n        setOriginalFormData({ ...flattened })\n        setError('')\n      } else {\n        setError(result.error)\n        setParsedJson(null)\n        setFormData({})\n        setOriginalFormData({})\n      }\n    },\n    [jsonInput],\n  )\n\n  useEffect(() => {\n    if (initialJson) {\n      setJsonInput(initialJson)\n      parseJson(initialJson)\n    } else if (initialJson === '') {\n      // Clear everything when initialJson is explicitly set to empty string\n      setJsonInput('')\n      setFormData({})\n      setOriginalFormData({})\n      setParsedJson(null)\n      setError('')\n    }\n  }, [initialJson, parseJson])\n\n  \n\n  const handleFieldChange = (key, value) => {\n    const newFormData = {\n      ...formData,\n      [key]: value,\n    }\n    setFormData(newFormData)\n\n    if (onFieldChange) {\n      const nestedData = unflattenObject(newFormData)\n      onFieldChange(key, value, nestedData)\n    }\n  }\n\n  const handleSave = () => {\n    if (onSave) {\n      const nestedData = unflattenObject(formData)\n      onSave(nestedData, formData)\n    }\n  }\n\n  const handleCancel = () => {\n    setFormData({ ...originalFormData })\n    if (onCancel) {\n      onCancel()\n    }\n  }\n\n  const renderFormField = (key, value) => {\n    const fieldTypeConfig = getInputType(value, key, fieldConfig)\n    const displayName = getDisplayName(key)\n\n    // Parent-aware renderer context\n    const rendererCtx = {\n      key,\n      value,\n      displayName,\n      fieldTypeConfig,\n      formData,\n      onChange: (val) => handleFieldChange(key, val),\n      UI,\n      props: {\n        uiLibrary,\n        onSave,\n        onCancel,\n        onFieldChange,\n        saveButtonText,\n        cancelButtonText,\n        initialJson,\n        customStyles,\n        showControls,\n        inlineLabels,\n        columns,\n        fieldConfig,\n        sections,\n        includeUnsectioned,\n        unsectionedTitle,\n        ...props,\n      },\n    }\n\n    // 1) Per-field override takes precedence\n    const fieldOverride = customFieldRenderers?.[key]\n    if (typeof fieldOverride === 'function') {\n      return <React.Fragment key={key}>{fieldOverride(rendererCtx)}</React.Fragment>\n    }\n\n    // 2) Per-type override next\n    const typeOverride = customInputRenderers?.[fieldTypeConfig.type]\n    if (typeof typeOverride === 'function') {\n      return <React.Fragment key={key}>{typeOverride(rendererCtx)}</React.Fragment>\n    }\n\n    // Handle different field types based on configuration\n    switch (fieldTypeConfig.type) {\n      case 'checkbox':\n        return renderCheckboxField(key, value, displayName, fieldTypeConfig)\n      case 'select':\n        return renderSelectField(key, value, displayName, fieldTypeConfig)\n      case 'segment':\n        return renderSegmentField(key, value, displayName, fieldTypeConfig)\n      case 'multi-select':\n        return renderMultiSelectField(key, value, displayName, fieldTypeConfig)\n      case 'textarea':\n        return renderTextareaField(key, value, displayName, fieldTypeConfig)\n      case 'email':\n      case 'url':\n      case 'date':\n      case 'password':\n        return renderSpecialInputField(key, value, displayName, fieldTypeConfig)\n      case 'number':\n        return renderNumberField(key, value, displayName, fieldTypeConfig)\n      case 'slider':\n        return renderSliderField(key, value, displayName, fieldTypeConfig)\n      case 'tags':\n        return _renderTagsField(key, value, displayName, fieldTypeConfig)\n      case 'key-value-list':\n        return renderKeyValueListField(key, value, displayName, fieldTypeConfig)\n      case 'array':\n        return renderArrayField(key, value, displayName, fieldTypeConfig)\n      case 'object':\n        return renderObjectField(key, value, displayName, fieldTypeConfig)\n      default:\n        return renderTextInputField(key, value, displayName, fieldTypeConfig)\n    }\n  }\n\n  // Slider field renderer (HTML range input)\n  const renderSliderField = (key, value, displayName, fieldTypeConfig) => {\n    const min = fieldTypeConfig.min ?? 0\n    const max = fieldTypeConfig.max ?? 100\n    const step = fieldTypeConfig.step ?? 1\n    const current = typeof formData[key] === 'number' ? formData[key] : (fieldTypeConfig.default ?? min)\n\n    const { description, placement } = getDescriptionMeta(key, fieldTypeConfig)\n    const descEl = description ? (\n      <UI.Text className={getUIClasses(uiLibrary, 'Text')} style={{ fontSize: '12px', opacity: 0.8, marginTop: '0.25rem', marginBottom: placement === 'label' ? '0.5rem' : 0 }}>\n        {description}\n      </UI.Text>\n    ) : null\n    return (\n      <UI.Box\n        key={key}\n        className={getUIClasses(uiLibrary, 'Box')}\n        style={{ marginBottom: '1rem', ...customStyles.fieldContainer }}\n      >\n        <UI.Label className={getUIClasses(uiLibrary, 'Label')} style={customStyles.label}>\n          <UI.Text className={getUIClasses(uiLibrary, 'Text')} style={{ fontWeight: '500', ...customStyles.fieldLabel }}>\n            {displayName}\n          </UI.Text>\n        </UI.Label>\n        {placement === 'label' ? descEl : null}\n        <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>\n          <input\n            type=\"range\"\n            min={min}\n            max={max}\n            step={step}\n            value={current}\n            onChange={(e) => handleFieldChange(key, Number(e.target.value))}\n            className={getUIClasses(uiLibrary, 'Input', 'range')}\n            style={{ width: '100%' }}\n          />\n          <UI.Text className={getUIClasses(uiLibrary, 'Text')} style={{ minWidth: '3rem', textAlign: 'right' }}>\n            {current}\n          </UI.Text>\n        </div>\n        {placement === 'input' ? descEl : null}\n      </UI.Box>\n    )\n  }\n\n  // Checkbox field renderer\n  const renderCheckboxField = (key, value, displayName) => {\n    const ctx = {\n      key,\n      value,\n      displayName,\n      fieldTypeConfig: { type: 'checkbox' },\n      formData,\n      onChange: (val) => handleFieldChange(key, val),\n      UI,\n      props: { uiLibrary, customStyles, inlineLabels, ...props },\n    }\n    const labelNode =\n      (typeof customLabelRenderers?.[key] === 'function' && customLabelRenderers[key](ctx)) ||\n      (typeof customLabelRenderers?.checkbox === 'function' && customLabelRenderers.checkbox(ctx)) || (\n        <UI.Text\n          className={getUIClasses(uiLibrary, 'Text')}\n          style={{ fontWeight: '500', ...customStyles.fieldLabel }}\n        >\n          {displayName}\n        </UI.Text>\n      )\n\n    const controlNode =\n      (typeof customControlRenderers?.[key] === 'function' && customControlRenderers[key](ctx)) ||\n      (typeof customControlRenderers?.checkbox === 'function' && customControlRenderers.checkbox(ctx)) || (\n        <input\n          type=\"checkbox\"\n          checked={formData[key] || false}\n          onChange={(e) => handleFieldChange(key, e.target.checked)}\n          className={getUIClasses(uiLibrary, 'Input', 'checkbox')}\n          style={customStyles.checkbox}\n        />\n      )\n\n    const { description, placement } = getDescriptionMeta(key, { type: 'checkbox', ...fieldConfig?.[key] })\n    const descEl = description ? (\n      <UI.Text className={getUIClasses(uiLibrary, 'Text')} style={{ fontSize: '12px', opacity: 0.8, marginTop: '4px' }}>\n        {description}\n      </UI.Text>\n    ) : null\n    return (\n      <UI.Box\n        key={key}\n        className={getUIClasses(uiLibrary, 'Box')}\n        style={{ marginBottom: '1rem', ...customStyles.fieldContainer }}\n      >\n        {placement === 'label' ? descEl : null}\n        <UI.Label\n          className={getUIClasses(uiLibrary, 'Label')}\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.5rem',\n            cursor: 'pointer',\n            ...customStyles.label,\n          }}\n        >\n          {controlNode}\n          {labelNode}\n        </UI.Label>\n        {placement === 'input' ? descEl : null}\n      </UI.Box>\n    )\n  }\n\n  // Select field renderer\n  const renderSelectField = (key, value, displayName, fieldTypeConfig) => {\n    const ctx = {\n      key,\n      value,\n      displayName,\n      fieldTypeConfig,\n      formData,\n      onChange: (val) => handleFieldChange(key, val),\n      UI,\n      props: { uiLibrary, customStyles, inlineLabels, ...props },\n    }\n    const labelEl =\n      (typeof customLabelRenderers?.[key] === 'function' && customLabelRenderers[key](ctx)) ||\n      (typeof customLabelRenderers?.select === 'function' && customLabelRenderers.select(ctx)) || (\n        <UI.Label className={getUIClasses(uiLibrary, 'Label')} style={{ ...customStyles.fieldLabel, marginBottom: inlineLabels ? 0 : '0.5rem' }}>\n          {displayName}\n        </UI.Label>\n      )\n    const controlEl =\n      (typeof customControlRenderers?.[key] === 'function' && customControlRenderers[key](ctx)) ||\n      (typeof customControlRenderers?.select === 'function' && customControlRenderers.select(ctx)) || (\n        <UI.Select\n          value={formData[key] || ''}\n          onChange={(e) => handleFieldChange(key, e.target.value)}\n          className={getUIClasses(uiLibrary, 'Select')}\n          style={{ [inlineLabels ? 'flex' : 'width']: inlineLabels ? 1 : '100%', ...customStyles.select }}\n        >\n          <option value=\"\">Select {displayName}</option>\n          {fieldTypeConfig.options?.map((option) => (\n            <option key={option} value={option}>\n              {option}\n            </option>\n          ))}\n        </UI.Select>\n      )\n    const { description, placement } = getDescriptionMeta(key, fieldTypeConfig)\n    const descEl = description ? (\n      <UI.Text className={getUIClasses(uiLibrary, 'Text')} style={{ fontSize: '12px', opacity: 0.8, marginTop: '0.25rem' }}>\n        {description}\n      </UI.Text>\n    ) : null\n    return (\n      <UI.Box\n        key={key}\n        className={getUIClasses(uiLibrary, 'Box')}\n        style={{ marginBottom: '1rem', ...customStyles.fieldContainer }}\n      >\n        {inlineLabels ? (\n          <UI.Box style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>\n            <UI.Box style={{ minWidth: '30%' }}>{labelEl}</UI.Box>\n            <UI.Box style={{ display: 'flex', flexDirection: 'column', flex: 1 }}>\n              {controlEl}\n              {descEl}\n            </UI.Box>\n          </UI.Box>\n        ) : (\n          <>\n            {labelEl}\n            {placement === 'label' ? descEl : null}\n            {controlEl}\n            {placement === 'input' ? descEl : null}\n          </>\n        )}\n      </UI.Box>\n    )\n  }\n\n  // Multi-select field renderer\n  const renderMultiSelectField = (key, value, displayName, fieldTypeConfig) => {\n    const selectedValues = Array.isArray(formData[key]) ? formData[key] : []\n    const { description, placement } = getDescriptionMeta(key, fieldTypeConfig)\n    const descEl = description ? (\n      <UI.Text className={getUIClasses(uiLibrary, 'Text')} style={{ fontSize: '12px', opacity: 0.8, marginTop: '0.25rem', marginBottom: placement === 'label' ? '0.5rem' : 0 }}>\n        {description}\n      </UI.Text>\n    ) : null\n\n    return (\n      <UI.Box\n        key={key}\n        className={getUIClasses(uiLibrary, 'Box')}\n        style={{ marginBottom: '1rem', ...customStyles.fieldContainer }}\n      >\n        <UI.Label\n          className={getUIClasses(uiLibrary, 'Label')}\n          style={{\n            display: 'block',\n            fontWeight: '600',\n            marginBottom: '0.5rem',\n            ...customStyles.fieldLabel,\n          }}\n        >\n          {displayName}\n        </UI.Label>\n        {placement === 'label' ? descEl : null}\n        <UI.Box style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n          {fieldTypeConfig.options?.map((option) => (\n            <UI.Label\n              key={option}\n              style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer' }}\n            >\n              <input\n                type=\"checkbox\"\n                checked={selectedValues.includes(option)}\n                onChange={(e) => {\n                  const newValues = e.target.checked\n                    ? [...selectedValues, option]\n                    : selectedValues.filter((v) => v !== option)\n                  handleFieldChange(key, newValues)\n                }}\n                style={customStyles.checkbox}\n              />\n              <UI.Text style={{ fontSize: '14px', ...customStyles.text }}>{option}</UI.Text>\n            </UI.Label>\n          ))}\n        </UI.Box>\n        {placement === 'input' ? descEl : null}\n      </UI.Box>\n    )\n  }\n\n  // Textarea field renderer\n  const renderTextareaField = (key, value, displayName, fieldTypeConfig) => {\n    const ctx = {\n      key,\n      value,\n      displayName,\n      fieldTypeConfig,\n      formData,\n      onChange: (val) => handleFieldChange(key, val),\n      UI,\n      props: { uiLibrary, customStyles, inlineLabels, ...props },\n    }\n    const labelEl =\n      (typeof customLabelRenderers?.[key] === 'function' && customLabelRenderers[key](ctx)) ||\n      (typeof customLabelRenderers?.textarea === 'function' && customLabelRenderers.textarea(ctx)) || (\n        <UI.Label className={getUIClasses(uiLibrary, 'Label')} style={{ ...customStyles.fieldLabel, marginBottom: inlineLabels ? 0 : '0.5rem' }}>\n          {displayName}\n        </UI.Label>\n      )\n    const controlEl =\n      (typeof customControlRenderers?.[key] === 'function' && customControlRenderers[key](ctx)) ||\n      (typeof customControlRenderers?.textarea === 'function' && customControlRenderers.textarea(ctx)) || (\n        <UI.Textarea\n          value={formData[key] || ''}\n          onChange={(e) => handleFieldChange(key, e.target.value)}\n          className={getUIClasses(uiLibrary, 'Textarea')}\n          style={{\n            [inlineLabels ? 'flex' : 'width']: inlineLabels ? 1 : '100%',\n            minHeight: `${(fieldTypeConfig.rows || 4) * 1.5}rem`,\n            ...customStyles.textarea,\n          }}\n        />\n      )\n    const { description, placement } = getDescriptionMeta(key, fieldTypeConfig)\n    const descEl = description ? (\n      <UI.Text className={getUIClasses(uiLibrary, 'Text')} style={{ fontSize: '12px', opacity: 0.8, marginTop: '0.25rem' }}>\n        {description}\n      </UI.Text>\n    ) : null\n    return (\n      <UI.Box\n        key={key}\n        className={getUIClasses(uiLibrary, 'Box')}\n        style={{ marginBottom: '1rem', ...customStyles.fieldContainer }}\n      >\n        {inlineLabels ? (\n          <UI.Box style={{ display: 'flex', alignItems: 'flex-start', gap: '0.75rem' }}>\n            <UI.Box style={{ minWidth: '30%' }}>{labelEl}</UI.Box>\n            <UI.Box style={{ display: 'flex', flexDirection: 'column', flex: 1 }}>\n              {controlEl}\n              {descEl}\n            </UI.Box>\n          </UI.Box>\n        ) : (\n          <>\n            {labelEl}\n            {placement === 'label' ? descEl : null}\n            {controlEl}\n            {placement === 'input' ? descEl : null}\n          </>\n        )}\n      </UI.Box>\n    )\n  }\n\n  // Special input field renderer (email, url, date, password)\n  const renderSpecialInputField = (key, value, displayName, fieldTypeConfig) => {\n    const ctx = {\n      key,\n      value,\n      displayName,\n      fieldTypeConfig,\n      formData,\n      onChange: (val) => handleFieldChange(key, val),\n      UI,\n      props: { uiLibrary, customStyles, inlineLabels, ...props },\n    }\n    const labelEl =\n      (typeof customLabelRenderers?.[key] === 'function' && customLabelRenderers[key](ctx)) ||\n      (typeof customLabelRenderers?.[fieldTypeConfig.type] === 'function' && customLabelRenderers[fieldTypeConfig.type](ctx)) || (\n        <UI.Label className={getUIClasses(uiLibrary, 'Label')} style={{ ...customStyles.fieldLabel, marginBottom: inlineLabels ? 0 : '0.5rem' }}>\n          {displayName}\n        </UI.Label>\n      )\n    const controlEl =\n      (typeof customControlRenderers?.[key] === 'function' && customControlRenderers[key](ctx)) ||\n      (typeof customControlRenderers?.[fieldTypeConfig.type] === 'function' && customControlRenderers[fieldTypeConfig.type](ctx)) || (\n        <UI.Input\n          type={fieldTypeConfig.type}\n          value={formData[key] || ''}\n          onChange={(e) => handleFieldChange(key, e.target.value)}\n          className={getUIClasses(uiLibrary, 'Input')}\n          style={{ [inlineLabels ? 'flex' : 'width']: inlineLabels ? 1 : '100%', ...customStyles.input }}\n        />\n      )\n    const descEl = fieldTypeConfig.description ? (\n      <UI.Text className={getUIClasses(uiLibrary, 'Text')} style={{ fontSize: '12px', opacity: 0.8, marginTop: inlineLabels ? '0.25rem' : '0.25rem', marginBottom: inlineLabels ? 0 : '0.25rem' }}>\n        {fieldTypeConfig.description}\n      </UI.Text>\n    ) : null\n    return (\n      <UI.Box\n        key={key}\n        className={getUIClasses(uiLibrary, 'Box')}\n        style={{ marginBottom: '1rem', ...customStyles.fieldContainer }}\n      >\n        {inlineLabels ? (\n          <UI.Box style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>\n            <UI.Box style={{ minWidth: '30%' }}>{labelEl}</UI.Box>\n            <UI.Box style={{ display: 'flex', flexDirection: 'column', flex: 1 }}>\n              {controlEl}\n              {descEl}\n            </UI.Box>\n          </UI.Box>\n        ) : (\n          <>\n            {labelEl}\n            {descEl}\n            {controlEl}\n          </>\n        )}\n      </UI.Box>\n    )\n  }\n\n  // Number field renderer\n  const renderNumberField = (key, value, displayName) => {\n    const ctx = {\n      key,\n      value,\n      displayName,\n      fieldTypeConfig: { type: 'number' },\n      formData,\n      onChange: (val) => handleFieldChange(key, val),\n      UI,\n      props: { uiLibrary, customStyles, inlineLabels, ...props },\n    }\n    const labelEl =\n      (typeof customLabelRenderers?.[key] === 'function' && customLabelRenderers[key](ctx)) ||\n      (typeof customLabelRenderers?.number === 'function' && customLabelRenderers.number(ctx)) || (\n        <UI.Label\n          className={getUIClasses(uiLibrary, 'Label')}\n          style={{ display: 'block', fontWeight: '600', marginBottom: inlineLabels ? 0 : '0.5rem', ...customStyles.fieldLabel }}\n        >\n          {displayName}\n        </UI.Label>\n      )\n    const controlEl =\n      (typeof customControlRenderers?.[key] === 'function' && customControlRenderers[key](ctx)) ||\n      (typeof customControlRenderers?.number === 'function' && customControlRenderers.number(ctx)) || (\n        <UI.Input\n          type=\"number\"\n          value={formData[key] || ''}\n          onChange={(e) => {\n            const val = parseFloat(e.target.value) || 0\n            handleFieldChange(key, val)\n          }}\n          className={getUIClasses(uiLibrary, 'Input')}\n          style={{ [inlineLabels ? 'flex' : 'width']: inlineLabels ? 1 : '100%', ...customStyles.input }}\n        />\n      )\n    const { description, placement } = getDescriptionMeta(key, { type: 'number', ...fieldConfig?.[key] })\n    const descEl = description ? (\n      <UI.Text className={getUIClasses(uiLibrary, 'Text')} style={{ fontSize: '12px', opacity: 0.8, marginTop: '0.25rem' }}>\n        {description}\n      </UI.Text>\n    ) : null\n    return (\n      <UI.Box\n        key={key}\n        className={getUIClasses(uiLibrary, 'Box')}\n        style={{ marginBottom: '1rem', ...customStyles.fieldContainer }}\n      >\n        {inlineLabels ? (\n          <UI.Box style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>\n            <UI.Box style={{ minWidth: '30%' }}>{labelEl}</UI.Box>\n            <UI.Box style={{ display: 'flex', flexDirection: 'column', flex: 1 }}>\n              {controlEl}\n              {descEl}\n            </UI.Box>\n          </UI.Box>\n        ) : (\n          <>\n            {labelEl}\n            {placement === 'label' ? descEl : null}\n            {controlEl}\n            {placement === 'input' ? descEl : null}\n          </>\n        )}\n      </UI.Box>\n    )\n  }\n\n  // Array field renderer\n  const renderArrayField = (key, value, displayName, fieldTypeConfig) => {\n    const arr = Array.isArray(value) ? value : []\n    const isStringArray = arr.every((v) => typeof v === 'string')\n\n    // If it's an array of strings, render as pill chips with add/delete\n    if (isStringArray) {\n      const tags = Array.isArray(formData[key]) ? formData[key] : []\n      const newTag = tagInputs[key] || ''\n\n      const addTag = (tag) => {\n        const t = (tag || '').trim()\n        if (!t) return\n        if (tags.includes(t)) return\n        handleFieldChange(key, [...tags, t])\n        setTagInputs((prev) => ({ ...prev, [key]: '' }))\n      }\n\n      const removeTag = (tag) => {\n        handleFieldChange(\n          key,\n          tags.filter((t) => t !== tag),\n        )\n      }\n\n      const onKeyDown = (e) => {\n        if (e.key === 'Enter' || e.key === ',') {\n          e.preventDefault()\n          addTag(newTag)\n        } else if (e.key === 'Backspace' && !newTag && tags.length) {\n          removeTag(tags[tags.length - 1])\n        }\n      }\n\n      const pillStyle = {\n        display: 'inline-flex',\n        alignItems: 'center',\n        gap: '6px',\n        padding: '4px 8px',\n        borderRadius: '999px',\n        background: '#eef2ff',\n        color: '#3730a3',\n        border: '1px solid #c7d2fe',\n        fontSize: '12px',\n      }\n\n      const pillCloseStyle = {\n        cursor: 'pointer',\n        border: 'none',\n        background: 'transparent',\n        color: '#4338ca',\n        fontSize: '14px',\n        lineHeight: 1,\n      }\n\n      const { description, placement } = getDescriptionMeta(key, fieldTypeConfig)\n      const descEl = description ? (\n        <UI.Text className={getUIClasses(uiLibrary, 'Text')} style={{ fontSize: '12px', opacity: 0.8, marginBottom: '0.5rem' }}>\n          {description}\n        </UI.Text>\n      ) : null\n      return (\n        <UI.Box\n          key={key}\n          className={getUIClasses(uiLibrary, 'Box')}\n          style={{ marginBottom: '1rem', ...customStyles.fieldContainer }}\n        >\n          <UI.Label\n            className={getUIClasses(uiLibrary, 'Label')}\n            style={{\n              display: 'block',\n              fontWeight: '600',\n              marginBottom: '0.5rem',\n              ...customStyles.fieldLabel,\n            }}\n          >\n            {displayName}\n          </UI.Label>\n          {placement === 'label' ? descEl : null}\n          <UI.Box style={{ display: 'flex', flexWrap: 'wrap', gap: '8px', alignItems: 'center' }}>\n            {tags.map((tag) => (\n              <span key={tag} style={pillStyle}>\n                {tag}\n                <button\n                  aria-label={`Remove ${tag}`}\n                  onClick={() => removeTag(tag)}\n                  style={pillCloseStyle}\n                >\n                  ×\n                </button>\n              </span>\n            ))}\n            <UI.Input\n              type=\"text\"\n              value={newTag}\n              onChange={(e) => setTagInputs((prev) => ({ ...prev, [key]: e.target.value }))}\n              onKeyDown={onKeyDown}\n              placeholder={fieldTypeConfig.placeholder || `Add ${displayName} and press Enter`}\n              className={getUIClasses(uiLibrary, 'Input')}\n              style={{ minWidth: '140px', flex: '0 1 auto', ...customStyles.input }}\n            />\n            <UI.Button\n              onClick={() => addTag(newTag)}\n              className={getUIClasses(uiLibrary, 'Button', 'secondary')}\n              style={{ padding: '6px 10px' }}\n            >\n              Add\n            </UI.Button>\n          </UI.Box>\n          {placement === 'input' ? descEl : null}\n        </UI.Box>\n      )\n    }\n\n    // Fallback: render as JSON textarea for non-string arrays\n    const { description, placement } = getDescriptionMeta(key, fieldTypeConfig)\n    const descEl = description ? (\n      <UI.Text className={getUIClasses(uiLibrary, 'Text')} style={{ fontSize: '12px', opacity: 0.8, marginBottom: '0.5rem' }}>\n        {description}\n      </UI.Text>\n    ) : null\n    return (\n      <UI.Box\n        key={key}\n        className={getUIClasses(uiLibrary, 'Box')}\n        style={{ marginBottom: '1rem', ...customStyles.fieldContainer }}\n      >\n        <UI.Label\n          className={getUIClasses(uiLibrary, 'Label')}\n          style={{\n            display: 'block',\n            fontWeight: '600',\n            marginBottom: '0.5rem',\n            ...customStyles.fieldLabel,\n          }}\n        >\n          {displayName} (Array)\n        </UI.Label>\n        {placement === 'label' ? descEl : null}\n        <UI.Textarea\n          value={JSON.stringify(value, null, 2)}\n          onChange={(e) => {\n            try {\n              const parsed = JSON.parse(e.target.value)\n              handleFieldChange(key, parsed)\n            } catch {\n              handleFieldChange(key, e.target.value)\n            }\n          }}\n          className={getUIClasses(uiLibrary, 'Textarea')}\n          style={{\n            fontFamily: 'monospace',\n            minHeight: '100px',\n            width: '100%',\n            ...customStyles.textarea,\n          }}\n        />\n        {placement === 'input' ? descEl : null}\n      </UI.Box>\n    )\n  }\n\n  // Tags field renderer (pill chips with delete and input to add)\n  const _renderTagsField = (key, value, displayName, fieldTypeConfig) => {\n    const tags = Array.isArray(formData[key]) ? formData[key] : []\n    const newTag = tagInputs[key] || ''\n\n    const addTag = (tag) => {\n      const t = (tag || '').trim()\n      if (!t) return\n      if (tags.includes(t)) return\n      handleFieldChange(key, [...tags, t])\n      setTagInputs((prev) => ({ ...prev, [key]: '' }))\n    }\n\n    const removeTag = (tag) => {\n      handleFieldChange(\n        key,\n        tags.filter((t) => t !== tag),\n      )\n    }\n\n    const onKeyDown = (e) => {\n      if (e.key === 'Enter' || e.key === ',') {\n        e.preventDefault()\n        addTag(newTag)\n      } else if (e.key === 'Backspace' && !newTag && tags.length) {\n        // quick remove last tag\n        removeTag(tags[tags.length - 1])\n      }\n    }\n\n    const pillStyle = {\n      display: 'inline-flex',\n      alignItems: 'center',\n      gap: '6px',\n      padding: '4px 8px',\n      borderRadius: '999px',\n      background: '#eef2ff',\n      color: '#3730a3',\n      border: '1px solid #c7d2fe',\n      fontSize: '12px',\n    }\n\n    const pillCloseStyle = {\n      cursor: 'pointer',\n      border: 'none',\n      background: 'transparent',\n      color: '#4338ca',\n      fontSize: '14px',\n      lineHeight: 1,\n    }\n\n    const { description, placement } = getDescriptionMeta(key, fieldTypeConfig)\n    const descEl = description ? (\n      <UI.Text className={getUIClasses(uiLibrary, 'Text')} style={{ fontSize: '12px', opacity: 0.8, marginBottom: '0.5rem' }}>\n        {description}\n      </UI.Text>\n    ) : null\n    return (\n      <UI.Box\n        key={key}\n        className={getUIClasses(uiLibrary, 'Box')}\n        style={{ marginBottom: '1rem', ...customStyles.fieldContainer }}\n      >\n        <UI.Label\n          className={getUIClasses(uiLibrary, 'Label')}\n          style={{\n            display: 'block',\n            fontWeight: '600',\n            marginBottom: '0.5rem',\n            ...customStyles.fieldLabel,\n          }}\n        >\n          {displayName}\n        </UI.Label>\n        {placement === 'label' ? descEl : null}\n        <UI.Box style={{ display: 'flex', flexWrap: 'wrap', gap: '8px', alignItems: 'center' }}>\n          {tags.map((tag) => (\n            <span key={tag} style={pillStyle}>\n              {tag}\n              <button\n                aria-label={`Remove ${tag}`}\n                onClick={() => removeTag(tag)}\n                style={pillCloseStyle}\n              >\n                ×\n              </button>\n            </span>\n          ))}\n          <UI.Input\n            type=\"text\"\n            value={newTag}\n            onChange={(e) => setTagInputs((prev) => ({ ...prev, [key]: e.target.value }))}\n            onKeyDown={onKeyDown}\n            placeholder={fieldTypeConfig.placeholder || 'Add tag and press Enter'}\n            className={getUIClasses(uiLibrary, 'Input')}\n            style={{ minWidth: '140px', flex: '0 1 auto', ...customStyles.input }}\n          />\n          <UI.Button\n            onClick={() => addTag(newTag)}\n            className={getUIClasses(uiLibrary, 'Button', 'secondary')}\n            style={{ padding: '6px 10px' }}\n          >\n            Add\n          </UI.Button>\n        </UI.Box>\n        {placement === 'input' ? descEl : null}\n      </UI.Box>\n    )\n  }\n\n  // Object field renderer\n  const renderObjectField = (key, value, displayName) => {\n    const { description, placement } = getDescriptionMeta(key, fieldConfig?.[key] || { type: 'object' })\n    const descEl = description ? (\n      <UI.Text className={getUIClasses(uiLibrary, 'Text')} style={{ fontSize: '12px', opacity: 0.8, marginBottom: '0.5rem' }}>\n        {description}\n      </UI.Text>\n    ) : null\n    return (\n      <UI.Box\n        key={key}\n        className={getUIClasses(uiLibrary, 'Box')}\n        style={{ marginBottom: '1rem', ...customStyles.fieldContainer }}\n      >\n        <UI.Label\n          className={getUIClasses(uiLibrary, 'Label')}\n          style={{\n            display: 'block',\n            fontWeight: '600',\n            marginBottom: '0.5rem',\n            ...customStyles.fieldLabel,\n          }}\n        >\n          {displayName} (Object)\n        </UI.Label>\n        {placement === 'label' ? descEl : null}\n        <UI.Textarea\n          value={JSON.stringify(value, null, 2)}\n          onChange={(e) => {\n            try {\n              const parsed = JSON.parse(e.target.value)\n              handleFieldChange(key, parsed)\n            } catch {\n              // Keep the raw string value for now\n              handleFieldChange(key, e.target.value)\n            }\n          }}\n          className={getUIClasses(uiLibrary, 'Textarea')}\n          style={{\n            fontFamily: 'monospace',\n            minHeight: '100px',\n            width: '100%',\n            ...customStyles.textarea,\n          }}\n        />\n        {placement === 'input' ? descEl : null}\n      </UI.Box>\n    )\n  }\n\n  // Text input field renderer (default)\n  const renderTextInputField = (key, value, displayName) => {\n    const ctx = {\n      key,\n      value,\n      displayName,\n      fieldTypeConfig: { type: 'text' },\n      formData,\n      onChange: (val) => handleFieldChange(key, val),\n      UI,\n      props: { uiLibrary, customStyles, inlineLabels, ...props },\n    }\n    const labelEl =\n      (typeof customLabelRenderers?.[key] === 'function' && customLabelRenderers[key](ctx)) ||\n      (typeof customLabelRenderers?.text === 'function' && customLabelRenderers.text(ctx)) || (\n        <UI.Label\n          className={getUIClasses(uiLibrary, 'Label')}\n          style={{ display: 'block', fontWeight: '600', marginBottom: inlineLabels ? 0 : '0.5rem', ...customStyles.fieldLabel }}\n        >\n          {displayName}\n        </UI.Label>\n      )\n    const controlEl =\n      (typeof customControlRenderers?.[key] === 'function' && customControlRenderers[key](ctx)) ||\n      (typeof customControlRenderers?.text === 'function' && customControlRenderers.text(ctx)) || (\n        <UI.Input\n          type=\"text\"\n          value={formData[key] || ''}\n          onChange={(e) => handleFieldChange(key, e.target.value)}\n          className={getUIClasses(uiLibrary, 'Input')}\n          style={{ [inlineLabels ? 'flex' : 'width']: inlineLabels ? 1 : '100%', ...customStyles.input }}\n        />\n      )\n    const { description, placement } = getDescriptionMeta(key, { type: 'text', ...fieldConfig?.[key] })\n    const descEl = description ? (\n      <UI.Text className={getUIClasses(uiLibrary, 'Text')} style={{ fontSize: '12px', opacity: 0.8, marginTop: '0.25rem' }}>\n        {description}\n      </UI.Text>\n    ) : null\n    return (\n      <UI.Box\n        key={key}\n        className={getUIClasses(uiLibrary, 'Box')}\n        style={{ marginBottom: '1rem', ...customStyles.fieldContainer }}\n      >\n        {inlineLabels ? (\n          <UI.Box style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>\n            <UI.Box style={{ minWidth: '30%' }}>{labelEl}</UI.Box>\n            <UI.Box style={{ display: 'flex', flexDirection: 'column', flex: 1 }}>\n              {controlEl}\n              {descEl}\n            </UI.Box>\n          </UI.Box>\n        ) : (\n          <>\n            {labelEl}\n            {placement === 'label' ? descEl : null}\n            {controlEl}\n            {placement === 'input' ? descEl : null}\n          </>\n        )}\n      </UI.Box>\n    )\n  }\n\n  // Function to render form fields in columns\n  const renderFormFields = () => {\n    // If sections prop is provided, render grouped sections first\n    if (Array.isArray(sections) && sections.length) {\n      const allKeys = Object.keys(formData)\n      const used = new Set()\n      const sectionBlocks = sections.map((sec, idx) => {\n        const secId = sec.id || `section-${idx}`\n        const listed = Array.isArray(sec.fields) ? sec.fields : []\n        listed.forEach((k) => used.add(k))\n        // Build section content honoring columns\n        const sectionKeys = listed.filter((k) => allKeys.includes(k))\n        const content = (() => {\n          if (columns <= 1) {\n            return (\n              <UI.VStack key={secId} style={{ gap: '1rem' }}>\n                {sectionKeys.map((k) => renderFormField(k, formData[k]))}\n              </UI.VStack>\n            )\n          }\n          const fieldsPerColumn = Math.ceil(sectionKeys.length / columns)\n          const columnGroups = []\n          for (let i = 0; i < columns; i++) {\n            const startIndex = i * fieldsPerColumn\n            const endIndex = Math.min(startIndex + fieldsPerColumn, sectionKeys.length)\n            columnGroups.push(sectionKeys.slice(startIndex, endIndex))\n          }\n          const gridStyles = {\n            display: 'grid',\n            gridTemplateColumns: `repeat(${columns}, 1fr)`,\n            gap: '2rem',\n            width: '100%',\n            ...customStyles.formGrid,\n          }\n          return (\n            <UI.Box key={secId} className={getUIClasses(uiLibrary, 'Box')} style={gridStyles}>\n              {columnGroups.map((group, idx) => (\n                <UI.VStack\n                  key={idx}\n                  className={getUIClasses(uiLibrary, 'VStack')}\n                  style={{ gap: '1rem', ...customStyles.formColumn }}\n                >\n                  {group.map((k) => renderFormField(k, formData[k]))}\n                </UI.VStack>\n              ))}\n            </UI.Box>\n          )\n        })()\n\n        const baselineOpen = !!(sec.defaultOpen || !sec.collapsible)\n        const open = sectionOpenIds.has(secId) ? !baselineOpen : baselineOpen\n        const toggle = () =>\n          setSectionOpenIds((prev) => {\n            const next = new Set(prev)\n            if (next.has(secId)) next.delete(secId)\n            else next.add(secId)\n            return next\n          })\n\n        return (\n          <UI.Box key={`wrap-${secId}`} style={{ marginBottom: '1.25rem' }}>\n            <UI.Box\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'space-between',\n                marginBottom: '0.5rem',\n              }}\n            >\n              <UI.Box style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                {sec.collapsible && (\n                  <button\n                    aria-label={`Toggle ${sec.title}`}\n                    onClick={toggle}\n                    style={{ border: 'none', background: 'transparent', cursor: 'pointer' }}\n                  >\n                    <span>{open ? '▼' : '▶'}</span>\n                  </button>\n                )}\n                <UI.Heading className={getUIClasses(uiLibrary, 'Heading')} style={{ margin: 0 }}>\n                  {sec.title}\n                </UI.Heading>\n              </UI.Box>\n              {sec.description && (\n                <UI.Text className={getUIClasses(uiLibrary, 'Text')} style={{ opacity: 0.8 }}>\n                  {sec.description}\n                </UI.Text>\n              )}\n            </UI.Box>\n            {(!sec.collapsible || open) && content}\n          </UI.Box>\n        )\n      })\n\n      // Unsectioned fields\n      let otherBlock = null\n      if (includeUnsectioned) {\n        const remaining = allKeys.filter((k) => !used.has(k))\n        if (remaining.length) {\n          const secId = 'unsectioned'\n          const baselineOpen = true\n          const open = sectionOpenIds.has(secId) ? !baselineOpen : baselineOpen\n          const toggle = () =>\n            setSectionOpenIds((prev) => {\n              const next = new Set(prev)\n              if (next.has(secId)) next.delete(secId)\n              else next.add(secId)\n              return next\n            })\n          otherBlock = (\n            <UI.Box key={`wrap-${secId}`} style={{ marginBottom: '1.25rem' }}>\n              <UI.Box\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'space-between',\n                  marginBottom: '0.5rem',\n                }}\n              >\n                <UI.Box style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                  <button\n                    aria-label={`Toggle ${unsectionedTitle}`}\n                    onClick={toggle}\n                    style={{ border: 'none', background: 'transparent', cursor: 'pointer' }}\n                  >\n                    <span>{open ? '▼' : '▶'}</span>\n                  </button>\n                  <UI.Heading className={getUIClasses(uiLibrary, 'Heading')} style={{ margin: 0 }}>\n                    {unsectionedTitle}\n                  </UI.Heading>\n                </UI.Box>\n              </UI.Box>\n              {open &&\n                (() => {\n                  if (columns <= 1) {\n                    return (\n                      <UI.VStack style={{ gap: '1rem' }}>\n                        {remaining.map((k) => renderFormField(k, formData[k]))}\n                      </UI.VStack>\n                    )\n                  }\n                  const fieldsPerColumn = Math.ceil(remaining.length / columns)\n                  const columnGroups = []\n                  for (let i = 0; i < columns; i++) {\n                    const startIndex = i * fieldsPerColumn\n                    const endIndex = Math.min(startIndex + fieldsPerColumn, remaining.length)\n                    columnGroups.push(remaining.slice(startIndex, endIndex))\n                  }\n                  const gridStyles = {\n                    display: 'grid',\n                    gridTemplateColumns: `repeat(${columns}, 1fr)`,\n                    gap: '2rem',\n                    width: '100%',\n                    ...customStyles.formGrid,\n                  }\n                  return (\n                    <UI.Box className={getUIClasses(uiLibrary, 'Box')} style={gridStyles}>\n                      {columnGroups.map((group, idx) => (\n                        <UI.VStack\n                          key={idx}\n                          className={getUIClasses(uiLibrary, 'VStack')}\n                          style={{ gap: '1rem', ...customStyles.formColumn }}\n                        >\n                          {group.map((k) => renderFormField(k, formData[k]))}\n                        </UI.VStack>\n                      ))}\n                    </UI.Box>\n                  )\n                })()}\n            </UI.Box>\n          )\n        }\n      }\n\n      return (\n        <UI.VStack\n          className={getUIClasses(uiLibrary, 'VStack')}\n          style={{ gap: '1rem', ...customStyles.formStack }}\n        >\n          {sectionBlocks}\n          {otherBlock}\n        </UI.VStack>\n      )\n    }\n\n    const formEntries = Object.entries(formData)\n\n    if (columns <= 1) {\n      // Single column layout (default)\n      return (\n        <UI.VStack\n          className={getUIClasses(uiLibrary, 'VStack')}\n          style={{ gap: '1rem', ...customStyles.formStack }}\n        >\n          {formEntries.map(([key, value]) => renderFormField(key, value))}\n        </UI.VStack>\n      )\n    }\n\n    // Multi-column layout\n    const fieldsPerColumn = Math.ceil(formEntries.length / columns)\n    const columnGroups = []\n\n    for (let i = 0; i < columns; i++) {\n      const startIndex = i * fieldsPerColumn\n      const endIndex = Math.min(startIndex + fieldsPerColumn, formEntries.length)\n      columnGroups.push(formEntries.slice(startIndex, endIndex))\n    }\n\n    const gridStyles = {\n      display: 'grid',\n      gridTemplateColumns: `repeat(${columns}, 1fr)`,\n      gap: '2rem',\n      width: '100%',\n      ...customStyles.formGrid,\n    }\n\n    return (\n      <UI.Box className={getUIClasses(uiLibrary, 'Box')} style={gridStyles}>\n        {columnGroups.map((columnFields, columnIndex) => (\n          <UI.VStack\n            key={columnIndex}\n            className={getUIClasses(uiLibrary, 'VStack')}\n            style={{ gap: '1rem', ...customStyles.formColumn }}\n          >\n            {columnFields.map(([key, value]) => renderFormField(key, value))}\n          </UI.VStack>\n        ))}\n      </UI.Box>\n    )\n  }\n\n  return (\n    <UI.Container\n      className={getUIClasses(uiLibrary, 'Container')}\n      style={customStyles.container}\n      {...props}\n    >\n      <UI.VStack\n        className={getUIClasses(uiLibrary, 'VStack')}\n        style={{ gap: '1rem', ...customStyles.stack }}\n      >\n        \n\n        {error && (\n          <UI.Alert\n            className={getUIClasses(uiLibrary, 'Alert', 'error')}\n            style={customStyles.alert}\n          >\n            <UI.Text style={customStyles.errorText}>{error}</UI.Text>\n          </UI.Alert>\n        )}\n\n        {Object.keys(formData).length > 0 && (\n          <UI.Card\n            className={getUIClasses(uiLibrary, 'Card')}\n            style={{ width: '100%', padding: '1rem', ...customStyles.formCard }}\n          >\n            {renderFormFields()}\n          </UI.Card>\n        )}\n\n        {showControls && Object.keys(formData).length > 0 && (\n          <UI.HStack\n            className={getUIClasses(uiLibrary, 'HStack')}\n            style={{ gap: '0.5rem', marginTop: '1rem', ...customStyles.controlButtons }}\n          >\n            <UI.Button\n              onClick={handleSave}\n              className={getUIClasses(uiLibrary, 'Button', 'default')}\n              style={customStyles.saveButton}\n            >\n              {saveButtonText}\n            </UI.Button>\n            <UI.Button\n              onClick={handleCancel}\n              className={getUIClasses(uiLibrary, 'Button', 'secondary')}\n              style={customStyles.cancelButton}\n            >\n              {cancelButtonText}\n            </UI.Button>\n          </UI.HStack>\n        )}\n      </UI.VStack>\n    </UI.Container>\n  )\n}\n\nexport default Fields\n"],"names":["getUIClasses","uiLibrary","arguments","length","undefined","component","variant","libraryClasses","tailwind","Container","Box","Button","default","secondary","Input","checkbox","Select","Textarea","Table","Thead","Tbody","Tr","Th","Td","Text","Heading","Stack","HStack","VStack","Card","Alert","error","success","warning","info","Badge","Grid","GridItem","Flex","Label","shadcn","componentClasses","_typeof","flattenObject","obj","prefix","flattened","key","Object","prototype","hasOwnProperty","call","newKey","concat","Array","isArray","assign","unflattenObject","flat","result","keys","split","current","i","getInputType","value","fieldConfig","_objectSpread","type","items","rows","includes","toLowerCase","startsWith","match","parseJsonSafely","jsonString","data","JSON","parse","message","getDisplayName","pop","replace","l","toUpperCase","trim","Fields","_ref","_classNames","styles","_styleProps","_ref$renderers","renderers","_ref$customFieldRende","customFieldRenderers","_ref$customInputRende","customInputRenderers","_ref$customControlRen","customControlRenderers","_ref$customLabelRende","customLabelRenderers","_ref$uiLibrary","onSave","onCancel","onFieldChange","_ref$saveButtonText","saveButtonText","_ref$cancelButtonText","cancelButtonText","_ref$initialJson","initialJson","_ref$customStyles","customStyles","_ref$showControls","showControls","_ref$inlineLabels","inlineLabels","_ref$columns","columns","_ref$fieldConfig","_ref$sections","sections","_ref$includeUnsection","includeUnsectioned","_ref$unsectionedTitle","unsectionedTitle","props","_objectWithoutProperties","_excluded","_useState2","_slicedToArray","useState","jsonInput","setJsonInput","_useState4","formData","setFormData","_useState6","originalFormData","setOriginalFormData","setParsedJson","_useState0","setError","_useState10","tagInputs","setTagInputs","_useState12","Set","sectionOpenIds","setSectionOpenIds","UI","renderKeyValueListField","displayName","fieldTypeConfig","originalIsArray","originalIsObjectMap","entries","map","_ref2","_ref3","set","forEach","r","k","add","from","commit","nextRows","handleFieldChange","nextObj","_r$key","_r$value","name","v","val","gridRow","display","gridTemplateColumns","repeat","gap","alignItems","padding","_getDescriptionMeta2","getDescriptionMeta","description","placement","descEl","_jsx","className","style","fontSize","opacity","marginBottom","children","_jsxs","fieldContainer","fontWeight","fieldLabel","showHeader","c","row","idx","_row$c","placeholder","onChange","e","rowIdx","colKey","target","next","_defineProperty","input","onClick","filter","_","removeRow","template","reduce","acc","_toConsumableArray","alignSelf","lib","_getUIClasses","_fieldTypeConfig$desc","_fieldTypeConfig$desc2","cfg","descriptionPlacement","parseJson","useCallback","useEffect","newFormData","nestedData","renderFormField","rendererCtx","fieldOverride","React","Fragment","typeOverride","renderCheckboxField","renderSelectField","ctx","labelEl","segment","controlEl","hstack","options","opt","_formData$key","selected","borderRadius","border","background","color","cursor","_getDescriptionMeta","marginTop","minWidth","flexDirection","flex","_Fragment","renderSegmentField","renderMultiSelectField","renderTextareaField","renderSpecialInputField","renderNumberField","renderSliderField","_renderTagsField","renderArrayField","renderObjectField","renderTextInputField","_fieldTypeConfig$min","_fieldTypeConfig$max","_fieldTypeConfig$step","_fieldTypeConfig$defa","min","max","step","_getDescriptionMeta3","label","Number","width","textAlign","labelNode","controlNode","checked","_getDescriptionMeta4","_fieldTypeConfig$opti","select","option","_getDescriptionMeta5","_fieldTypeConfig$opti2","selectedValues","_getDescriptionMeta6","newValues","text","textarea","_getDescriptionMeta7","number","parseFloat","_getDescriptionMeta8","every","tags","newTag","addTag","tag","t","prev","removeTag","pillStyle","pillCloseStyle","lineHeight","_getDescriptionMeta9","flexWrap","onKeyDown","preventDefault","_getDescriptionMeta0","stringify","parsed","_unused","fontFamily","minHeight","_getDescriptionMeta1","_getDescriptionMeta10","_unused2","_getDescriptionMeta11","container","stack","alert","errorText","formCard","allKeys","used","sectionBlocks","sec","secId","id","listed","fields","sectionKeys","content","fieldsPerColumn","Math","ceil","columnGroups","startIndex","endIndex","push","slice","gridStyles","formGrid","group","formColumn","baselineOpen","defaultOpen","collapsible","open","has","justifyContent","title","margin","otherBlock","remaining","formStack","formEntries","_ref4","_ref5","columnFields","columnIndex","_ref6","_ref7","renderFormFields","controlButtons","saveButton","cancelButton","spaces"],"mappings":"03FAkCaA,EAAe,WAA0D,IAAzDC,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,SAAUG,EAASH,UAAAC,OAAA,EAAAD,kBAAAE,EAAEE,EAAOJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,UA+FtE,GAAkB,WAAdD,EACF,MAAO,GAGT,IAAMM,EAlGW,CACfC,SAAU,CACRC,UAAW,yCACXC,IAAK,QACLC,OAAQ,CACNC,QACE,yNACFC,UACE,4MAEJC,MAAO,CACLF,QACE,kKACFG,SAAU,qEAEZC,OACE,6IACFC,SACE,kLACFC,MAAO,sCACPC,MAAO,aACPC,MAAO,oCACPC,GAAI,mBACJC,GAAI,iFACJC,GAAI,oDACJC,KAAM,gBACNC,QAAS,wCACTC,MAAO,YACPC,OAAQ,8BACRC,OAAQ,0BACRC,KAAM,iDACNC,MAAO,CACLC,MAAO,8DACPC,QAAS,oEACTC,QAAS,uEACTC,KAAM,kEAERC,MACE,oGACFC,KAAM,OACNC,SAAU,GACVC,KAAM,OACNC,MAAO,2CAETC,OAAQ,CACN/B,UAAW,yBACXC,IAAK,QACLC,OAAQ,CACNC,QACE,6UACFC,UACE,oVAEJC,MAAO,CACLF,QACE,+VACFG,SACE,iOAEJC,OACE,6PACFC,SACE,uSACFC,MAAO,gCACPC,MAAO,kBACPC,MAAO,6BACPC,GAAI,8EACJC,GAAI,mGACJC,GAAI,iDACJC,KAAM,gCACNC,QAAS,oDACTC,MAAO,0BACPC,OAAQ,iBACRC,OAAQ,0BACRC,KAAM,2DACNC,MAAO,CACLC,MACE,oPACFC,QACE,4JACFC,QACE,4JACFC,KAAM,6JAERC,MACE,yKACFC,KAAM,OACNC,SAAU,GACVC,KAAM,OACNC,MACE,+FAQ0BtC,GAChC,IAAKM,IAAmBA,EAAeF,GACrC,MAAO,GAGT,IAAMoC,EAAmBlC,EAAeF,GACxC,MAAgC,WAA5BqC,EAAOD,GACFA,EAAiBnC,IAAYmC,EAAgB,SAAY,GAG3DA,CACT,ECtIaE,EAAgB,SAACC,GAAqB,IAAhBC,EAAM3C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GACtC4C,EAAY,CAAA,EAEhB,IAAK,IAAIC,KAAOH,EACd,GAAII,OAAOC,UAAUC,eAAeC,KAAKP,EAAKG,GAAM,CAClD,IAAMK,EAASP,EAAM,GAAAQ,OAAMR,EAAM,KAAAQ,OAAIN,GAAQA,EAErB,WAApBL,EAAOE,EAAIG,KAAkC,OAAbH,EAAIG,IAAkBO,MAAMC,QAAQX,EAAIG,IAG1ED,EAAUM,GAAUR,EAAIG,GAFxBC,OAAOQ,OAAOV,EAAWH,EAAcC,EAAIG,GAAMK,GAIrD,CAGF,OAAON,CACT,EAOaW,EAAkB,SAACC,GAC9B,IAAMC,EAAS,CAAA,EAEf,IAAK,IAAIZ,KAAOW,EAAM,CAIpB,IAHA,IAAME,EAAOb,EAAIc,MAAM,KACnBC,EAAUH,EAELI,EAAI,EAAGA,EAAIH,EAAKzD,OAAS,EAAG4D,IAC9BD,EAAQF,EAAKG,MAChBD,EAAQF,EAAKG,IAAM,CAAA,GAErBD,EAAUA,EAAQF,EAAKG,IAGzBD,EAAQF,EAAKA,EAAKzD,OAAS,IAAMuD,EAAKX,EACxC,CAEA,OAAOY,CACT,EASaK,EAAe,SAACC,GAAsC,IAA/BlB,EAAG7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAAIgE,EAAWhE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAA,EAE1D,GAAIgE,EAAYnB,GACd,OAAAoB,EAAA,CAASC,KAAMF,EAAYnB,GAAKqB,MAASF,EAAYnB,IAIvD,GAAqB,kBAAVkB,EAAqB,MAAO,CAAEG,KAAM,YAC/C,GAAqB,iBAAVH,EAAoB,MAAO,CAAEG,KAAM,UAC9C,GAAId,MAAMC,QAAQU,GAAQ,MAAO,CAAEG,KAAM,QAASC,MAAOJ,GACzD,GAAqB,WAAjBvB,EAAOuB,IAAgC,OAAVA,EAAgB,MAAO,CAAEG,KAAM,UAGhE,GAAqB,iBAAVH,EAAoB,CAE7B,GAAIA,EAAM9D,OAAS,IAAK,MAAO,CAAEiE,KAAM,WAAYE,KAAM,GAGzD,GAAIL,EAAMM,SAAS,MAAQxB,EAAIyB,cAAcD,SAAS,SACpD,MAAO,CAAEH,KAAM,SAIjB,GAAIH,EAAMQ,WAAW,SAAW1B,EAAIyB,cAAcD,SAAS,OACzD,MAAO,CAAEH,KAAM,OAIjB,GAAIH,EAAMS,MAAM,wBAA0B3B,EAAIyB,cAAcD,SAAS,QACnE,MAAO,CAAEH,KAAM,QAIjB,GAAIrB,EAAIyB,cAAcD,SAAS,YAC7B,MAAO,CAAEH,KAAM,WAEnB,CAGA,MAAO,CAAEA,KAAM,OACjB,EAOaO,EAAkB,SAACC,GAC9B,IAEE,MAAO,CAAE5C,SAAS,EAAM6C,KADTC,KAAKC,MAAMH,GAE5B,CAAE,MAAO7C,GACP,MAAO,CAAEC,SAAS,EAAOD,MAAOA,EAAMiD,QACxC,CACF,EA0BaC,EAAiB,SAAClC,GAC7B,OAAOA,EACJc,MAAM,KACNqB,MACAC,QAAQ,WAAY,OACpBA,QAAQ,QAAS,KACjBA,QAAQ,QAAS,SAACC,GAAC,OAAKA,EAAEC,aAAa,GACvCC,MACL,iWCpHMC,EAAS,SAAHC,GA2BNA,EAzBJC,YAAgBD,EAChBE,OAAQC,IAAgBC,EAAAJ,EACxBK,UAAAA,OAAS,IAAAD,EAAG,CAAA,EAAEA,EAAAE,EAAAN,EAEdO,qBAAAA,OAAoB,IAAAD,EAAG,CAAA,EAAEA,EAAAE,EAAAR,EACzBS,qBAAAA,OAAoB,IAAAD,EAAG,CAAA,EAAEA,EAAAE,EAAAV,EACzBW,uBAAAA,OAAsB,IAAAD,EAAG,CAAA,EAAEA,EAAAE,EAAAZ,EAC3Ba,qBAAAA,OAAoB,IAAAD,EAAG,CAAA,EAAEA,EAAAE,EAAAd,EAEzBvF,UAAAA,OAAS,IAAAqG,EAAG,SAAQA,EACpBC,EAAMf,EAANe,OACAC,EAAQhB,EAARgB,SACAC,EAAajB,EAAbiB,cAAaC,EAAAlB,EACbmB,eAAAA,OAAc,IAAAD,EAAG,eAAcA,EAAAE,EAAApB,EAC/BqB,iBAAAA,OAAgB,IAAAD,EAAG,aAAYA,EAAAE,EAAAtB,EAC/BuB,YAAAA,OAAW,IAAAD,EAAG,GAAEA,EAAAE,EAAAxB,EAChByB,aAAAA,OAAY,IAAAD,EAAG,CAAA,EAAEA,EAAAE,EAAA1B,EACjB2B,aAAAA,OAAY,IAAAD,GAAOA,EAAAE,EAAA5B,EACnB6B,aAAAA,OAAY,IAAAD,GAAQA,EAAAE,EAAA9B,EACpB+B,QAAAA,OAAO,IAAAD,EAAG,EAACA,EAAAE,EAAAhC,EACXtB,YAAAA,OAAW,IAAAsD,EAAG,CAAA,EAAEA,EAAAC,EAAAjC,EAChBkC,SAAAA,OAAQ,IAAAD,EAAG,KAAIA,EAAAE,EAAAnC,EACfoC,mBAAAA,OAAkB,IAAAD,GAAQA,EAAAE,EAAArC,EAC1BsC,iBAAAA,OAAgB,IAAAD,EAAG,QAAOA,EACvBE,+WAAKC,CAAAxC,EAAAyC,GAK+CC,EAAAC,EAArBC,EAAAA,SAASrB,GAAY,GAAhDsB,GAASH,EAAA,GAAEI,GAAYJ,EAAA,GACcK,GAAAJ,EAAZC,EAAAA,SAAS,IAAG,GAArCI,GAAQD,GAAA,GAAEE,GAAWF,GAAA,GACgCG,GAAAP,EAAZC,EAAAA,SAAS,IAAG,GAArDO,GAAgBD,GAAA,GAAEE,GAAmBF,GAAA,GACnCG,GAA+BV,EAAdC,EAAAA,SAAS,MAAK,GAAlB,GACgBU,GAAAX,EAAZC,EAAAA,SAAS,IAAG,GAA/BrG,GAAK+G,GAAA,GAAEC,GAAQD,GAAA,GAEwBE,GAAAb,EAAZC,EAAAA,SAAS,IAAG,GAAvCa,GAASD,GAAA,GAAEE,GAAYF,GAAA,GAEuCG,GAAAhB,EAAzBC,EAAAA,SAAS,WAAA,OAAM,IAAIgB,GAAK,GAAC,GAA9DC,GAAcF,GAAA,GAAEG,GAAiBH,GAAA,GAGlCI,GAAK,CACT9I,UAAWoF,EAAUpF,WAAa,MAClCC,IAAKmF,EAAUnF,KAAO,MACtBC,OAAQkF,EAAUlF,QAAU,SAC5BG,MAAO+E,EAAU/E,OAAS,QAC1BE,OAAQ6E,EAAU7E,QAAU,SAC5BC,SAAU4E,EAAU5E,UAAY,WAChCO,KAAMqE,EAAUrE,MAAQ,OACxBC,QAASoE,EAAUpE,SAAW,KAC9BG,OAAQiE,EAAUjE,QAAU,MAC5BD,OAAQkE,EAAUlE,QAAU,MAC5BE,KAAMgE,EAAUhE,MAAQ,MACxBC,MAAO+D,EAAU/D,OAAS,MAC1BS,MAAOsD,EAAUtD,OAAS,SA8FtBiH,GAA0B,SAACzG,EAAKkB,EAAOwF,GAAsC,IAAzBC,EAAexJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAA,EACpEyJ,EAAkBrG,MAAMC,QAAQU,GAChC2F,GAAuBD,GAAoC,WAAjBjH,EAAOuB,IAAgC,OAAVA,EAGvEK,EACAqF,EAAwB1F,EACxB2F,EAA4B5G,OAAO6G,QAAQ5F,GAAO6F,IAAI,SAAAC,GAAA,IAAAC,EAAA7B,EAAA4B,EAAA,GAAM,MAAO,CAAEhH,IAAZiH,EAAA,GAAoB/F,MAAjB+F,EAAA,GAA2B,GACpF,GAILzC,EAAU,GACd,GAAIjD,EAAKnE,OAAQ,CACf,IAAM8J,EAAM,IAAIb,IAChB9E,EAAK4F,QAAQ,SAACC,GAAC,OAAKnH,OAAOY,KAAKuG,GAAK,CAAA,GAAID,QAAQ,SAACE,GAAC,OAAKH,EAAII,IAAID,EAAE,EAAC,GACnE7C,EAAUjE,MAAMgH,KAAKL,EACvB,MACE1C,EADSjE,MAAMC,QAAQmG,EAAgBnC,SAC7BmC,EAAgBnC,QAEhB,CAAC,MAAO,SAMpB,IAAMgD,EAAS,SAACC,GACd,GAAIb,EACFc,GAAkB1H,EAAKyH,QAClB,GAAIZ,EAAqB,CAC9B,IAAMc,EAAU,CAAA,EAChBF,EAASN,QAAQ,SAACC,GAAM,IAAAQ,EAAAC,EAChBR,EAAS,QAARO,EAAGR,EAAEpH,WAAG,IAAA4H,EAAAA,EAAIR,EAAEU,KACfC,EAAW,QAAVF,EAAGT,EAAElG,aAAK,IAAA2G,EAAAA,EAAIT,EAAEY,SACb3K,IAANgK,GAAyB,KAANA,IAAUM,EAAQN,GAAKU,EAChD,GACAL,GAAkB1H,EAAK2H,EACzB,MACED,GAAkB1H,EAAKyH,EAE3B,EAiBMQ,EAAU,CACdC,QAAS,OACTC,oBAAqB,GAAA7H,OAAG,OAAO8H,OAAO5D,EAAQpH,QAAO,QAAOmF,OAC5D8F,IAAK,SACLC,WAAY,SACZC,QAAS,WAGXC,EAAmCC,GAAmBzI,EAAK2G,GAAnD+B,EAAWF,EAAXE,YAAaC,EAASH,EAATG,UACfC,EAASF,EACbG,MAACrC,GAAG/H,KAAI,CAACqK,UAAW7L,GAAaC,EAAW,QAAS6L,MAAO,CAAEC,SAAU,OAAQC,QAAS,GAAKC,aAAc,UAAWC,SACpHT,IAED,KACJ,OACEU,EAAAA,KAAC5C,GAAG7I,IAAG,CAELmL,UAAW7L,GAAaC,EAAW,OACnC6L,MAAK3H,EAAA,CAAI8H,aAAc,QAAWhF,EAAamF,gBAAiBF,SAAA,CAEhEN,EAAAA,IAACrC,GAAGhH,MAAK,CACPsJ,UAAW7L,GAAaC,EAAW,SACnC6L,MAAK3H,EAAA,CACH8G,QAAS,QACToB,WAAY,MACZJ,aAAc,UACXhF,EAAaqF,YAChBJ,SAEDzC,IAEY,UAAdiC,EAAwBC,EAAS,MAGF,IAA/BjC,EAAgB6C,YACfJ,OAAC5C,GAAG7I,IAAG,CAACoL,MAAK3H,EAAAA,KAAO6G,GAAO,CAAA,EAAA,CAAEe,SAAU,OAAQC,QAAS,KAAME,UAC3D3E,EAAQuC,IAAI,SAAC0C,GAAC,OACbZ,EAAAA,IAACrC,GAAG/H,KAAI,CAAA0K,SAAmBM,GAAC,OAAAnJ,OAAPmJ,GAAkB,GAEzCZ,EAAAA,IAAA,OAAA,OAIJO,EAAAA,KAAC5C,GAAG3H,OAAM,CAACkK,MAAO,CAAEV,IAAK,UAAWc,SAAA,CACjC5H,EAAKwF,IAAI,SAAC2C,EAAKC,GAAG,OACjBP,EAAAA,KAAC5C,GAAG7I,IAAG,CAAuBoL,MAAOd,EAAQkB,UAC1C3E,EAAQuC,IAAI,SAAC0C,GAAC,IAAAG,EAAA,OACbf,EAAAA,IAACrC,GAAGzI,MAAK,CAEPsD,KAAK,OACLwI,YAAaJ,EACbvI,MAAe,QAAV0I,EAAEF,aAAG,EAAHA,EAAMD,UAAE,IAAAG,EAAAA,EAAI,GACnBE,SAAU,SAACC,GAAC,OAnENC,EAmEsBL,EAnEdM,EAmEmBR,EAnEXzB,EAmEc+B,EAAEG,OAAOhJ,MAlEnDiJ,EAAO5I,EAAKwF,IAAI,SAACK,EAAGpG,GAAC,OAAMA,IAAMgJ,EAAM5I,EAAAA,EAAA,CAAA,EAAQgG,GAAC,CAAA,EAAAgD,EAAA,CAAA,EAAGH,EAASjC,IAAQZ,CAAC,QAC3EI,EAAO2C,GAFU,IAACH,EAAQC,EAAQjC,EAC5BmC,CAkEyD,EACnDrB,UAAW7L,GAAaC,EAAW,SACnC6L,MAAO7E,EAAamG,OAAM,GAAA/J,OANlBN,EAAG,KAAAM,OAAIqJ,EAAG,KAAArJ,OAAImJ,GAOtB,GAEJZ,EAAAA,IAACrC,GAAG5I,OAAM,CACR,aAAA,UAAA0C,OAAsBoG,EAAW,SAAApG,OAAQqJ,EAAM,GAC/CW,QAAS,WAAF,OAhED,SAACX,GACjB,IAAMQ,EAAO5I,EAAKgJ,OAAO,SAACC,EAAGxJ,GAAC,OAAKA,IAAM2I,CAAG,GAC5CnC,EAAO2C,EACT,CA6D2BM,CAAUd,EAAI,EAC7Bb,UAAW7L,GAAaC,EAAW,SAAU,aAC7C6L,MAAO,CAAER,QAAS,YAAaY,SAChC,QAEW,GAAA7I,OAnBEN,EAAG,KAAAM,OAAIqJ,GAoBd,GAGXP,EAAAA,KAAC5C,GAAG5I,OAAM,CACR0M,QA/EO,WACb,IAAMI,EAAWlG,EAAQmG,OAAO,SAACC,EAAKnB,GAAC,OAAArI,EAAAA,EAAA,CAAA,EAAWwJ,MAAGR,EAAA,CAAA,EAAGX,EAAI,IAAE,EAAK,CAAA,GACnEjC,EAAM,GAAAlH,OAAAuK,EAAKtJ,GAAI,CAAEmJ,IACnB,EA6EQ5B,UAAW7L,GAAaC,EAAW,SAAU,WAC7C6L,MAAO,CAAE+B,UAAW,aAAcvC,QAAS,YAAaY,SAAA,CACzD,SACQzC,QAGI,UAAdiC,EAAwBC,EAAS,OA5D7B5I,EA+DX,EAGM/C,GAAe,SAAC8N,EAAKzN,EAAWC,GAAO,OAAKyN,EAAcD,EAAKzN,EAAWC,EAAQ,EAIlFkL,GAAqB,SAACzI,GAA8B,IAAAiL,EAAAC,EAAzBvE,EAAexJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAA,EAC3CgO,GAAMhK,aAAW,EAAXA,EAAcnB,KAAQ,CAAA,EAIlC,MAAO,CAAE0I,YAHsC,QAA9BuC,EAAGtE,EAAgB+B,mBAAW,IAAAuC,EAAAA,EAAIE,EAAIzC,YAGjCC,UADa,WADsB,QAAvCuC,EAAGvE,EAAgByE,4BAAoB,IAAAF,EAAAA,EAAIC,EAAIC,sBACpB,QAAU,QAEzD,EAEMC,GAAYC,EAAAA,YAChB,WAA4B,IACpB1K,EAASgB,EADNzE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAGmI,IAGZ,GAAI1E,EAAO3B,QAAS,CAClB6G,GAAclF,EAAOkB,MACrB,IAAM/B,EAAYH,EAAcgB,EAAOkB,MACvC4D,GAAY3F,GACZ8F,GAAmBzE,EAAA,GAAMrB,IACzBiG,GAAS,GACX,MACEA,GAASpF,EAAO5B,OAChB8G,GAAc,MACdJ,GAAY,CAAA,GACZG,GAAoB,CAAA,EAExB,EACA,CAACP,KAGHiG,EAAAA,UAAU,WACJvH,GACFuB,GAAavB,GACbqH,GAAUrH,IACe,KAAhBA,IAETuB,GAAa,IACbG,GAAY,CAAA,GACZG,GAAoB,CAAA,GACpBC,GAAc,MACdE,GAAS,IAEb,EAAG,CAAChC,EAAaqH,KAIjB,IAAM3D,GAAoB,SAAC1H,EAAKkB,GAC9B,IAAMsK,EAAWpK,EAAAA,EAAA,CAAA,EACZqE,IAAQ,CAAA,EAAA2E,EAAA,CAAA,EACVpK,EAAMkB,IAIT,GAFAwE,GAAY8F,GAER9H,EAAe,CACjB,IAAM+H,EAAa/K,EAAgB8K,GACnC9H,EAAc1D,EAAKkB,EAAOuK,EAC5B,CACF,EAgBMC,GAAkB,SAAC1L,EAAKkB,GAC5B,IAAMyF,EAAkB1F,EAAaC,EAAOlB,EAAKmB,GAC3CuF,EAAcxE,EAAelC,GAG7B2L,EAAc,CAClB3L,IAAAA,EACAkB,MAAAA,EACAwF,YAAAA,EACAC,gBAAAA,EACAlB,SAAAA,GACAqE,SAAU,SAAC9B,GAAG,OAAKN,GAAkB1H,EAAKgI,EAAI,EAC9CxB,GAAAA,GACAxB,MAAK5D,EAAA,CACHlE,UAAAA,EACAsG,OAAAA,EACAC,SAAAA,EACAC,cAAAA,EACAE,eAAAA,EACAE,iBAAAA,EACAE,YAAAA,EACAE,aAAAA,EACAE,aAAAA,EACAE,aAAAA,EACAE,QAAAA,EACArD,YAAAA,EACAwD,SAAAA,EACAE,mBAAAA,EACAE,iBAAAA,GACGC,IAKD4G,EAAgB5I,aAAoB,EAApBA,EAAuBhD,GAC7C,GAA6B,mBAAlB4L,EACT,OAAO/C,EAAAA,IAACgD,EAAMC,SAAQ,CAAA3C,SAAYyC,EAAcD,IAApB3L,GAI9B,IAAM+L,EAAe7I,aAAoB,EAApBA,EAAuByD,EAAgBtF,MAC5D,GAA4B,mBAAjB0K,EACT,OAAOlD,EAAAA,IAACgD,EAAMC,SAAQ,CAAA3C,SAAY4C,EAAaJ,IAAnB3L,GAI9B,OAAQ2G,EAAgBtF,MACtB,IAAK,WACH,OAAO2K,GAAoBhM,EAAKkB,EAAOwF,GACzC,IAAK,SACH,OAAOuF,GAAkBjM,EAAKkB,EAAOwF,EAAaC,GACpD,IAAK,UACH,OApWqB,SAAC3G,EAAKkB,EAAOwF,EAAaC,GACnD,IAAMuF,EAAM,CACVlM,IAAAA,EACAkB,MAAAA,EACAwF,YAAAA,EACAC,gBAAAA,EACAlB,SAAAA,GACAqE,SAAU,SAAC9B,GAAG,OAAKN,GAAkB1H,EAAKgI,EAAI,EAC9CxB,GAAAA,GACAxB,MAAK5D,EAAA,CAAIlE,UAAAA,EAAWgH,aAAAA,EAAcI,aAAAA,GAAiBU,IAG/CmH,EACoC,mBAAhC7I,aAAoB,EAApBA,EAAuBtD,KAAuBsD,EAAqBtD,GAAKkM,IACtC,mBAAlC5I,aAAoB,EAApBA,EAAsB8I,UAA0B9I,EAAqB8I,QAAQF,IACnFrD,EAAAA,IAACrC,GAAGhH,MAAK,CAACsJ,UAAW7L,GAAaC,EAAW,SAAU6L,MAAK3H,EAAAA,EAAA,CAAA,EAAO8C,EAAaqF,YAAU,GAAA,CAAEL,aAAc5E,EAAe,EAAI,WAAW6E,SACrIzC,IAID2F,EACsC,mBAAlCjJ,aAAsB,EAAtBA,EAAyBpD,KAAuBoD,EAAuBpD,GAAKkM,IACxC,mBAApC9I,aAAsB,EAAtBA,EAAwBgJ,UAA0BhJ,EAAuBgJ,QAAQF,IACvFrD,EAAAA,IAACrC,GAAG5H,OAAM,CACRkK,UAAW7L,GAAaC,EAAW,UACnC6L,MAAK3H,EAAAgJ,EAAAA,EAAAA,EAAA,GACF9F,EAAe,OAAS,QAAUA,EAAe,EAAI,QAAM,MACvD,UAAQ,WACH,QACPJ,EAAaoI,QAChBnD,UAEAxC,EAAgB4F,SAAW,IAAIxF,IAAI,SAACyF,GAAQ,IAAAC,EACtCC,GAAyB,QAAdD,EAAChH,GAASzF,UAAI,IAAAyM,EAAAA,EAAIvL,KAAWsL,EAC9C,OACE3D,EAAAA,IAACrC,GAAG5I,OAAM,CAERyD,KAAK,SACLiJ,QAAS,WAAF,OAAQ5C,GAAkB1H,EAAKwM,EAAI,EAC1C1D,UAAW7L,GAAaC,EAAW,SAAUwP,EAAW,UAAY,aACpE3D,MAAO,CACLR,QAAS,WACToE,aAAc,MACdC,OAAQF,EAAW,oDAAsD,4BACzEG,WAAYH,EAAW,sCAAwC,0BAC/DI,MAAOJ,EAAW,sCAAwC,UAC1DK,OAAQ,WACR5D,SAEDqD,GAbIA,EAgBX,KAINQ,EAAmCvE,GAAmBzI,EAAK2G,GAAnD+B,EAAWsE,EAAXtE,YAAaC,EAASqE,EAATrE,UACfC,EAASF,EACbG,MAACrC,GAAG/H,KAAI,CAACqK,UAAW7L,GAAaC,EAAW,QAAS6L,MAAO,CAAEC,SAAU,OAAQC,QAAS,GAAKgE,UAAW,WAAY9D,SAClHT,IAED,KAEJ,OACEG,EAAAA,IAACrC,GAAG7I,IAAG,CAELmL,UAAW7L,GAAaC,EAAW,OACnC6L,MAAK3H,EAAA,CAAI8H,aAAc,QAAWhF,EAAamF,gBAAiBF,SAE/D7E,EACC8E,OAAC5C,GAAG7I,IAAG,CAACoL,MAAO,CAAEb,QAAS,OAAQI,WAAY,SAAUD,IAAK,WAAYc,SAAA,CACvEN,EAAAA,IAACrC,GAAG7I,IAAG,CAACoL,MAAO,CAAEmE,SAAU,OAAQ/D,SAAEgD,IACrC/C,EAAAA,KAAC5C,GAAG7I,IAAG,CAACoL,MAAO,CAAEb,QAAS,OAAQiF,cAAe,SAAUC,KAAM,GAAIjE,SAAA,CAClEkD,EACAzD,QAILQ,EAAAA,KAAAiE,WAAA,CAAAlE,UACGgD,EACc,UAAdxD,EAAwBC,EAAS,KACjCyD,EACc,UAAd1D,EAAwBC,EAAS,SAjBjC5I,EAsBX,CA6QasN,CAAmBtN,EAAKkB,EAAOwF,EAAaC,GACrD,IAAK,eACH,OAAO4G,GAAuBvN,EAAKkB,EAAOwF,EAAaC,GACzD,IAAK,WACH,OAAO6G,GAAoBxN,EAAKkB,EAAOwF,EAAaC,GACtD,IAAK,QACL,IAAK,MACL,IAAK,OACL,IAAK,WACH,OAAO8G,GAAwBzN,EAAKkB,EAAOwF,EAAaC,GAC1D,IAAK,SACH,OAAO+G,GAAkB1N,EAAKkB,EAAOwF,GACvC,IAAK,SACH,OAAOiH,GAAkB3N,EAAKkB,EAAOwF,EAAaC,GACpD,IAAK,OACH,OAAOiH,GAAiB5N,EAAKkB,EAAOwF,EAAaC,GACnD,IAAK,iBACH,OAAOF,GAAwBzG,EAAKkB,EAAOwF,EAAaC,GAC1D,IAAK,QACH,OAAOkH,GAAiB7N,EAAKkB,EAAOwF,EAAaC,GACnD,IAAK,SACH,OAAOmH,GAAkB9N,EAAKkB,EAAOwF,GACvC,QACE,OAAOqH,GAAqB/N,EAAKkB,EAAOwF,GAE9C,EAGMiH,GAAoB,SAAC3N,EAAKkB,EAAOwF,EAAaC,GAAoB,IAAAqH,EAAAC,EAAAC,EAAAC,EAChEC,EAAyB,QAAtBJ,EAAGrH,EAAgByH,WAAG,IAAAJ,EAAAA,EAAI,EAC7BK,EAAyB,QAAtBJ,EAAGtH,EAAgB0H,WAAG,IAAAJ,EAAAA,EAAI,IAC7BK,EAA2B,QAAvBJ,EAAGvH,EAAgB2H,YAAI,IAAAJ,EAAAA,EAAI,EAC/BnN,EAAmC,iBAAlB0E,GAASzF,GAAoByF,GAASzF,WAAImO,EAAIxH,EAAe,eAAQ,IAAAwH,EAAAA,EAAIC,EAEhGG,EAAmC9F,GAAmBzI,EAAK2G,GAAnD+B,EAAW6F,EAAX7F,YAAaC,EAAS4F,EAAT5F,UACfC,EAASF,EACbG,MAACrC,GAAG/H,KAAI,CAACqK,UAAW7L,GAAaC,EAAW,QAAS6L,MAAO,CAAEC,SAAU,OAAQC,QAAS,GAAKgE,UAAW,UAAW/D,aAA4B,UAAdP,EAAwB,SAAW,GAAIQ,SACtKT,IAED,KACJ,OACEU,EAAAA,KAAC5C,GAAG7I,IAAG,CAELmL,UAAW7L,GAAaC,EAAW,OACnC6L,MAAK3H,EAAA,CAAI8H,aAAc,QAAWhF,EAAamF,gBAAiBF,SAAA,CAEhEN,EAAAA,IAACrC,GAAGhH,MAAK,CAACsJ,UAAW7L,GAAaC,EAAW,SAAU6L,MAAO7E,EAAasK,MAAMrF,SAC/EN,EAAAA,IAACrC,GAAG/H,KAAI,CAACqK,UAAW7L,GAAaC,EAAW,QAAS6L,MAAK3H,EAAA,CAAIkI,WAAY,OAAUpF,EAAaqF,YAAaJ,SAC3GzC,MAGU,UAAdiC,EAAwBC,EAAS,KAClCQ,EAAAA,KAAA,MAAA,CAAKL,MAAO,CAAEb,QAAS,OAAQI,WAAY,SAAUD,IAAK,WAAYc,UACpEN,EAAAA,IAAA,QAAA,CACExH,KAAK,QACL+M,IAAKA,EACLC,IAAKA,EACLC,KAAMA,EACNpN,MAAOH,EACP+I,SAAU,SAACC,GAAC,OAAKrC,GAAkB1H,EAAKyO,OAAO1E,EAAEG,OAAOhJ,OAAO,EAC/D4H,UAAW7L,GAAaC,EAAW,QAAS,SAC5C6L,MAAO,CAAE2F,MAAO,UAElB7F,EAAAA,IAACrC,GAAG/H,KAAI,CAACqK,UAAW7L,GAAaC,EAAW,QAAS6L,MAAO,CAAEmE,SAAU,OAAQyB,UAAW,SAAUxF,SAClGpI,OAGU,UAAd4H,EAAwBC,EAAS,OAzB7B5I,EA4BX,EAGMgM,GAAsB,SAAChM,EAAKkB,EAAOwF,GACvC,IAAMwF,EAAM,CACVlM,IAAAA,EACAkB,MAAAA,EACAwF,YAAAA,EACAC,gBAAiB,CAAEtF,KAAM,YACzBoE,SAAAA,GACAqE,SAAU,SAAC9B,GAAG,OAAKN,GAAkB1H,EAAKgI,EAAI,EAC9CxB,GAAAA,GACAxB,MAAK5D,EAAA,CAAIlE,UAAAA,EAAWgH,aAAAA,EAAcI,aAAAA,GAAiBU,IAE/C4J,EACoC,mBAAhCtL,aAAoB,EAApBA,EAAuBtD,KAAuBsD,EAAqBtD,GAAKkM,IACrC,mBAAnC5I,aAAoB,EAApBA,EAAsBtF,WAA2BsF,EAAqBtF,SAASkO,IACrFrD,EAAAA,IAACrC,GAAG/H,KAAI,CACNqK,UAAW7L,GAAaC,EAAW,QACnC6L,MAAK3H,EAAA,CAAIkI,WAAY,OAAUpF,EAAaqF,YAAaJ,SAExDzC,IAIDmI,EACsC,mBAAlCzL,eAAAA,EAAyBpD,KAAuBoD,EAAuBpD,GAAKkM,IACvC,mBAArC9I,aAAsB,EAAtBA,EAAwBpF,WAA2BoF,EAAuBpF,SAASkO,IACzFrD,EAAAA,IAAA,QAAA,CACExH,KAAK,WACLyN,QAASrJ,GAASzF,KAAQ,EAC1B8J,SAAU,SAACC,GAAC,OAAKrC,GAAkB1H,EAAK+J,EAAEG,OAAO4E,QAAQ,EACzDhG,UAAW7L,GAAaC,EAAW,QAAS,YAC5C6L,MAAO7E,EAAalG,WAI1B+Q,EAAmCtG,GAAmBzI,EAAGoB,EAAA,CAAIC,KAAM,YAAeF,aAAW,EAAXA,EAAcnB,KAAxF0I,EAAWqG,EAAXrG,YAAaC,EAASoG,EAATpG,UACfC,EAASF,EACbG,MAACrC,GAAG/H,KAAI,CAACqK,UAAW7L,GAAaC,EAAW,QAAS6L,MAAO,CAAEC,SAAU,OAAQC,QAAS,GAAKgE,UAAW,OAAQ9D,SAC9GT,IAED,KACJ,OACEU,EAAAA,KAAC5C,GAAG7I,IAAG,CAELmL,UAAW7L,GAAaC,EAAW,OACnC6L,MAAK3H,EAAA,CAAI8H,aAAc,QAAWhF,EAAamF,gBAAiBF,SAAA,CAEjD,UAAdR,EAAwBC,EAAS,KAClCQ,EAAAA,KAAC5C,GAAGhH,MAAK,CACPsJ,UAAW7L,GAAaC,EAAW,SACnC6L,MAAK3H,EAAA,CACH8G,QAAS,OACTI,WAAY,SACZD,IAAK,SACL0E,OAAQ,WACL7I,EAAasK,OAChBrF,SAAA,CAED0F,EACAD,KAEY,UAAdjG,EAAwBC,EAAS,OAlB7B5I,EAqBX,EAGMiM,GAAoB,SAACjM,EAAKkB,EAAOwF,EAAaC,GAAoB,IAAAqI,EAChE9C,EAAM,CACVlM,IAAAA,EACAkB,MAAAA,EACAwF,YAAAA,EACAC,gBAAAA,EACAlB,SAAAA,GACAqE,SAAU,SAAC9B,GAAG,OAAKN,GAAkB1H,EAAKgI,EAAI,EAC9CxB,GAAAA,GACAxB,MAAK5D,EAAA,CAAIlE,UAAAA,EAAWgH,aAAAA,EAAcI,aAAAA,GAAiBU,IAE/CmH,EACoC,mBAAhC7I,aAAoB,EAApBA,EAAuBtD,KAAuBsD,EAAqBtD,GAAKkM,IACvC,mBAAjC5I,aAAoB,EAApBA,EAAsB2L,SAAyB3L,EAAqB2L,OAAO/C,IACjFrD,EAAAA,IAACrC,GAAGhH,MAAK,CAACsJ,UAAW7L,GAAaC,EAAW,SAAU6L,MAAK3H,EAAAA,EAAA,CAAA,EAAO8C,EAAaqF,YAAU,GAAA,CAAEL,aAAc5E,EAAe,EAAI,WAAW6E,SACrIzC,IAGD2F,EACsC,mBAAlCjJ,aAAsB,EAAtBA,EAAyBpD,KAAuBoD,EAAuBpD,GAAKkM,IACzC,mBAAnC9I,aAAsB,EAAtBA,EAAwB6L,SAAyB7L,EAAuB6L,OAAO/C,IACrF9C,EAAAA,KAAC5C,GAAGvI,OAAM,CACRiD,MAAOuE,GAASzF,IAAQ,GACxB8J,SAAU,SAACC,GAAC,OAAKrC,GAAkB1H,EAAK+J,EAAEG,OAAOhJ,MAAM,EACvD4H,UAAW7L,GAAaC,EAAW,UACnC6L,MAAK3H,EAAAgJ,KAAK9F,EAAe,OAAS,QAAUA,EAAe,EAAI,QAAWJ,EAAa+K,QAAS9F,UAEhGC,EAAAA,KAAA,SAAA,CAAQlI,MAAM,GAAEiI,SAAA,CAAC,UAAQzC,KACD,QADsBsI,EAC7CrI,EAAgB4F,mBAAOyC,SAAvBA,EAAyBjI,IAAI,SAACmI,GAAM,OACnCrG,EAAAA,IAAA,SAAA,CAAqB3H,MAAOgO,EAAO/F,SAChC+F,GADUA,EAEJ,MAIjBC,EAAmC1G,GAAmBzI,EAAK2G,GAAnD+B,EAAWyG,EAAXzG,YAAaC,EAASwG,EAATxG,UACfC,EAASF,EACbG,MAACrC,GAAG/H,KAAI,CAACqK,UAAW7L,GAAaC,EAAW,QAAS6L,MAAO,CAAEC,SAAU,OAAQC,QAAS,GAAKgE,UAAW,WAAY9D,SAClHT,IAED,KACJ,OACEG,EAAAA,IAACrC,GAAG7I,IAAG,CAELmL,UAAW7L,GAAaC,EAAW,OACnC6L,MAAK3H,EAAA,CAAI8H,aAAc,QAAWhF,EAAamF,gBAAiBF,SAE/D7E,EACC8E,OAAC5C,GAAG7I,IAAG,CAACoL,MAAO,CAAEb,QAAS,OAAQI,WAAY,SAAUD,IAAK,WAAYc,SAAA,CACvEN,EAAAA,IAACrC,GAAG7I,IAAG,CAACoL,MAAO,CAAEmE,SAAU,OAAQ/D,SAAEgD,IACrC/C,EAAAA,KAAC5C,GAAG7I,IAAG,CAACoL,MAAO,CAAEb,QAAS,OAAQiF,cAAe,SAAUC,KAAM,GAAIjE,SAAA,CAClEkD,EACAzD,QAILQ,EAAAA,KAAAiE,WAAA,CAAAlE,UACGgD,EACc,UAAdxD,EAAwBC,EAAS,KACjCyD,EACc,UAAd1D,EAAwBC,EAAS,SAjBjC5I,EAsBX,EAGMuN,GAAyB,SAACvN,EAAKkB,EAAOwF,EAAaC,GAAoB,IAAAyI,EACrEC,EAAiB9O,MAAMC,QAAQiF,GAASzF,IAAQyF,GAASzF,GAAO,GACtEsP,EAAmC7G,GAAmBzI,EAAK2G,GAAnD+B,EAAW4G,EAAX5G,YAAaC,EAAS2G,EAAT3G,UACfC,EAASF,EACbG,MAACrC,GAAG/H,KAAI,CAACqK,UAAW7L,GAAaC,EAAW,QAAS6L,MAAO,CAAEC,SAAU,OAAQC,QAAS,GAAKgE,UAAW,UAAW/D,aAA4B,UAAdP,EAAwB,SAAW,GAAIQ,SACtKT,IAED,KAEJ,OACEU,EAAAA,KAAC5C,GAAG7I,IAAG,CAELmL,UAAW7L,GAAaC,EAAW,OACnC6L,MAAK3H,EAAA,CAAI8H,aAAc,QAAWhF,EAAamF,gBAAiBF,SAAA,CAEhEN,EAAAA,IAACrC,GAAGhH,MAAK,CACPsJ,UAAW7L,GAAaC,EAAW,SACnC6L,MAAK3H,EAAA,CACH8G,QAAS,QACToB,WAAY,MACZJ,aAAc,UACXhF,EAAaqF,YAChBJ,SAEDzC,IAEY,UAAdiC,EAAwBC,EAAS,KAClCC,EAAAA,IAACrC,GAAG7I,IAAG,CAACoL,MAAO,CAAEb,QAAS,OAAQiF,cAAe,SAAU9E,IAAK,UAAWc,SACjD,QADiDiG,EACxEzI,EAAgB4F,eAAO,IAAA6C,OAAA,EAAvBA,EAAyBrI,IAAI,SAACmI,GAAM,OACnC9F,EAAAA,KAAC5C,GAAGhH,MAAK,CAEPuJ,MAAO,CAAEb,QAAS,OAAQI,WAAY,SAAUD,IAAK,SAAU0E,OAAQ,WAAY5D,UAEnFN,EAAAA,IAAA,QAAA,CACExH,KAAK,WACLyN,QAASO,EAAe7N,SAAS0N,GACjCpF,SAAU,SAACC,GACT,IAAMwF,EAAYxF,EAAEG,OAAO4E,WAAOxO,OAAAuK,EAC1BwE,IAAgBH,IACpBG,EAAe9E,OAAO,SAACxC,GAAC,OAAKA,IAAMmH,CAAM,GAC7CxH,GAAkB1H,EAAKuP,EACzB,EACAxG,MAAO7E,EAAalG,WAEtB6K,EAAAA,IAACrC,GAAG/H,KAAI,CAACsK,MAAK3H,EAAA,CAAI4H,SAAU,QAAW9E,EAAasL,MAAOrG,SAAE+F,MAdxDA,EAeI,KAGA,UAAdvG,EAAwBC,EAAS,OArC7B5I,EAwCX,EAGMwN,GAAsB,SAACxN,EAAKkB,EAAOwF,EAAaC,GACpD,IAAMuF,EAAM,CACVlM,IAAAA,EACAkB,MAAAA,EACAwF,YAAAA,EACAC,gBAAAA,EACAlB,SAAAA,GACAqE,SAAU,SAAC9B,GAAG,OAAKN,GAAkB1H,EAAKgI,EAAI,EAC9CxB,GAAAA,GACAxB,MAAK5D,EAAA,CAAIlE,UAAAA,EAAWgH,aAAAA,EAAcI,aAAAA,GAAiBU,IAE/CmH,EACoC,mBAAhC7I,aAAoB,EAApBA,EAAuBtD,KAAuBsD,EAAqBtD,GAAKkM,IACrC,mBAAnC5I,aAAoB,EAApBA,EAAsBmM,WAA2BnM,EAAqBmM,SAASvD,IACrFrD,EAAAA,IAACrC,GAAGhH,MAAK,CAACsJ,UAAW7L,GAAaC,EAAW,SAAU6L,MAAK3H,EAAAA,EAAA,CAAA,EAAO8C,EAAaqF,YAAU,GAAA,CAAEL,aAAc5E,EAAe,EAAI,WAAW6E,SACrIzC,IAGD2F,EACsC,mBAAlCjJ,aAAsB,EAAtBA,EAAyBpD,KAAuBoD,EAAuBpD,GAAKkM,IACvC,mBAArC9I,aAAsB,EAAtBA,EAAwBqM,WAA2BrM,EAAuBqM,SAASvD,IACzFrD,EAAAA,IAACrC,GAAGtI,SAAQ,CACVgD,MAAOuE,GAASzF,IAAQ,GACxB8J,SAAU,SAACC,GAAC,OAAKrC,GAAkB1H,EAAK+J,EAAEG,OAAOhJ,MAAM,EACvD4H,UAAW7L,GAAaC,EAAW,YACnC6L,MAAK3H,EAAAgJ,EAAAA,EAAA,CAAA,EACF9F,EAAe,OAAS,QAAUA,EAAe,EAAI,QAAM,YAAA,GAAAhE,OAChB,KAA7BqG,EAAgBpF,MAAQ,GAAQ,QAC5C2C,EAAauL,YAIxBC,EAAmCjH,GAAmBzI,EAAK2G,GAAnD+B,EAAWgH,EAAXhH,YAAaC,EAAS+G,EAAT/G,UACfC,EAASF,EACbG,MAACrC,GAAG/H,KAAI,CAACqK,UAAW7L,GAAaC,EAAW,QAAS6L,MAAO,CAAEC,SAAU,OAAQC,QAAS,GAAKgE,UAAW,WAAY9D,SAClHT,IAED,KACJ,OACEG,EAAAA,IAACrC,GAAG7I,IAAG,CAELmL,UAAW7L,GAAaC,EAAW,OACnC6L,MAAK3H,EAAA,CAAI8H,aAAc,QAAWhF,EAAamF,gBAAiBF,SAE/D7E,EACC8E,OAAC5C,GAAG7I,IAAG,CAACoL,MAAO,CAAEb,QAAS,OAAQI,WAAY,aAAcD,IAAK,WAAYc,SAAA,CAC3EN,EAAAA,IAACrC,GAAG7I,IAAG,CAACoL,MAAO,CAAEmE,SAAU,OAAQ/D,SAAEgD,IACrC/C,EAAAA,KAAC5C,GAAG7I,IAAG,CAACoL,MAAO,CAAEb,QAAS,OAAQiF,cAAe,SAAUC,KAAM,GAAIjE,SAAA,CAClEkD,EACAzD,QAILQ,EAAAA,KAAAiE,WAAA,CAAAlE,UACGgD,EACc,UAAdxD,EAAwBC,EAAS,KACjCyD,EACc,UAAd1D,EAAwBC,EAAS,SAjBjC5I,EAsBX,EAGMyN,GAA0B,SAACzN,EAAKkB,EAAOwF,EAAaC,GACxD,IAAMuF,EAAM,CACVlM,IAAAA,EACAkB,MAAAA,EACAwF,YAAAA,EACAC,gBAAAA,EACAlB,SAAAA,GACAqE,SAAU,SAAC9B,GAAG,OAAKN,GAAkB1H,EAAKgI,EAAI,EAC9CxB,GAAAA,GACAxB,MAAK5D,EAAA,CAAIlE,UAAAA,EAAWgH,aAAAA,EAAcI,aAAAA,GAAiBU,IAE/CmH,EACoC,mBAAhC7I,aAAoB,EAApBA,EAAuBtD,KAAuBsD,EAAqBtD,GAAKkM,IACvB,mBAAjD5I,aAAoB,EAApBA,EAAuBqD,EAAgBtF,QAAwBiC,EAAqBqD,EAAgBtF,MAAM6K,IAChHrD,EAAAA,IAACrC,GAAGhH,MAAK,CAACsJ,UAAW7L,GAAaC,EAAW,SAAU6L,MAAK3H,EAAAA,EAAA,CAAA,EAAO8C,EAAaqF,YAAU,GAAA,CAAEL,aAAc5E,EAAe,EAAI,WAAW6E,SACrIzC,IAGD2F,EACsC,mBAAlCjJ,aAAsB,EAAtBA,EAAyBpD,KAAuBoD,EAAuBpD,GAAKkM,IACzB,mBAAnD9I,aAAsB,EAAtBA,EAAyBuD,EAAgBtF,QAAwB+B,EAAuBuD,EAAgBtF,MAAM6K,IACpHrD,EAAAA,IAACrC,GAAGzI,MAAK,CACPsD,KAAMsF,EAAgBtF,KACtBH,MAAOuE,GAASzF,IAAQ,GACxB8J,SAAU,SAACC,GAAC,OAAKrC,GAAkB1H,EAAK+J,EAAEG,OAAOhJ,MAAM,EACvD4H,UAAW7L,GAAaC,EAAW,SACnC6L,MAAK3H,EAAAgJ,EAAA,CAAA,EAAK9F,EAAe,OAAS,QAAUA,EAAe,EAAI,QAAWJ,EAAamG,SAGvFzB,EAASjC,EAAgB+B,YAC7BG,EAAAA,IAACrC,GAAG/H,KAAI,CAACqK,UAAW7L,GAAaC,EAAW,QAAS6L,MAAO,CAAEC,SAAU,OAAQC,QAAS,GAAKgE,UAA0B,UAAuB/D,aAAc5E,EAAe,EAAI,WAAY6E,SACzLxC,EAAgB+B,cAEjB,KACJ,OACEG,EAAAA,IAACrC,GAAG7I,IAAG,CAELmL,UAAW7L,GAAaC,EAAW,OACnC6L,MAAK3H,EAAA,CAAI8H,aAAc,QAAWhF,EAAamF,gBAAiBF,SAE/D7E,EACC8E,OAAC5C,GAAG7I,IAAG,CAACoL,MAAO,CAAEb,QAAS,OAAQI,WAAY,SAAUD,IAAK,WAAYc,SAAA,CACvEN,EAAAA,IAACrC,GAAG7I,IAAG,CAACoL,MAAO,CAAEmE,SAAU,OAAQ/D,SAAEgD,IACrC/C,EAAAA,KAAC5C,GAAG7I,IAAG,CAACoL,MAAO,CAAEb,QAAS,OAAQiF,cAAe,SAAUC,KAAM,GAAIjE,SAAA,CAClEkD,EACAzD,QAILQ,EAAAA,KAAAiE,WAAA,CAAAlE,SAAA,CACGgD,EACAvD,EACAyD,MAhBArM,EAqBX,EAGM0N,GAAoB,SAAC1N,EAAKkB,EAAOwF,GACrC,IAAMwF,EAAM,CACVlM,IAAAA,EACAkB,MAAAA,EACAwF,YAAAA,EACAC,gBAAiB,CAAEtF,KAAM,UACzBoE,SAAAA,GACAqE,SAAU,SAAC9B,GAAG,OAAKN,GAAkB1H,EAAKgI,EAAI,EAC9CxB,GAAAA,GACAxB,MAAK5D,EAAA,CAAIlE,UAAAA,EAAWgH,aAAAA,EAAcI,aAAAA,GAAiBU,IAE/CmH,EACoC,mBAAhC7I,aAAoB,EAApBA,EAAuBtD,KAAuBsD,EAAqBtD,GAAKkM,IACvC,mBAAjC5I,aAAoB,EAApBA,EAAsBqM,SAAyBrM,EAAqBqM,OAAOzD,IACjFrD,EAAAA,IAACrC,GAAGhH,MAAK,CACPsJ,UAAW7L,GAAaC,EAAW,SACnC6L,MAAK3H,EAAA,CAAI8G,QAAS,QAASoB,WAAY,MAAOJ,aAAc5E,EAAe,EAAI,UAAaJ,EAAaqF,YAAaJ,SAErHzC,IAGD2F,EACsC,mBAAlCjJ,aAAsB,EAAtBA,EAAyBpD,KAAuBoD,EAAuBpD,GAAKkM,IACzC,mBAAnC9I,aAAsB,EAAtBA,EAAwBuM,SAAyBvM,EAAuBuM,OAAOzD,IACrFrD,EAAAA,IAACrC,GAAGzI,MAAK,CACPsD,KAAK,SACLH,MAAOuE,GAASzF,IAAQ,GACxB8J,SAAU,SAACC,GACT,IAAM/B,EAAM4H,WAAW7F,EAAEG,OAAOhJ,QAAU,EAC1CwG,GAAkB1H,EAAKgI,EACzB,EACAc,UAAW7L,GAAaC,EAAW,SACnC6L,MAAK3H,EAAAgJ,EAAA,CAAA,EAAK9F,EAAe,OAAS,QAAUA,EAAe,EAAI,QAAWJ,EAAamG,SAG7FwF,EAAmCpH,GAAmBzI,EAAGoB,EAAA,CAAIC,KAAM,UAAaF,aAAW,EAAXA,EAAcnB,KAAtF0I,EAAWmH,EAAXnH,YAAaC,EAASkH,EAATlH,UACfC,EAASF,EACbG,MAACrC,GAAG/H,KAAI,CAACqK,UAAW7L,GAAaC,EAAW,QAAS6L,MAAO,CAAEC,SAAU,OAAQC,QAAS,GAAKgE,UAAW,WAAY9D,SAClHT,IAED,KACJ,OACEG,EAAAA,IAACrC,GAAG7I,IAAG,CAELmL,UAAW7L,GAAaC,EAAW,OACnC6L,MAAK3H,EAAA,CAAI8H,aAAc,QAAWhF,EAAamF,gBAAiBF,SAE/D7E,EACC8E,OAAC5C,GAAG7I,IAAG,CAACoL,MAAO,CAAEb,QAAS,OAAQI,WAAY,SAAUD,IAAK,WAAYc,SAAA,CACvEN,EAAAA,IAACrC,GAAG7I,IAAG,CAACoL,MAAO,CAAEmE,SAAU,OAAQ/D,SAAEgD,IACrC/C,EAAAA,KAAC5C,GAAG7I,IAAG,CAACoL,MAAO,CAAEb,QAAS,OAAQiF,cAAe,SAAUC,KAAM,GAAIjE,SAAA,CAClEkD,EACAzD,QAILQ,EAAAA,KAAAiE,WAAA,CAAAlE,UACGgD,EACc,UAAdxD,EAAwBC,EAAS,KACjCyD,EACc,UAAd1D,EAAwBC,EAAS,SAjBjC5I,EAsBX,EAGM6N,GAAmB,SAAC7N,EAAKkB,EAAOwF,EAAaC,GAKjD,IAJYpG,MAAMC,QAAQU,GAASA,EAAQ,IACjB4O,MAAM,SAAC/H,GAAC,MAAkB,iBAANA,CAAc,GAGzC,CACjB,IAAMgI,EAAOxP,MAAMC,QAAQiF,GAASzF,IAAQyF,GAASzF,GAAO,GACtDgQ,EAAS9J,GAAUlG,IAAQ,GAE3BiQ,EAAS,SAACC,GACd,IAAMC,GAAKD,GAAO,IAAI3N,OACjB4N,IACDJ,EAAKvO,SAAS2O,KAClBzI,GAAkB1H,EAAG,GAAAM,OAAAuK,EAAMkF,GAAI,CAAEI,KACjChK,GAAa,SAACiK,GAAI,OAAAhP,EAAAA,EAAA,CAAA,EAAWgP,MAAIhG,EAAA,CAAA,EAAGpK,EAAM,IAAE,IAC9C,EAEMqQ,EAAY,SAACH,GACjBxI,GACE1H,EACA+P,EAAKxF,OAAO,SAAC4F,GAAC,OAAKA,IAAMD,CAAG,GAEhC,EAWMI,EAAY,CAChBpI,QAAS,cACTI,WAAY,SACZD,IAAK,MACLE,QAAS,UACToE,aAAc,QACdE,WAAY,UACZC,MAAO,UACPF,OAAQ,oBACR5D,SAAU,QAGNuH,EAAiB,CACrBxD,OAAQ,UACRH,OAAQ,OACRC,WAAY,cACZC,MAAO,UACP9D,SAAU,OACVwH,WAAY,GAGdC,EAAmChI,GAAmBzI,EAAK2G,GAAnD+B,EAAW+H,EAAX/H,YAAaC,EAAS8H,EAAT9H,UACfC,EAASF,EACbG,MAACrC,GAAG/H,KAAI,CAACqK,UAAW7L,GAAaC,EAAW,QAAS6L,MAAO,CAAEC,SAAU,OAAQC,QAAS,GAAKC,aAAc,UAAWC,SACpHT,IAED,KACJ,OACEU,EAAAA,KAAC5C,GAAG7I,IAAG,CAELmL,UAAW7L,GAAaC,EAAW,OACnC6L,MAAK3H,EAAA,CAAI8H,aAAc,QAAWhF,EAAamF,gBAAiBF,SAAA,CAEhEN,EAAAA,IAACrC,GAAGhH,MAAK,CACPsJ,UAAW7L,GAAaC,EAAW,SACnC6L,MAAK3H,EAAA,CACH8G,QAAS,QACToB,WAAY,MACZJ,aAAc,UACXhF,EAAaqF,YAChBJ,SAEDzC,IAEY,UAAdiC,EAAwBC,EAAS,KAClCQ,EAAAA,KAAC5C,GAAG7I,IAAG,CAACoL,MAAO,CAAEb,QAAS,OAAQwI,SAAU,OAAQrI,IAAK,MAAOC,WAAY,UAAWa,UACpF4G,EAAKhJ,IAAI,SAACmJ,GAAG,OACZ9G,EAAAA,KAAA,OAAA,CAAgBL,MAAOuH,EAAUnH,SAAA,CAC9B+G,EACDrH,EAAAA,IAAA,SAAA,CACE,aAAA,UAAAvI,OAAsB4P,GACtB5F,QAAS,WAAF,OAAQ+F,EAAUH,EAAI,EAC7BnH,MAAOwH,EAAepH,SACvB,QANQ+G,EASJ,GAETrH,EAAAA,IAACrC,GAAGzI,MAAK,CACPsD,KAAK,OACLH,MAAO8O,EACPlG,SAAU,SAACC,GAAC,OAAK5D,GAAa,SAACiK,GAAI,OAAAhP,EAAAA,EAAA,GAAWgP,GAAI,CAAA,EAAAhG,EAAA,CAAA,EAAGpK,EAAM+J,EAAEG,OAAOhJ,OAAK,EAAI,EAC7EyP,UAvEU,SAAC5G,GACH,UAAVA,EAAE/J,KAA6B,MAAV+J,EAAE/J,KACzB+J,EAAE6G,iBACFX,EAAOD,IACY,cAAVjG,EAAE/J,MAAwBgQ,GAAUD,EAAK3S,QAClDiT,EAAUN,EAAKA,EAAK3S,OAAS,GAEjC,EAiEQyM,YAAalD,EAAgBkD,oBAAWvJ,OAAWoG,EAAW,oBAC9DoC,UAAW7L,GAAaC,EAAW,SACnC6L,MAAK3H,EAAA,CAAI8L,SAAU,QAASE,KAAM,YAAelJ,EAAamG,SAEhExB,EAAAA,IAACrC,GAAG5I,OAAM,CACR0M,QAAS,WAAF,OAAQ2F,EAAOD,EAAO,EAC7BlH,UAAW7L,GAAaC,EAAW,SAAU,aAC7C6L,MAAO,CAAER,QAAS,YAAaY,SAChC,WAIY,UAAdR,EAAwBC,EAAS,OA9C7B5I,EAiDX,CAGA,IAAA6Q,EAAmCpI,GAAmBzI,EAAK2G,GAAnD+B,EAAWmI,EAAXnI,YAAaC,EAASkI,EAATlI,UACfC,EAASF,EACbG,MAACrC,GAAG/H,KAAI,CAACqK,UAAW7L,GAAaC,EAAW,QAAS6L,MAAO,CAAEC,SAAU,OAAQC,QAAS,GAAKC,aAAc,UAAWC,SACpHT,IAED,KACJ,OACEU,EAAAA,KAAC5C,GAAG7I,IAAG,CAELmL,UAAW7L,GAAaC,EAAW,OACnC6L,MAAK3H,EAAA,CAAI8H,aAAc,QAAWhF,EAAamF,gBAAiBF,SAAA,CAEhEC,EAAAA,KAAC5C,GAAGhH,MAAK,CACPsJ,UAAW7L,GAAaC,EAAW,SACnC6L,MAAK3H,EAAA,CACH8G,QAAS,QACToB,WAAY,MACZJ,aAAc,UACXhF,EAAaqF,YAChBJ,SAAA,CAEDzC,EAAY,cAEA,UAAdiC,EAAwBC,EAAS,KAClCC,EAAAA,IAACrC,GAAGtI,SAAQ,CACVgD,MAAOa,KAAK+O,UAAU5P,EAAO,KAAM,GACnC4I,SAAU,SAACC,GACT,IACE,IAAMgH,EAAShP,KAAKC,MAAM+H,EAAEG,OAAOhJ,OACnCwG,GAAkB1H,EAAK+Q,EACzB,CAAE,MAAAC,GACAtJ,GAAkB1H,EAAK+J,EAAEG,OAAOhJ,MAClC,CACF,EACA4H,UAAW7L,GAAaC,EAAW,YACnC6L,MAAK3H,EAAA,CACH6P,WAAY,YACZC,UAAW,QACXxC,MAAO,QACJxK,EAAauL,YAGL,UAAd9G,EAAwBC,EAAS,OAlC7B5I,EAqCX,EAGM4N,GAAmB,SAAC5N,EAAKkB,EAAOwF,EAAaC,GACjD,IAAMoJ,EAAOxP,MAAMC,QAAQiF,GAASzF,IAAQyF,GAASzF,GAAO,GACtDgQ,EAAS9J,GAAUlG,IAAQ,GAE3BiQ,EAAS,SAACC,GACd,IAAMC,GAAKD,GAAO,IAAI3N,OACjB4N,IACDJ,EAAKvO,SAAS2O,KAClBzI,GAAkB1H,EAAG,GAAAM,OAAAuK,EAAMkF,GAAI,CAAEI,KACjChK,GAAa,SAACiK,GAAI,OAAAhP,EAAAA,EAAA,CAAA,EAAWgP,MAAIhG,EAAA,CAAA,EAAGpK,EAAM,IAAE,IAC9C,EAEMqQ,EAAY,SAACH,GACjBxI,GACE1H,EACA+P,EAAKxF,OAAO,SAAC4F,GAAC,OAAKA,IAAMD,CAAG,GAEhC,EAYMI,EAAY,CAChBpI,QAAS,cACTI,WAAY,SACZD,IAAK,MACLE,QAAS,UACToE,aAAc,QACdE,WAAY,UACZC,MAAO,UACPF,OAAQ,oBACR5D,SAAU,QAGNuH,EAAiB,CACrBxD,OAAQ,UACRH,OAAQ,OACRC,WAAY,cACZC,MAAO,UACP9D,SAAU,OACVwH,WAAY,GAGdW,EAAmC1I,GAAmBzI,EAAK2G,GAAnD+B,EAAWyI,EAAXzI,YAAaC,EAASwI,EAATxI,UACfC,EAASF,EACbG,MAACrC,GAAG/H,KAAI,CAACqK,UAAW7L,GAAaC,EAAW,QAAS6L,MAAO,CAAEC,SAAU,OAAQC,QAAS,GAAKC,aAAc,UAAWC,SACpHT,IAED,KACJ,OACEU,EAAAA,KAAC5C,GAAG7I,IAAG,CAELmL,UAAW7L,GAAaC,EAAW,OACnC6L,MAAK3H,EAAA,CAAI8H,aAAc,QAAWhF,EAAamF,gBAAiBF,SAAA,CAEhEN,EAAAA,IAACrC,GAAGhH,MAAK,CACPsJ,UAAW7L,GAAaC,EAAW,SACnC6L,MAAK3H,EAAA,CACH8G,QAAS,QACToB,WAAY,MACZJ,aAAc,UACXhF,EAAaqF,YAChBJ,SAEDzC,IAEY,UAAdiC,EAAwBC,EAAS,KAClCQ,EAAAA,KAAC5C,GAAG7I,IAAG,CAACoL,MAAO,CAAEb,QAAS,OAAQwI,SAAU,OAAQrI,IAAK,MAAOC,WAAY,UAAWa,UACpF4G,EAAKhJ,IAAI,SAACmJ,GAAG,OACZ9G,EAAAA,KAAA,OAAA,CAAgBL,MAAOuH,EAAUnH,SAAA,CAC9B+G,EACDrH,EAAAA,IAAA,SAAA,CACE,aAAA,UAAAvI,OAAsB4P,GACtB5F,QAAS,WAAF,OAAQ+F,EAAUH,EAAI,EAC7BnH,MAAOwH,EAAepH,SACvB,QANQ+G,EASJ,GAETrH,EAAAA,IAACrC,GAAGzI,MAAK,CACPsD,KAAK,OACLH,MAAO8O,EACPlG,SAAU,SAACC,GAAC,OAAK5D,GAAa,SAACiK,GAAI,OAAAhP,EAAAA,EAAA,GAAWgP,GAAI,CAAA,EAAAhG,EAAA,CAAA,EAAGpK,EAAM+J,EAAEG,OAAOhJ,OAAK,EAAI,EAC7EyP,UAxEU,SAAC5G,GACH,UAAVA,EAAE/J,KAA6B,MAAV+J,EAAE/J,KACzB+J,EAAE6G,iBACFX,EAAOD,IACY,cAAVjG,EAAE/J,MAAwBgQ,GAAUD,EAAK3S,QAElDiT,EAAUN,EAAKA,EAAK3S,OAAS,GAEjC,EAiEQyM,YAAalD,EAAgBkD,aAAe,0BAC5Cf,UAAW7L,GAAaC,EAAW,SACnC6L,MAAK3H,EAAA,CAAI8L,SAAU,QAASE,KAAM,YAAelJ,EAAamG,SAEhExB,EAAAA,IAACrC,GAAG5I,OAAM,CACR0M,QAAS,WAAF,OAAQ2F,EAAOD,EAAO,EAC7BlH,UAAW7L,GAAaC,EAAW,SAAU,aAC7C6L,MAAO,CAAER,QAAS,YAAaY,SAChC,WAIY,UAAdR,EAAwBC,EAAS,OA9C7B5I,EAiDX,EAGM8N,GAAoB,SAAC9N,EAAKkB,EAAOwF,GACrC,IAAA0K,EAAmC3I,GAAmBzI,GAAKmB,aAAW,EAAXA,EAAcnB,KAAQ,CAAEqB,KAAM,WAAjFqH,EAAW0I,EAAX1I,YAAaC,EAASyI,EAATzI,UACfC,EAASF,EACbG,MAACrC,GAAG/H,KAAI,CAACqK,UAAW7L,GAAaC,EAAW,QAAS6L,MAAO,CAAEC,SAAU,OAAQC,QAAS,GAAKC,aAAc,UAAWC,SACpHT,IAED,KACJ,OACEU,EAAAA,KAAC5C,GAAG7I,IAAG,CAELmL,UAAW7L,GAAaC,EAAW,OACnC6L,MAAK3H,EAAA,CAAI8H,aAAc,QAAWhF,EAAamF,gBAAiBF,SAAA,CAEhEC,EAAAA,KAAC5C,GAAGhH,MAAK,CACPsJ,UAAW7L,GAAaC,EAAW,SACnC6L,MAAK3H,EAAA,CACH8G,QAAS,QACToB,WAAY,MACZJ,aAAc,UACXhF,EAAaqF,YAChBJ,SAAA,CAEDzC,EAAY,eAEA,UAAdiC,EAAwBC,EAAS,KAClCC,EAAAA,IAACrC,GAAGtI,SAAQ,CACVgD,MAAOa,KAAK+O,UAAU5P,EAAO,KAAM,GACnC4I,SAAU,SAACC,GACT,IACE,IAAMgH,EAAShP,KAAKC,MAAM+H,EAAEG,OAAOhJ,OACnCwG,GAAkB1H,EAAK+Q,EACzB,CAAE,MAAAM,GAEA3J,GAAkB1H,EAAK+J,EAAEG,OAAOhJ,MAClC,CACF,EACA4H,UAAW7L,GAAaC,EAAW,YACnC6L,MAAK3H,EAAA,CACH6P,WAAY,YACZC,UAAW,QACXxC,MAAO,QACJxK,EAAauL,YAGL,UAAd9G,EAAwBC,EAAS,OAnC7B5I,EAsCX,EAGM+N,GAAuB,SAAC/N,EAAKkB,EAAOwF,GACxC,IAAMwF,EAAM,CACVlM,IAAAA,EACAkB,MAAAA,EACAwF,YAAAA,EACAC,gBAAiB,CAAEtF,KAAM,QACzBoE,SAAAA,GACAqE,SAAU,SAAC9B,GAAG,OAAKN,GAAkB1H,EAAKgI,EAAI,EAC9CxB,GAAAA,GACAxB,MAAK5D,EAAA,CAAIlE,UAAAA,EAAWgH,aAAAA,EAAcI,aAAAA,GAAiBU,IAE/CmH,EACoC,mBAAhC7I,aAAoB,EAApBA,EAAuBtD,KAAuBsD,EAAqBtD,GAAKkM,IACzC,mBAA/B5I,aAAoB,EAApBA,EAAsBkM,OAAuBlM,EAAqBkM,KAAKtD,IAC7ErD,EAAAA,IAACrC,GAAGhH,MAAK,CACPsJ,UAAW7L,GAAaC,EAAW,SACnC6L,MAAK3H,EAAA,CAAI8G,QAAS,QAASoB,WAAY,MAAOJ,aAAc5E,EAAe,EAAI,UAAaJ,EAAaqF,YAAaJ,SAErHzC,IAGD2F,EACsC,mBAAlCjJ,aAAsB,EAAtBA,EAAyBpD,KAAuBoD,EAAuBpD,GAAKkM,IAC3C,mBAAjC9I,aAAsB,EAAtBA,EAAwBoM,OAAuBpM,EAAuBoM,KAAKtD,IACjFrD,EAAAA,IAACrC,GAAGzI,MAAK,CACPsD,KAAK,OACLH,MAAOuE,GAASzF,IAAQ,GACxB8J,SAAU,SAACC,GAAC,OAAKrC,GAAkB1H,EAAK+J,EAAEG,OAAOhJ,MAAM,EACvD4H,UAAW7L,GAAaC,EAAW,SACnC6L,MAAK3H,EAAAgJ,EAAA,CAAA,EAAK9F,EAAe,OAAS,QAAUA,EAAe,EAAI,QAAWJ,EAAamG,SAG7FiH,EAAmC7I,GAAmBzI,EAAGoB,EAAA,CAAIC,KAAM,QAAWF,aAAW,EAAXA,EAAcnB,KAApF0I,EAAW4I,EAAX5I,YAAaC,EAAS2I,EAAT3I,UACfC,EAASF,EACbG,MAACrC,GAAG/H,KAAI,CAACqK,UAAW7L,GAAaC,EAAW,QAAS6L,MAAO,CAAEC,SAAU,OAAQC,QAAS,GAAKgE,UAAW,WAAY9D,SAClHT,IAED,KACJ,OACEG,EAAAA,IAACrC,GAAG7I,IAAG,CAELmL,UAAW7L,GAAaC,EAAW,OACnC6L,MAAK3H,EAAA,CAAI8H,aAAc,QAAWhF,EAAamF,gBAAiBF,SAE/D7E,EACC8E,OAAC5C,GAAG7I,IAAG,CAACoL,MAAO,CAAEb,QAAS,OAAQI,WAAY,SAAUD,IAAK,WAAYc,SAAA,CACvEN,EAAAA,IAACrC,GAAG7I,IAAG,CAACoL,MAAO,CAAEmE,SAAU,OAAQ/D,SAAEgD,IACrC/C,EAAAA,KAAC5C,GAAG7I,IAAG,CAACoL,MAAO,CAAEb,QAAS,OAAQiF,cAAe,SAAUC,KAAM,GAAIjE,SAAA,CAClEkD,EACAzD,QAILQ,EAAAA,KAAAiE,WAAA,CAAAlE,UACGgD,EACc,UAAdxD,EAAwBC,EAAS,KACjCyD,EACc,UAAd1D,EAAwBC,EAAS,SAjBjC5I,EAsBX,EA0OA,OACE6I,EAAAA,IAACrC,GAAG9I,UAAS0D,EAAAA,EAAA,CACX0H,UAAW7L,GAAaC,EAAW,aACnC6L,MAAO7E,EAAaqN,WAChBvM,GAAK,GAAA,CAAAmE,SAETC,EAAAA,KAAC5C,GAAG3H,OAAM,CACRiK,UAAW7L,GAAaC,EAAW,UACnC6L,MAAK3H,EAAA,CAAIiH,IAAK,QAAWnE,EAAasN,OAAQrI,UAI7CnK,IACC6J,MAACrC,GAAGzH,MAAK,CACP+J,UAAW7L,GAAaC,EAAW,QAAS,SAC5C6L,MAAO7E,EAAauN,MAAMtI,SAE1BN,EAAAA,IAACrC,GAAG/H,KAAI,CAACsK,MAAO7E,EAAawN,UAAUvI,SAAEnK,OAI5CiB,OAAOY,KAAK4E,IAAUrI,OAAS,GAC9ByL,EAAAA,IAACrC,GAAG1H,KAAI,CACNgK,UAAW7L,GAAaC,EAAW,QACnC6L,MAAK3H,EAAA,CAAIsN,MAAO,OAAQnG,QAAS,QAAWrE,EAAayN,UAAWxI,SA/PrD,WAEvB,GAAI5I,MAAMC,QAAQmE,IAAaA,EAASvH,OAAQ,CAC9C,IAAMwU,EAAU3R,OAAOY,KAAK4E,IACtBoM,EAAO,IAAIxL,IACXyL,EAAgBnN,EAASoC,IAAI,SAACgL,EAAKpI,GACvC,IAAMqI,EAAQD,EAAIE,IAAE,WAAA3R,OAAeqJ,GAC7BuI,EAAS3R,MAAMC,QAAQuR,EAAII,QAAUJ,EAAII,OAAS,GACxDD,EAAO/K,QAAQ,SAACE,GAAC,OAAKwK,EAAKvK,IAAID,EAAE,GAEjC,IAAM+K,EAAcF,EAAO3H,OAAO,SAAClD,GAAC,OAAKuK,EAAQpQ,SAAS6F,EAAE,GACtDgL,EAAW,WACf,GAAI7N,GAAW,EACb,OACEqE,EAAAA,IAACrC,GAAG3H,OAAM,CAAakK,MAAO,CAAEV,IAAK,QAASc,SAC3CiJ,EAAYrL,IAAI,SAACM,GAAC,OAAKqE,GAAgBrE,EAAG5B,GAAS4B,GAAG,IADzC2K,GAOpB,IAFA,IAAMM,EAAkBC,KAAKC,KAAKJ,EAAYhV,OAASoH,GACjDiO,EAAe,GACZzR,EAAI,EAAGA,EAAIwD,EAASxD,IAAK,CAChC,IAAM0R,EAAa1R,EAAIsR,EACjBK,EAAWJ,KAAKnE,IAAIsE,EAAaJ,EAAiBF,EAAYhV,QACpEqV,EAAaG,KAAKR,EAAYS,MAAMH,EAAYC,GAClD,CACA,IAAMG,EAAU1R,EAAA,CACd8G,QAAS,OACTC,oBAAmB,UAAA7H,OAAYkE,EAAO,UACtC6D,IAAK,OACLqG,MAAO,QACJxK,EAAa6O,UAElB,OACElK,EAAAA,IAACrC,GAAG7I,IAAG,CAAamL,UAAW7L,GAAaC,EAAW,OAAQ6L,MAAO+J,EAAW3J,SAC9EsJ,EAAa1L,IAAI,SAACiM,EAAOrJ,GAAG,OAC3Bd,EAAAA,IAACrC,GAAG3H,OAAM,CAERiK,UAAW7L,GAAaC,EAAW,UACnC6L,MAAK3H,EAAA,CAAIiH,IAAK,QAAWnE,EAAa+O,YAAa9J,SAElD6J,EAAMjM,IAAI,SAACM,GAAC,OAAKqE,GAAgBrE,EAAG5B,GAAS4B,GAAG,IAJ5CsC,EAKK,IARHqI,EAYjB,CAnCiB,GAqCXkB,KAAkBnB,EAAIoB,aAAgBpB,EAAIqB,aAC1CC,EAAO/M,GAAegN,IAAItB,IAAUkB,EAAeA,EASzD,OACE9J,EAAAA,KAAC5C,GAAG7I,IAAG,CAAuBoL,MAAO,CAAEG,aAAc,WAAYC,SAAA,CAC/DC,EAAAA,KAAC5C,GAAG7I,IAAG,CACLoL,MAAO,CACLb,QAAS,OACTI,WAAY,SACZiL,eAAgB,gBAChBrK,aAAc,UACdC,SAAA,CAEFC,EAAAA,KAAC5C,GAAG7I,IAAG,CAACoL,MAAO,CAAEb,QAAS,OAAQI,WAAY,SAAUD,IAAK,OAAQc,SAAA,CAClE4I,EAAIqB,aACHvK,EAAAA,IAAA,SAAA,CACE,aAAA,UAAAvI,OAAsByR,EAAIyB,OAC1BlJ,QAtBG,WAAH,OACV/D,GAAkB,SAAC6J,GACjB,IAAMjG,EAAO,IAAI9D,IAAI+J,GAGrB,OAFIjG,EAAKmJ,IAAItB,GAAQ7H,EAAI,OAAQ6H,GAC5B7H,EAAK7C,IAAI0K,GACP7H,CACT,EAAE,EAiBQpB,MAAO,CAAE6D,OAAQ,OAAQC,WAAY,cAAeE,OAAQ,WAAY5D,SAExEN,EAAAA,IAAA,OAAA,CAAAM,SAAOkK,EAAO,IAAM,QAGxBxK,EAAAA,IAACrC,GAAG9H,QAAO,CAACoK,UAAW7L,GAAaC,EAAW,WAAY6L,MAAO,CAAE0K,OAAQ,GAAItK,SAC7E4I,EAAIyB,WAGRzB,EAAIrJ,aACHG,EAAAA,IAACrC,GAAG/H,KAAI,CAACqK,UAAW7L,GAAaC,EAAW,QAAS6L,MAAO,CAAEE,QAAS,IAAME,SAC1E4I,EAAIrJ,mBAIRqJ,EAAIqB,aAAeC,IAAShB,IAAO,QAAA/R,OA7BnB0R,GAgCzB,GAGI0B,EAAa,KACjB,GAAI7O,EAAoB,CACtB,IAAM8O,EAAY/B,EAAQrH,OAAO,SAAClD,GAAC,OAAMwK,EAAKyB,IAAIjM,EAAE,GACpD,GAAIsM,EAAUvW,OAAQ,CACpB,IAAM4U,EAAQ,cACRkB,GAAe,EACfG,GAAO/M,GAAegN,IAAItB,IAAyBkB,EAQzDQ,EACEtK,EAAAA,KAAC5C,GAAG7I,IAAG,CAAuBoL,MAAO,CAAEG,aAAc,WAAYC,SAAA,CAC/DN,EAAAA,IAACrC,GAAG7I,IAAG,CACLoL,MAAO,CACLb,QAAS,OACTI,WAAY,SACZiL,eAAgB,gBAChBrK,aAAc,UACdC,SAEFC,EAAAA,KAAC5C,GAAG7I,IAAG,CAACoL,MAAO,CAAEb,QAAS,OAAQI,WAAY,SAAUD,IAAK,OAAQc,UACnEN,EAAAA,IAAA,SAAA,CACE,aAAA,UAAAvI,OAAsByE,GACtBuF,QApBK,WAAH,OACV/D,GAAkB,SAAC6J,GACjB,IAAMjG,EAAO,IAAI9D,IAAI+J,GAGrB,OAFIjG,EAAKmJ,IAAItB,GAAQ7H,EAAI,OAAQ6H,GAC5B7H,EAAK7C,IAAI0K,GACP7H,CACT,EAAE,EAeMpB,MAAO,CAAE6D,OAAQ,OAAQC,WAAY,cAAeE,OAAQ,WAAY5D,SAExEN,EAAAA,IAAA,OAAA,CAAAM,SAAOkK,EAAO,IAAM,QAEtBxK,EAAAA,IAACrC,GAAG9H,QAAO,CAACoK,UAAW7L,GAAaC,EAAW,WAAY6L,MAAO,CAAE0K,OAAQ,GAAItK,SAC7EpE,SAINsO,GACE,WACC,GAAI7O,GAAW,EACb,OACEqE,EAAAA,IAACrC,GAAG3H,OAAM,CAACkK,MAAO,CAAEV,IAAK,QAASc,SAC/BwK,EAAU5M,IAAI,SAACM,GAAC,OAAKqE,GAAgBrE,EAAG5B,GAAS4B,GAAG,KAM3D,IAFA,IAAMiL,EAAkBC,KAAKC,KAAKmB,EAAUvW,OAASoH,GAC/CiO,EAAe,GACZzR,EAAI,EAAGA,EAAIwD,EAASxD,IAAK,CAChC,IAAM0R,EAAa1R,EAAIsR,EACjBK,EAAWJ,KAAKnE,IAAIsE,EAAaJ,EAAiBqB,EAAUvW,QAClEqV,EAAaG,KAAKe,EAAUd,MAAMH,EAAYC,GAChD,CACA,IAAMG,EAAU1R,EAAA,CACd8G,QAAS,OACTC,oBAAmB,UAAA7H,OAAYkE,EAAO,UACtC6D,IAAK,OACLqG,MAAO,QACJxK,EAAa6O,UAElB,OACElK,EAAAA,IAACrC,GAAG7I,IAAG,CAACmL,UAAW7L,GAAaC,EAAW,OAAQ6L,MAAO+J,EAAW3J,SAClEsJ,EAAa1L,IAAI,SAACiM,EAAOrJ,GAAG,OAC3Bd,EAAAA,IAACrC,GAAG3H,OAAM,CAERiK,UAAW7L,GAAaC,EAAW,UACnC6L,MAAK3H,EAAA,CAAIiH,IAAK,QAAWnE,EAAa+O,YAAa9J,SAElD6J,EAAMjM,IAAI,SAACM,GAAC,OAAKqE,GAAgBrE,EAAG5B,GAAS4B,GAAG,IAJ5CsC,EAKK,IAIpB,CAnCC,KAmCG,QAAArJ,OA1Da0R,GA6DzB,CACF,CAEA,OACE5I,EAAAA,KAAC5C,GAAG3H,OAAM,CACRiK,UAAW7L,GAAaC,EAAW,UACnC6L,MAAK3H,EAAA,CAAIiH,IAAK,QAAWnE,EAAa0P,WAAYzK,SAAA,CAEjD2I,EACA4B,IAGP,CAEA,IAAMG,EAAc5T,OAAO6G,QAAQrB,IAEnC,GAAIjB,GAAW,EAEb,OACEqE,EAAAA,IAACrC,GAAG3H,OAAM,CACRiK,UAAW7L,GAAaC,EAAW,UACnC6L,MAAK3H,EAAA,CAAIiH,IAAK,QAAWnE,EAAa0P,WAAYzK,SAEjD0K,EAAY9M,IAAI,SAAA+M,GAAA,IAAAC,EAAA3O,EAAA0O,EAAA,GAAE9T,EAAG+T,EAAA,GAAE7S,EAAK6S,EAAA,GAAA,OAAMrI,GAAgB1L,EAAKkB,EAAM,KASpE,IAHA,IAAMoR,EAAkBC,KAAKC,KAAKqB,EAAYzW,OAASoH,GACjDiO,EAAe,GAEZzR,EAAI,EAAGA,EAAIwD,EAASxD,IAAK,CAChC,IAAM0R,EAAa1R,EAAIsR,EACjBK,EAAWJ,KAAKnE,IAAIsE,EAAaJ,EAAiBuB,EAAYzW,QACpEqV,EAAaG,KAAKiB,EAAYhB,MAAMH,EAAYC,GAClD,CAEA,IAAMG,EAAU1R,EAAA,CACd8G,QAAS,OACTC,oBAAmB,UAAA7H,OAAYkE,EAAO,UACtC6D,IAAK,OACLqG,MAAO,QACJxK,EAAa6O,UAGlB,OACElK,EAAAA,IAACrC,GAAG7I,IAAG,CAACmL,UAAW7L,GAAaC,EAAW,OAAQ6L,MAAO+J,EAAW3J,SAClEsJ,EAAa1L,IAAI,SAACiN,EAAcC,GAAW,OAC1CpL,EAAAA,IAACrC,GAAG3H,OAAM,CAERiK,UAAW7L,GAAaC,EAAW,UACnC6L,MAAK3H,EAAA,CAAIiH,IAAK,QAAWnE,EAAa+O,YAAa9J,SAElD6K,EAAajN,IAAI,SAAAmN,GAAA,IAAAC,EAAA/O,EAAA8O,EAAA,GAAElU,EAAGmU,EAAA,GAAEjT,EAAKiT,EAAA,GAAA,OAAMzI,GAAgB1L,EAAKkB,EAAM,IAJ1D+S,EAKK,IAIpB,CA4BWG,KAIJhQ,GAAgBnE,OAAOY,KAAK4E,IAAUrI,OAAS,GAC9CgM,EAAAA,KAAC5C,GAAG5H,OAAM,CACRkK,UAAW7L,GAAaC,EAAW,UACnC6L,MAAK3H,EAAA,CAAIiH,IAAK,SAAU4E,UAAW,QAAW/I,EAAamQ,gBAAiBlL,SAAA,CAE5EN,EAAAA,IAACrC,GAAG5I,OAAM,CACR0M,QAtpCO,WACjB,GAAI9G,EAAQ,CACV,IAAMiI,EAAa/K,EAAgB+E,IACnCjC,EAAOiI,EAAYhG,GACrB,CACF,EAkpCYqD,UAAW7L,GAAaC,EAAW,SAAU,WAC7C6L,MAAO7E,EAAaoQ,WAAWnL,SAE9BvF,IAEHiF,EAAAA,IAACrC,GAAG5I,OAAM,CACR0M,QAtpCS,WACnB5E,GAAWtE,EAAA,GAAMwE,KACbnC,GACFA,GAEJ,EAkpCYqF,UAAW7L,GAAaC,EAAW,SAAU,aAC7C6L,MAAO7E,EAAaqQ,aAAapL,SAEhCrF,YAOf,2DD36C0B,SAACjE,GAAoB,IAAf2U,EAAMrX,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,EACvC,OAAO4E,KAAK+O,UAAUjR,EAAK,KAAM2U,EACnC,uDAO8B,SAACxU,GAC7B,OAAOA,EAAIc,MAAM,KAAK1D,OAAS,CACjC,qCDlI+B,WAG7B,MAAO,CACLM,UAAW,MACXC,IAAK,MACLC,OAAQ,SACRG,MAAO,QACPE,OAAQ,SACRC,SAAU,WACVC,MAAO,QACPC,MAAO,QACPC,MAAO,QACPC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,KAAM,OACNC,QAAS,KACTC,MAAO,MACPC,OAAQ,MACRC,OAAQ,MACRC,KAAM,MACNC,MAAO,MACPK,MAAO,OACPC,KAAM,MACNC,SAAU,MACVC,KAAM,MACNC,MAAO,QAEX"}