"use strict";var e=require("react"),t=require("react/jsx-runtime");function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function d(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}var u=function(){return{Container:"div",Box:"div",Button:"button",Input:"input",Select:"select",Textarea:"textarea",Table:"table",Thead:"thead",Tbody:"tbody",Tr:"tr",Th:"th",Td:"td",Text:"span",Heading:"h2",Stack:"div",HStack:"div",VStack:"div",Card:"div",Alert:"div",Badge:"span",Grid:"div",GridItem:"div",Flex:"div",Label:"label"}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"chakra",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";if("chakra"===e)return"";var r={tailwind:{Container:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",Box:"block",Button:{default:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",secondary:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},Input:{default:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",checkbox:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},Select:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",Textarea:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm resize-vertical",Table:"min-w-full divide-y divide-gray-200",Thead:"bg-gray-50",Tbody:"bg-white divide-y divide-gray-200",Tr:"hover:bg-gray-50",Th:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",Td:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",Text:"text-gray-900",Heading:"text-2xl font-bold text-gray-900 mb-4",Stack:"space-y-4",HStack:"flex space-x-4 items-center",VStack:"flex flex-col space-y-4",Card:"bg-white overflow-hidden shadow rounded-lg p-6",Alert:{error:"bg-red-50 border border-red-200 rounded-md p-4 text-red-800",success:"bg-green-50 border border-green-200 rounded-md p-4 text-green-800",warning:"bg-yellow-50 border border-yellow-200 rounded-md p-4 text-yellow-800",info:"bg-blue-50 border border-blue-200 rounded-md p-4 text-blue-800"},Badge:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",Grid:"grid",GridItem:"",Flex:"flex",Label:"block text-sm font-medium text-gray-700"},shadcn:{Container:"container mx-auto px-4",Box:"block",Button:{default:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2",secondary:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary text-secondary-foreground hover:bg-secondary/80 h-10 px-4 py-2"},Input:{default:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",checkbox:"h-4 w-4 rounded border border-primary text-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},Select:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",Textarea:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",Table:"w-full caption-bottom text-sm",Thead:"[&_tr]:border-b",Tbody:"[&_tr:last-child]:border-0",Tr:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",Th:"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",Td:"p-4 align-middle [&:has([role=checkbox])]:pr-0",Text:"text-sm text-muted-foreground",Heading:"scroll-m-20 text-2xl font-semibold tracking-tight",Stack:"flex flex-col space-y-4",HStack:"flex space-x-4",VStack:"flex flex-col space-y-4",Card:"rounded-lg border bg-card text-card-foreground shadow-sm",Alert:{error:"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",warning:"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",info:"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground"},Badge:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",Grid:"grid",GridItem:"",Flex:"flex",Label:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}}[e];if(!r||!r[t])return"";var a=r[t];return"object"===c(a)?a[n]||a.default||"":a},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=t?"".concat(t,".").concat(r):r;"object"!==c(e[r])||null===e[r]||Array.isArray(e[r])?n[a]=e[r]:Object.assign(n,p(e[r],a))}return n},x=function(e){var t={};for(var n in e){for(var r=n.split("."),a=t,o=0;o<r.length-1;o++)a[r[o]]||(a[r[o]]={}),a=a[r[o]];a[r[r.length-1]]=e[n]}return t},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n[t])return o({type:n[t].type},n[t]);if("boolean"==typeof e)return{type:"checkbox"};if("number"==typeof e)return{type:"number"};if(Array.isArray(e))return{type:"array",items:e};if("object"===c(e)&&null!==e)return{type:"object"};if("string"==typeof e){if(e.length>100)return{type:"textarea",rows:4};if(e.includes("@")||t.toLowerCase().includes("email"))return{type:"email"};if(e.startsWith("http")||t.toLowerCase().includes("url"))return{type:"url"};if(e.match(/^\d{4}-\d{2}-\d{2}$/)||t.toLowerCase().includes("date"))return{type:"date"};if(t.toLowerCase().includes("password"))return{type:"password"}}return{type:"text"}},g=function(e){try{return{success:!0,data:JSON.parse(e)}}catch(e){return{success:!1,error:e.message}}},h=function(e){return e.split(".").pop().replace(/([A-Z])/g," $1").replace(/[_-]/g," ").replace(/\b\w/g,function(e){return e.toUpperCase()}).trim()},y=["uiLibrary","onSave","onCancel","onFieldChange","saveButtonText","cancelButtonText","initialJson","customStyles","showControls","pagination","pageSize","cacheSize","initialPage","onPageChange","paginationComponent","paginationRenderer"],b=function(n){var r=n.uiLibrary,a=void 0===r?"chakra":r,d=n.onSave,u=n.onCancel,p=n.onFieldChange,x=n.saveButtonText,m=void 0===x?"Save Changes":x,g=n.cancelButtonText,b=void 0===g?"Reset Form":g,v=n.initialJson,j=void 0===v?"":v,S=n.customStyles,B=void 0===S?{}:S,k=n.showControls,w=void 0===k||k,N=n.pagination,C=void 0===N||N,T=n.pageSize,I=void 0===T?10:T,A=n.cacheSize,O=void 0===A?3:A,L=n.initialPage,H=void 0===L?1:L,P=n.onPageChange,E=n.paginationComponent,F=void 0===E?null:E,M=n.paginationRenderer,J=void 0===M?null:M,z=i(n,y),D=l(e.useState(j),2),W=D[0],V=D[1],G=l(e.useState(null),2),R=G[0],U=G[1],_=l(e.useState(""),2),$=_[0],q=_[1],K=l(e.useState(null),2),X=K[0],Z=K[1],Q=l(e.useState(H>0?H:1),2),Y=Q[0],ee=Q[1],te=e.useRef(new Map),ne=e.useRef([]),re={Container:"div",Box:"div",Button:"button",Input:"input",Select:"select",Textarea:"textarea",Table:"table",Thead:"thead",Tbody:"tbody",Tr:"tr",Th:"th",Td:"td",Text:"span",Heading:"h2",Stack:"div",HStack:"div",VStack:"div",Card:"div",Alert:"div",Badge:"span",Grid:"div",GridItem:"div",Flex:"div",Label:"label"},ae=e.useCallback(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;if(q(""),U(null),e.trim())try{var t=JSON.parse(e);if(Array.isArray(t)){if(0===t.length)return void q("The JSON array is empty");U(t),Z(s(t))}else{if("object"!==c(t)||null===t)return void q("JSON must be an object or array of objects");var n=[t];U(n),Z([].concat(n))}}catch(e){q("Invalid JSON: ".concat(e.message))}else q("Please enter some JSON data")},[W]);e.useEffect(function(){j?(V(j),ae(j)):""===j&&(V(""),U(null),Z(null),q(""))},[j,ae]),e.useEffect(function(){te.current.clear(),ne.current=[],ee(H>0?H:1)},[X,H]);var oe=e.useMemo(function(){return Array.isArray(X)?X.length:0},[X]),ie=e.useMemo(function(){return C?Math.max(1,Math.ceil((oe||0)/Math.max(1,I))):1},[C,oe,I]),le=function(e){var t=Math.min(Math.max(1,e),ie);t!==Y&&(ee(t),"function"==typeof P&&P(t))},se=function(){return le(Y-1)},ce=function(){return le(Y+1)};return t.jsx(re.Container,o(o({className:f(a,"Container"),style:B.container},z),{},{children:t.jsxs(re.VStack,{className:f(a,"VStack"),style:o({gap:"1rem"},B.stack),children:[$&&t.jsx(re.Alert,{className:f(a,"Alert","error"),style:B.alert,children:t.jsx(re.Text,{style:B.errorText,children:$})}),function(){if(!X||0===X.length)return null;var e=function(){if(!R||0===R.length)return[];var e=new Set;return R.forEach(function(t){Object.keys(t).forEach(function(t){return e.add(t)})}),Array.from(e)}(),n=C?function(e){if(!C||!Array.isArray(X))return X||[];var t=Math.min(Math.max(1,e),ie);if(te.current.has(t)){var n=ne.current.indexOf(t);return-1!==n&&ne.current.splice(n,1),ne.current.push(t),te.current.get(t)}var r=(t-1)*I,a=r+I,o=X.slice(r,a);for(te.current.set(t,o),ne.current.push(t);ne.current.length>Math.max(1,O);){var i=ne.current.shift();null!=i&&te.current.delete(i)}return o}(Y):X;return t.jsxs(re.Box,{className:f(a,"Box"),style:o({overflowX:"auto"},B.tableContainer),children:[t.jsxs(re.Table,{className:f(a,"Table"),style:B.table,children:[t.jsx(re.Thead,{className:f(a,"Thead"),children:t.jsx(re.Tr,{className:f(a,"Tr"),children:e.map(function(e){return t.jsx(re.Th,{className:f(a,"Th"),style:o({textAlign:"center"},B.th),children:h(e)},e)})})}),t.jsx(re.Tbody,{className:f(a,"Tbody"),children:n.map(function(n,r){return t.jsx(re.Tr,{className:f(a,"Tr"),children:e.map(function(e){return t.jsx(re.Td,{className:f(a,"Td"),style:B.td,children:t.jsx(re.Input,{type:"text",value:n[e]||"",onChange:function(t){return function(e,t,n){var r=s(X);r[e][t]=n,Z(r),p&&p(t,n,r)}(C?(Y-1)*I+r:r,e,t.target.value)},className:f(a,"Input"),style:o({border:"none",background:"transparent"},B.input)})},e)})},r)})})]}),C&&ie>1&&function(){var e={currentPage:Y,totalPages:ie,pageSize:I,cacheSize:O,goToPage:le,prevPage:se,nextPage:ce};if("function"==typeof J)return t.jsx(re.Box,{style:{marginTop:"12px"},children:J(e)});if(F){var n=F;return t.jsx(re.Box,{style:{marginTop:"12px"},children:t.jsx(n,o({},e))})}return t.jsxs(re.HStack,{className:f(a,"HStack"),style:o({display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"12px"},B.pagination||{}),children:[t.jsx(re.Button,{onClick:se,disabled:Y<=1,className:f(a,"Button","secondary"),style:{opacity:Y<=1?.5:1},children:"Prev"}),t.jsxs(re.Text,{children:[Y," / ",ie]}),t.jsx(re.Button,{onClick:ce,disabled:Y>=ie,className:f(a,"Button","secondary"),style:{opacity:Y>=ie?.5:1},children:"Next"})]})}()]})}(),w&&X&&t.jsxs(re.HStack,{gap:"2",className:f(a,"HStack"),style:o({gap:"0.5rem",marginTop:"1rem"},B.controlButtons),children:[t.jsx(re.Button,{onClick:function(){if(d&&X){var e=X.map(function(e){return o({},e)});d(X,e)}},className:f(a,"Button","default"),style:B.saveButton,children:m}),t.jsx(re.Button,{onClick:function(){R&&Z(s(R)),u&&u()},className:f(a,"Button","secondary"),style:B.cancelButton,children:b})]})]})}))},v=["_classNames","styles","renderers","uiLibrary","onSave","onCancel","onFieldChange","saveButtonText","cancelButtonText","initialJson","customStyles","showControls","columns","fieldConfig","sections","includeUnsectioned","unsectionedTitle"],j=function(n){n._classNames,n.styles;var a=n.renderers,c=void 0===a?{}:a;n.uiLibrary;var d=n.onSave,u=n.onCancel,f=n.onFieldChange,y=n.saveButtonText,b=void 0===y?"Save Changes":y,j=n.cancelButtonText,S=void 0===j?"Reset Form":j,B=n.initialJson,k=void 0===B?"":B,w=n.customStyles,N=void 0===w?{}:w,C=n.showControls,T=void 0===C||C,I=n.columns,A=void 0===I?2:I,O=n.fieldConfig,L=void 0===O?{}:O,H=n.sections,P=void 0===H?null:H,E=n.includeUnsectioned,F=void 0!==E&&E,M=n.unsectionedTitle,J=void 0===M?"Other":M,z=i(n,v),D=l(e.useState(k),2),W=D[0],V=D[1],G=l(e.useState({}),2),R=G[0],U=G[1],_=l(e.useState({}),2),$=_[0],q=_[1],K=l(e.useState(null),2)[1],X=l(e.useState(""),2),Z=X[0],Q=X[1],Y=l(e.useState({}),2),ee=Y[0],te=Y[1],ne=l(e.useState(function(){return new Set}),2),re=ne[0],ae=ne[1],oe={Container:c.Container||"div",Box:c.Box||"div",Button:c.Button||"button",Input:c.Input||"input",Select:c.Select||"select",Textarea:c.Textarea||"textarea",Text:c.Text||"span",Heading:c.Heading||"h2",VStack:c.VStack||"div",HStack:c.HStack||"div",Card:c.Card||"div",Alert:c.Alert||"div",Label:c.Label||"label"},ie=e.useCallback(function(){var e=g(arguments.length>0&&void 0!==arguments[0]?arguments[0]:W);if(e.success){K(e.data);var t=p(e.data);U(t),q(o({},t)),Q("")}else Q(e.error),K(null),U({}),q({})},[W]);e.useEffect(function(){k?(V(k),ie(k)):""===k&&(V(""),U({}),q({}),K(null),Q(""))},[k,ie]);var le=function(e,t){var n=o(o({},R),{},r({},e,t));if(U(n),f){var a=x(n);f(e,t,a)}},se=function(e,t){var n=m(t,e,L),r=h(e);switch(n.type){case"checkbox":return de(e,t,r);case"select":return ue(e,t,r,n);case"multi-select":return fe(e,t,r,n);case"textarea":return pe(e,t,r,n);case"email":case"url":case"date":case"password":return xe(e,t,r,n);case"number":return me(e,t,r);case"slider":return ce(e,t,r,n);case"tags":return he(e,t,r,n);case"array":return ge(e,t,r,n);case"object":return ye(e,t,r);default:return be(e,t,r)}},ce=function(e,n,r,a){var i,l,s,c,d=null!==(i=a.min)&&void 0!==i?i:0,u=null!==(l=a.max)&&void 0!==l?l:100,f=null!==(s=a.step)&&void 0!==s?s:1,p="number"==typeof R[e]?R[e]:null!==(c=a.default)&&void 0!==c?c:d;return t.jsxs(oe.Box,{className:"",style:o({marginBottom:"1rem"},N.fieldContainer),children:[t.jsx(oe.Label,{className:"",style:N.label,children:t.jsx(oe.Text,{className:"",style:o({fontWeight:"500"},N.fieldLabel),children:r})}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[t.jsx("input",{type:"range",min:d,max:u,step:f,value:p,onChange:function(t){return le(e,Number(t.target.value))},className:"",style:{width:"100%"}}),t.jsx(oe.Text,{className:"",style:{minWidth:"3rem",textAlign:"right"},children:p})]})]},e)},de=function(e,n,r){return t.jsx(oe.Box,{className:"",style:o({marginBottom:"1rem"},N.fieldContainer),children:t.jsxs(oe.Label,{className:"",style:o({display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},N.label),children:[t.jsx("input",{type:"checkbox",checked:R[e]||!1,onChange:function(t){return le(e,t.target.checked)},className:"",style:N.checkbox}),t.jsx(oe.Text,{className:"",style:o({fontWeight:"500"},N.fieldLabel),children:r})]})},e)},ue=function(e,n,r,a){var i;return t.jsxs(oe.Box,{className:"",style:o({marginBottom:"1rem"},N.fieldContainer),children:[t.jsx(oe.Label,{className:"",style:o({display:"block",fontWeight:"600",marginBottom:"0.5rem"},N.fieldLabel),children:r}),t.jsxs(oe.Select,{value:R[e]||"",onChange:function(t){return le(e,t.target.value)},className:"",style:o({width:"100%"},N.select),children:[t.jsxs("option",{value:"",children:["Select ",r]}),null===(i=a.options)||void 0===i?void 0:i.map(function(e){return t.jsx("option",{value:e,children:e},e)})]})]},e)},fe=function(e,n,r,a){var i,l=Array.isArray(R[e])?R[e]:[];return t.jsxs(oe.Box,{className:"",style:o({marginBottom:"1rem"},N.fieldContainer),children:[t.jsx(oe.Label,{className:"",style:o({display:"block",fontWeight:"600",marginBottom:"0.5rem"},N.fieldLabel),children:r}),t.jsx(oe.Box,{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:null===(i=a.options)||void 0===i?void 0:i.map(function(n){return t.jsxs(oe.Label,{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[t.jsx("input",{type:"checkbox",checked:l.includes(n),onChange:function(t){var r=t.target.checked?[].concat(s(l),[n]):l.filter(function(e){return e!==n});le(e,r)},style:N.checkbox}),t.jsx(oe.Text,{style:o({fontSize:"14px"},N.text),children:n})]},n)})})]},e)},pe=function(e,n,r,a){return t.jsxs(oe.Box,{className:"",style:o({marginBottom:"1rem"},N.fieldContainer),children:[t.jsx(oe.Label,{className:"",style:o({display:"block",fontWeight:"600",marginBottom:"0.5rem"},N.fieldLabel),children:r}),t.jsx(oe.Textarea,{value:R[e]||"",onChange:function(t){return le(e,t.target.value)},className:"",style:o({width:"100%",minHeight:"".concat(1.5*(a.rows||4),"rem")},N.textarea)})]},e)},xe=function(e,n,r,a){return t.jsxs(oe.Box,{className:"",style:o({marginBottom:"1rem"},N.fieldContainer),children:[t.jsx(oe.Label,{className:"",style:o({display:"block",fontWeight:"600",marginBottom:"0.5rem"},N.fieldLabel),children:r}),t.jsx(oe.Input,{type:a.type,value:R[e]||"",onChange:function(t){return le(e,t.target.value)},className:"",style:o({width:"100%"},N.input)})]},e)},me=function(e,n,r){return t.jsxs(oe.Box,{className:"",style:o({marginBottom:"1rem"},N.fieldContainer),children:[t.jsx(oe.Label,{className:"",style:o({display:"block",fontWeight:"600",marginBottom:"0.5rem"},N.fieldLabel),children:r}),t.jsx(oe.Input,{type:"number",value:R[e]||"",onChange:function(t){var n=parseFloat(t.target.value)||0;le(e,n)},className:"",style:o({width:"100%"},N.input)})]},e)},ge=function(e,n,a,i){if((Array.isArray(n)?n:[]).every(function(e){return"string"==typeof e})){var l=Array.isArray(R[e])?R[e]:[],c=ee[e]||"",d=function(t){var n=(t||"").trim();n&&(l.includes(n)||(le(e,[].concat(s(l),[n])),te(function(t){return o(o({},t),{},r({},e,""))})))},u=function(t){le(e,l.filter(function(e){return e!==t}))},f={display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 8px",borderRadius:"999px",background:"#eef2ff",color:"#3730a3",border:"1px solid #c7d2fe",fontSize:"12px"},p={cursor:"pointer",border:"none",background:"transparent",color:"#4338ca",fontSize:"14px",lineHeight:1};return t.jsxs(oe.Box,{className:"",style:o({marginBottom:"1rem"},N.fieldContainer),children:[t.jsx(oe.Label,{className:"",style:o({display:"block",fontWeight:"600",marginBottom:"0.5rem"},N.fieldLabel),children:a}),t.jsxs(oe.Box,{style:{display:"flex",flexWrap:"wrap",gap:"8px",alignItems:"center"},children:[l.map(function(e){return t.jsxs("span",{style:f,children:[e,t.jsx("button",{"aria-label":"Remove ".concat(e),onClick:function(){return u(e)},style:p,children:"×"})]},e)}),t.jsx(oe.Input,{type:"text",value:c,onChange:function(t){return te(function(n){return o(o({},n),{},r({},e,t.target.value))})},onKeyDown:function(e){"Enter"===e.key||","===e.key?(e.preventDefault(),d(c)):"Backspace"===e.key&&!c&&l.length&&u(l[l.length-1])},placeholder:i.placeholder||"Add ".concat(a," and press Enter"),className:"",style:o({minWidth:"140px",flex:"0 1 auto"},N.input)}),t.jsx(oe.Button,{onClick:function(){return d(c)},className:"",style:{padding:"6px 10px"},children:"Add"})]})]},e)}return t.jsxs(oe.Box,{className:"",style:o({marginBottom:"1rem"},N.fieldContainer),children:[t.jsxs(oe.Label,{className:"",style:o({display:"block",fontWeight:"600",marginBottom:"0.5rem"},N.fieldLabel),children:[a," (Array)"]}),t.jsx(oe.Textarea,{value:JSON.stringify(n,null,2),onChange:function(t){try{var n=JSON.parse(t.target.value);le(e,n)}catch(n){le(e,t.target.value)}},className:"",style:o({fontFamily:"monospace",minHeight:"100px",width:"100%"},N.textarea)})]},e)},he=function(e,n,a,i){var l=Array.isArray(R[e])?R[e]:[],c=ee[e]||"",d=function(t){var n=(t||"").trim();n&&(l.includes(n)||(le(e,[].concat(s(l),[n])),te(function(t){return o(o({},t),{},r({},e,""))})))},u=function(t){le(e,l.filter(function(e){return e!==t}))},f={display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 8px",borderRadius:"999px",background:"#eef2ff",color:"#3730a3",border:"1px solid #c7d2fe",fontSize:"12px"},p={cursor:"pointer",border:"none",background:"transparent",color:"#4338ca",fontSize:"14px",lineHeight:1};return t.jsxs(oe.Box,{className:"",style:o({marginBottom:"1rem"},N.fieldContainer),children:[t.jsx(oe.Label,{className:"",style:o({display:"block",fontWeight:"600",marginBottom:"0.5rem"},N.fieldLabel),children:a}),t.jsxs(oe.Box,{style:{display:"flex",flexWrap:"wrap",gap:"8px",alignItems:"center"},children:[l.map(function(e){return t.jsxs("span",{style:f,children:[e,t.jsx("button",{"aria-label":"Remove ".concat(e),onClick:function(){return u(e)},style:p,children:"×"})]},e)}),t.jsx(oe.Input,{type:"text",value:c,onChange:function(t){return te(function(n){return o(o({},n),{},r({},e,t.target.value))})},onKeyDown:function(e){"Enter"===e.key||","===e.key?(e.preventDefault(),d(c)):"Backspace"===e.key&&!c&&l.length&&u(l[l.length-1])},placeholder:i.placeholder||"Add tag and press Enter",className:"",style:o({minWidth:"140px",flex:"0 1 auto"},N.input)}),t.jsx(oe.Button,{onClick:function(){return d(c)},className:"",style:{padding:"6px 10px"},children:"Add"})]})]},e)},ye=function(e,n,r){return t.jsxs(oe.Box,{className:"",style:o({marginBottom:"1rem"},N.fieldContainer),children:[t.jsxs(oe.Label,{className:"",style:o({display:"block",fontWeight:"600",marginBottom:"0.5rem"},N.fieldLabel),children:[r," (Object)"]}),t.jsx(oe.Textarea,{value:JSON.stringify(n,null,2),onChange:function(t){try{var n=JSON.parse(t.target.value);le(e,n)}catch(n){le(e,t.target.value)}},className:"",style:o({fontFamily:"monospace",minHeight:"100px",width:"100%"},N.textarea)})]},e)},be=function(e,n,r){return t.jsxs(oe.Box,{className:"",style:o({marginBottom:"1rem"},N.fieldContainer),children:[t.jsx(oe.Label,{className:"",style:o({display:"block",fontWeight:"600",marginBottom:"0.5rem"},N.fieldLabel),children:r}),t.jsx(oe.Input,{type:"text",value:R[e]||"",onChange:function(t){return le(e,t.target.value)},className:"",style:o({width:"100%"},N.input)})]},e)};return t.jsx(oe.Container,o(o({className:"",style:N.container},z),{},{children:t.jsxs(oe.VStack,{className:"",style:o({gap:"1rem"},N.stack),children:[Z&&t.jsx(oe.Alert,{className:"",style:N.alert,children:t.jsx(oe.Text,{style:N.errorText,children:Z})}),Object.keys(R).length>0&&t.jsx(oe.Card,{className:"",style:o({width:"100%",padding:"1rem"},N.formCard),children:function(){if(Array.isArray(P)&&P.length){var e=Object.keys(R),n=new Set,r=P.map(function(r,a){var i=r.id||"section-".concat(a),l=Array.isArray(r.fields)?r.fields:[];l.forEach(function(e){return n.add(e)});var s=l.filter(function(t){return e.includes(t)}),c=function(){if(A<=1)return t.jsx(oe.VStack,{style:{gap:"1rem"},children:s.map(function(e){return se(e,R[e])})},i);for(var e=Math.ceil(s.length/A),n=[],r=0;r<A;r++){var a=r*e,l=Math.min(a+e,s.length);n.push(s.slice(a,l))}var c=o({display:"grid",gridTemplateColumns:"repeat(".concat(A,", 1fr)"),gap:"2rem",width:"100%"},N.formGrid);return t.jsx(oe.Box,{className:"",style:c,children:n.map(function(e,n){return t.jsx(oe.VStack,{className:"",style:o({gap:"1rem"},N.formColumn),children:e.map(function(e){return se(e,R[e])})},n)})},i)}(),d=!(!r.defaultOpen&&r.collapsible),u=re.has(i)?!d:d;return t.jsxs(oe.Box,{style:{marginBottom:"1.25rem"},children:[t.jsxs(oe.Box,{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:[t.jsxs(oe.Box,{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.collapsible&&t.jsx("button",{"aria-label":"Toggle ".concat(r.title),onClick:function(){return ae(function(e){var t=new Set(e);return t.has(i)?t.delete(i):t.add(i),t})},style:{border:"none",background:"transparent",cursor:"pointer"},children:t.jsx("span",{children:u?"▼":"▶"})}),t.jsx(oe.Heading,{className:"",style:{margin:0},children:r.title})]}),r.description&&t.jsx(oe.Text,{className:"",style:{opacity:.8},children:r.description})]}),(!r.collapsible||u)&&c]},"wrap-".concat(i))}),a=null;if(F){var i=e.filter(function(e){return!n.has(e)});if(i.length){var s="unsectioned",c=!0,d=!re.has(s)&&c;a=t.jsxs(oe.Box,{style:{marginBottom:"1.25rem"},children:[t.jsx(oe.Box,{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:t.jsxs(oe.Box,{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("button",{"aria-label":"Toggle ".concat(J),onClick:function(){return ae(function(e){var t=new Set(e);return t.has(s)?t.delete(s):t.add(s),t})},style:{border:"none",background:"transparent",cursor:"pointer"},children:t.jsx("span",{children:d?"▼":"▶"})}),t.jsx(oe.Heading,{className:"",style:{margin:0},children:J})]})}),d&&function(){if(A<=1)return t.jsx(oe.VStack,{style:{gap:"1rem"},children:i.map(function(e){return se(e,R[e])})});for(var e=Math.ceil(i.length/A),n=[],r=0;r<A;r++){var a=r*e,l=Math.min(a+e,i.length);n.push(i.slice(a,l))}var s=o({display:"grid",gridTemplateColumns:"repeat(".concat(A,", 1fr)"),gap:"2rem",width:"100%"},N.formGrid);return t.jsx(oe.Box,{className:"",style:s,children:n.map(function(e,n){return t.jsx(oe.VStack,{className:"",style:o({gap:"1rem"},N.formColumn),children:e.map(function(e){return se(e,R[e])})},n)})})}()]},"wrap-".concat(s))}}return t.jsxs(oe.VStack,{className:"",style:o({gap:"1rem"},N.formStack),children:[r,a]})}var u=Object.entries(R);if(A<=1)return t.jsx(oe.VStack,{className:"",style:o({gap:"1rem"},N.formStack),children:u.map(function(e){var t=l(e,2),n=t[0],r=t[1];return se(n,r)})});for(var f=Math.ceil(u.length/A),p=[],x=0;x<A;x++){var m=x*f,g=Math.min(m+f,u.length);p.push(u.slice(m,g))}var h=o({display:"grid",gridTemplateColumns:"repeat(".concat(A,", 1fr)"),gap:"2rem",width:"100%"},N.formGrid);return t.jsx(oe.Box,{className:"",style:h,children:p.map(function(e,n){return t.jsx(oe.VStack,{className:"",style:o({gap:"1rem"},N.formColumn),children:e.map(function(e){var t=l(e,2),n=t[0],r=t[1];return se(n,r)})},n)})})}()}),T&&Object.keys(R).length>0&&t.jsxs(oe.HStack,{className:"",style:o({gap:"0.5rem",marginTop:"1rem"},N.controlButtons),children:[t.jsx(oe.Button,{onClick:function(){if(d){var e=x(R);d(e,R)}},className:"",style:N.saveButton,children:b}),t.jsx(oe.Button,{onClick:function(){U(o({},$)),u&&u()},className:"",style:N.cancelButton,children:S})]})]})}))};function S(n){var r=n.data,a=void 0===r?[]:r,i=n.classNames,s=void 0===i?{}:i,c=n.styles,d=void 0===c?{}:c,u=n.renderers,f=void 0===u?{}:u;n._uiLibrary;var p=n.startIcon,x=void 0===p?null:p,m=n.headerTitle,g=void 0===m?"My List title":m,h=n.headerDescription,y=void 0===h?null:h,b=n.mode,v=void 0===b?"dark":b,j=n.parentIcon,S=void 0===j?null:j,B=n.parentOpenIcon,k=void 0===B?null:B,w=n.parentClosedIcon,N=void 0===w?null:w,C=n.childIcon,T=void 0===C?null:C,I=n.hoverIcon,A=void 0===I?null:I,O=n.onItemClick,L=void 0===O?function(){}:O,H=n.onToggle,P=void 0===H?function(){}:H,E=n.sections,F=void 0===E?null:E,M=n.groupBy,J=void 0===M?null:M,z=n.sectionOrder,D=void 0===z?null:z,W=n.customStyles,V=void 0===W?{}:W,G={Container:f.Container||"div",Box:f.Box||"div",Heading:f.Heading||"h2",Text:f.Text||"span"},R=e.useMemo(function(){return"light"===v?{bg:"#ffffff",headerText:"#4B5563",text:"#111827",rowHoverBg:"#F3F4F6",icon:"#374151",hoverIcon:"#6B7280",border:"#E5E7EB"}:{bg:"#111827",headerText:"#9CA3AF",text:"#E5E7EB",rowHoverBg:"#1F2937",icon:"#E5E7EB",hoverIcon:"#9CA3AF",border:"#374151"}},[v]),U={container:{background:R.bg},header:{padding:"8px 12px",color:R.headerText,fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.08em"},headerDescription:{padding:"0 12px 8px 12px",color:R.headerText,fontSize:"12px"},list:{padding:"8px"},row:{display:"flex",alignItems:"center",gap:"10px",padding:"8px 10px",borderRadius:"6px",cursor:"pointer",color:R.text},label:{flex:1},icon:{width:"18px",display:"inline-flex",alignItems:"center",justifyContent:"center",color:R.icon},hoverIcon:{color:R.hoverIcon},parent:{},child:{paddingLeft:"28px"}},_=e.useMemo(function(){return{container:o(o(o({},U.container),V.container||{}),d.container||{}),header:o(o(o({},U.header),V.header||{}),d.header||{}),headerDescription:o(o(o({},U.headerDescription),V.headerDescription||{}),d.headerDescription||{}),list:o(o(o({},U.list),V.list||{}),d.list||{}),row:o(o(o({},U.row),V.row||{}),d.row||{}),label:o(o(o({},U.label),V.label||{}),d.label||{}),icon:o(o(o({},U.icon),V.icon||{}),d.icon||{}),hoverIcon:o(o(o({},U.hoverIcon),V.hoverIcon||{}),d.hoverIcon||{}),parent:o(o(o({},U.parent),V.parent||{}),d.parent||{}),child:o(o(o({},U.child),V.child||{}),d.child||{}),sectionHeader:o(o({},V.sectionHeader||{}),d.sectionHeader||{})}},[V,d,U.container,U.header,U.headerDescription,U.list,U.row,U.label,U.icon,U.hoverIcon,U.parent,U.child]),$=l(e.useState(function(){return new Set}),2),q=$[0],K=$[1],X=l(e.useState(function(){return new Set}),2),Z=X[0],Q=X[1],Y=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!==(n=e.id)&&void 0!==n?n:"".concat(r).concat(t)},ee=t.jsx("span",{style:{fontSize:14},children:"▼"}),te=t.jsx("span",{style:{fontSize:14},children:"▶"}),ne=t.jsx("span",{style:{fontSize:14},children:"📁"}),re=t.jsx("span",{style:{fontSize:14},children:"🗂️"}),ae=t.jsx("span",{style:{fontSize:16},children:"…"}),oe=function(n){var r=n.item,a=n.depth,i=void 0===a?0:a,s=n.index,c=n.parentPath,d=void 0===c?"":c,u=l(e.useState(!1),2),f=u[0],p=u[1],x=Y(r,s,"".concat(d).concat(i,"-")),m=function(e){return Array.isArray(e.children)&&e.children.length>0}(r),g=m&&q.has(x);return t.jsxs(G.Box,{children:[t.jsxs(G.Box,{onClick:function(){L(r),m&&function(e,t){K(function(n){var r=new Set(n);return r.has(e)?r.delete(e):r.add(e),P(t,r.has(e)),r})}(x,r)},onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},style:o(o(o({},_.row),m?_.parent:_.child),{},{paddingLeft:"".concat(m?10+16*i:28+16*i,"px")}),className:"json-to-list-row",children:[m?t.jsxs(t.Fragment,{children:[t.jsx(G.Box,{style:_.icon,children:g?k||ee:N||te}),t.jsx(G.Box,{style:_.icon,children:r.icon||S||ne})]}):t.jsx(G.Box,{style:_.icon,children:r.icon||T||re}),t.jsx(G.Box,{style:_.label,children:r.label}),t.jsx(G.Box,{className:"json-to-list-row-hover",style:o(o(o({},_.icon),_.hoverIcon),{},{opacity:f?1:0,transition:"opacity 0.15s ease"}),children:A||ae})]}),m&&g&&t.jsx(G.Box,{children:r.children.map(function(e,n){return t.jsx(oe,{item:e,depth:i+1,index:n,parentPath:x+"-"},Y(e,n,x+"-"))})})]})},ie=function(e,n,r){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(!(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&a),l=Z.has(e)?!i:i;return t.jsxs(G.Box,{className:s.sectionHeader,style:o({display:"flex",alignItems:"center",justifyContent:"space-between",margin:"8px 8px 4px 8px"},_.sectionHeader),children:[t.jsxs(G.Box,{className:s.sectionHeaderLeft,style:{display:"flex",alignItems:"center",gap:"8px"},children:[a&&t.jsx("button",{"aria-label":"Toggle ".concat(n),onClick:function(){return Q(function(t){var n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},style:{border:"none",background:"transparent",cursor:"pointer"},children:t.jsx("span",{children:l?"▼":"▶"})}),t.jsx(G.Heading,{className:s.heading,style:{margin:0,color:"#ffffff"},children:n})]}),r&&t.jsx(G.Text,{className:s.text,style:{opacity:.8},children:r})]},"header-".concat(e))};return t.jsxs(G.Container,{className:s.container,style:_.container,children:[t.jsx(G.Box,{className:s.header,style:_.header,children:t.jsxs(G.Box,{className:s.headerLeft,style:{display:"flex",alignItems:"center",gap:"8px"},children:[x&&t.jsx(G.Box,{style:_.icon,children:x}),t.jsx("span",{className:s.title,children:g})]})}),y&&t.jsx(G.Box,{className:s.headerDescription,style:_.headerDescription,children:y}),function(){if(Array.isArray(F)&&F.length)return F.map(function(n,r){var o=n.id||"sec-".concat(r),i=ie(o,n.title,n.description,!1!==n.collapsible,!1!==n.defaultOpen),l=!(!1===n.defaultOpen&&!1!==n.collapsible),s=Z.has(o)?!l:l,c=(n.filter?a.filter(n.filter):a)||[];return t.jsxs(e.Fragment,{children:[i,(!n.collapsible||s)&&t.jsx(G.Box,{style:_.list,children:c.map(function(e,n){return t.jsx(oe,{item:e,index:n},Y(e,n))})})]},"frag-".concat(o))});if("function"==typeof J){var n=new Map;return a.forEach(function(e){var t,r=null!==(t=J(e))&&void 0!==t?t:"Other";n.has(r)||n.set(r,[]),n.get(r).push(e)}),(D&&D.length?D.filter(function(e){return n.has(e)}):Array.from(n.keys())).map(function(r,a){var o="grp-".concat(a,"-").concat(r),i=ie(o,r,null,!0,!0),l=!0,s=!Z.has(o)&&l;return t.jsxs(e.Fragment,{children:[i,s&&t.jsx(G.Box,{style:_.list,children:n.get(r).map(function(e,n){return t.jsx(oe,{item:e,index:n},Y(e,n))})})]},"frag-".concat(o))})}return t.jsx(G.Box,{style:_.list,children:a.map(function(e,n){return t.jsx(oe,{item:e,index:n},Y(e,n))})})}()]})}exports.Fields=j,exports.JsonToFields=j,exports.JsonToList=S,exports.JsonToTable=b,exports.List=S,exports.Table=b,exports.flattenObject=p,exports.formatJson=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return JSON.stringify(e,null,t)},exports.getDisplayName=h,exports.getInputType=m,exports.getNestedLevel=function(e){return e.split(".").length-1},exports.getUIClasses=f,exports.getUIComponents=u,exports.parseJsonSafely=g,exports.unflattenObject=x;
//# sourceMappingURL=index.js.map
