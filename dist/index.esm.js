import{useState as e,useEffect as t}from"react";import{jsx as r,jsxs as n,Fragment as o}from"react/jsx-runtime";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t);else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function b(e,t){if(e){if("string"==typeof e)return a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}var m=function(){return{Container:"div",Box:"div",Button:"button",Input:"input",Textarea:"textarea",Table:"table",Thead:"thead",Tbody:"tbody",Tr:"tr",Th:"th",Td:"td",Text:"span",Heading:"h2",Stack:"div",HStack:"div",VStack:"div",Card:"div",Alert:"div",Badge:"span",Grid:"div",GridItem:"div",Flex:"div",Label:"label"}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"chakra",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";if("chakra"===e)return"";var n={tailwind:{Container:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",Box:"block",Button:{default:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",secondary:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},Input:{default:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",checkbox:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},Textarea:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm resize-vertical",Table:"min-w-full divide-y divide-gray-200",Thead:"bg-gray-50",Tbody:"bg-white divide-y divide-gray-200",Tr:"hover:bg-gray-50",Th:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",Td:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",Text:"text-gray-900",Heading:"text-2xl font-bold text-gray-900 mb-4",Stack:"space-y-4",HStack:"flex space-x-4 items-center",VStack:"flex flex-col space-y-4",Card:"bg-white overflow-hidden shadow rounded-lg p-6",Alert:{error:"bg-red-50 border border-red-200 rounded-md p-4 text-red-800",success:"bg-green-50 border border-green-200 rounded-md p-4 text-green-800",warning:"bg-yellow-50 border border-yellow-200 rounded-md p-4 text-yellow-800",info:"bg-blue-50 border border-blue-200 rounded-md p-4 text-blue-800"},Badge:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",Grid:"grid",GridItem:"",Flex:"flex",Label:"block text-sm font-medium text-gray-700"},shadcn:{Container:"container mx-auto px-4",Box:"block",Button:{default:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2",secondary:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary text-secondary-foreground hover:bg-secondary/80 h-10 px-4 py-2"},Input:{default:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",checkbox:"h-4 w-4 rounded border border-primary text-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},Textarea:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",Table:"w-full caption-bottom text-sm",Thead:"[&_tr]:border-b",Tbody:"[&_tr:last-child]:border-0",Tr:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",Th:"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",Td:"p-4 align-middle [&:has([role=checkbox])]:pr-0",Text:"text-sm text-muted-foreground",Heading:"scroll-m-20 text-2xl font-semibold tracking-tight",Stack:"flex flex-col space-y-4",HStack:"flex space-x-4",VStack:"flex flex-col space-y-4",Card:"rounded-lg border bg-card text-card-foreground shadow-sm",Alert:{error:"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",warning:"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",info:"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground"},Badge:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",Grid:"grid",GridItem:"",Flex:"flex",Label:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}}[e];if(!n||!n[t])return"";var o=n[t];return"object"===f(o)?o[r]||o.default||"":o},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=t?"".concat(t,".").concat(n):n;"object"!==f(e[n])||null===e[n]||Array.isArray(e[n])?r[o]=e[n]:Object.assign(r,y(e[n],o))}return r},p=function(e){var t={};for(var r in e){for(var n=r.split("."),o=t,a=0;a<n.length-1;a++)o[n[a]]||(o[n[a]]={}),o=o[n[a]];o[n[n.length-1]]=e[r]}return t},v=function(e){return"boolean"==typeof e?"checkbox":"number"==typeof e?"number":"string"==typeof e&&e.includes("@")?"email":"string"==typeof e&&e.match(/^\d{4}-\d{2}-\d{2}$/)?"date":Array.isArray(e)?"array":"object"===f(e)&&null!==e?"object":"text"},h=function(e){try{return{success:!0,data:JSON.parse(e)}}catch(e){return{success:!1,error:e.message}}},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return JSON.stringify(e,null,t)},T=function(e){return e.split(".").length-1},k=function(e){return e.split(".").pop().replace(/([A-Z])/g," $1").replace(/[_-]/g," ").replace(/\b\w/g,function(e){return e.toUpperCase()}).trim()},S=["uiLibrary","onSave","onCancel","onFieldChange","saveButtonText","cancelButtonText","initialJson","customStyles","showControls"],w=function(o){var a=o.uiLibrary,i=void 0===a?"chakra":a,l=o.onSave,b=o.onCancel,m=o.onFieldChange,y=o.saveButtonText,p=void 0===y?"Save Changes":y,v=o.cancelButtonText,h=void 0===v?"Reset Form":v,x=o.initialJson,T=void 0===x?"":x,w=o.customStyles,B=void 0===w?{}:w,N=o.showControls,C=void 0===N||N,O=c(o,S),j=d(e(T),2),A=j[0],H=j[1],I=d(e(null),2),J=I[0],L=I[1],F=d(e(""),2),P=F[0],G=F[1],V=d(e(null),2),D=V[0],E=V[1],U={Container:"div",Box:"div",Button:"button",Input:"input",Textarea:"textarea",Table:"table",Thead:"thead",Tbody:"tbody",Tr:"tr",Th:"th",Td:"td",Text:"span",Heading:"h2",Stack:"div",HStack:"div",VStack:"div",Card:"div",Alert:"div",Badge:"span",Grid:"div",GridItem:"div",Flex:"div",Label:"label"},W=JSON.stringify([{id:1,name:"John Doe",email:"john@example.com",role:"Developer",salary:75e3},{id:2,name:"Jane Smith",email:"jane@example.com",role:"Designer",salary:68e3},{id:3,name:"Bob Johnson",email:"bob@example.com",role:"Manager",salary:85e3},{id:4,name:"Alice Brown",email:"alice@example.com",role:"Developer",salary:72e3}],null,2);t(function(){T&&(H(T),$(T))},[T]);var $=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;if(G(""),L(null),e.trim())try{var t=JSON.parse(e);if(Array.isArray(t)){if(0===t.length)return void G("The JSON array is empty");L(t),E(u(t))}else{if("object"!==f(t)||null===t)return void G("JSON must be an object or array of objects");var r=[t];L(r),E([].concat(r))}}catch(e){G("Invalid JSON: ".concat(e.message))}else G("Please enter some JSON data")};return r(U.Container,s(s({className:g(i,"Container"),style:B.container},O),{},{children:n(U.VStack,{className:g(i,"VStack"),style:s({gap:"1rem"},B.stack),children:[r(U.Heading,{className:g(i,"Heading"),style:B.heading,children:"JSON to Table Converter"}),r(U.Box,{className:g(i,"Box"),style:s({width:"100%"},B.inputContainer),children:r(U.Textarea,{value:A,onChange:function(e){return H(e.target.value)},placeholder:"Paste your JSON data here...",className:g(i,"Textarea"),style:s({minHeight:"150px",fontFamily:"monospace"},B.textarea)})}),n(U.HStack,{className:g(i,"HStack"),style:s({gap:"0.5rem"},B.buttonGroup),children:[r(U.Button,{onClick:function(){return $()},className:g(i,"Button","default"),style:B.button,children:"Generate Table"}),r(U.Button,{onClick:function(){H(W),$(W)},className:g(i,"Button","secondary"),style:B.secondaryButton,children:"Load Sample"})]}),P&&r(U.Alert,{className:g(i,"Alert","error"),style:B.alert,children:r(U.Text,{style:B.errorText,children:P})}),function(){if(!D||0===D.length)return null;var e=function(){if(!J||0===J.length)return[];var e=new Set;return J.forEach(function(t){Object.keys(t).forEach(function(t){return e.add(t)})}),Array.from(e)}();return r(U.Box,{className:g(i,"Box"),style:s({overflowX:"auto"},B.tableContainer),children:n(U.Table,{className:g(i,"Table"),style:B.table,children:[r(U.Thead,{className:g(i,"Thead"),children:r(U.Tr,{className:g(i,"Tr"),children:e.map(function(e){return r(U.Th,{className:g(i,"Th"),style:B.th,children:k(e)},e)})})}),r(U.Tbody,{className:g(i,"Tbody"),children:D.map(function(t,n){return r(U.Tr,{className:g(i,"Tr"),children:e.map(function(e){return r(U.Td,{className:g(i,"Td"),style:B.td,children:r(U.Input,{type:"text",value:t[e]||"",onChange:function(t){return function(e,t,r){var n=u(D);n[e][t]=r,E(n),m&&m(t,r,n)}(n,e,t.target.value)},className:g(i,"Input"),style:s({border:"none",background:"transparent"},B.input)})},e)})},n)})})]})})}(),C&&D&&n(U.HStack,{className:g(i,"HStack"),style:s({gap:"0.5rem",marginTop:"1rem"},B.controlButtons),children:[r(U.Button,{onClick:function(){if(l&&D){var e=D.map(function(e){return s({},e)});l(D,e)}},className:g(i,"Button","default"),style:B.saveButton,children:p}),r(U.Button,{onClick:function(){J&&E(u(J)),b&&b()},className:g(i,"Button","secondary"),style:B.cancelButton,children:h})]})]})}))},B=["uiLibrary","onSave","onCancel","onFieldChange","saveButtonText","cancelButtonText","initialJson","customStyles","showControls","showJsonInput"],N=function(a){var l=a.uiLibrary,u=void 0===l?"chakra":l,f=a.onSave,b=a.onCancel,m=a.onFieldChange,x=a.saveButtonText,T=void 0===x?"Save Changes":x,S=a.cancelButtonText,w=void 0===S?"Reset Form":S,N=a.initialJson,C=void 0===N?"":N,O=a.customStyles,j=void 0===O?{}:O,A=a.showControls,H=void 0===A||A,I=a.showJsonInput,J=void 0===I||I,L=c(a,B),F=d(e(C),2),P=F[0],G=F[1],V=d(e({}),2),D=V[0],E=V[1],U=d(e({}),2),W=U[0],$=U[1],_=d(e(null),2)[1],z=d(e(""),2),M=z[0],R=z[1],X={Container:"div",Box:"div",Button:"button",Input:"input",Textarea:"textarea",Table:"table",Thead:"thead",Tbody:"tbody",Tr:"tr",Th:"th",Td:"td",Text:"span",Heading:"h2",Stack:"div",HStack:"div",VStack:"div",Card:"div",Alert:"div",Badge:"span",Grid:"div",GridItem:"div",Flex:"div",Label:"label"},Z=JSON.stringify({user:{name:"John Doe",email:"john@example.com",age:30,isActive:!0,preferences:{theme:"dark",notifications:!0}},settings:{language:"en",timezone:"UTC"}},null,2);t(function(){C&&(G(C),q(C))},[C]);var q=function(){var e=h(arguments.length>0&&void 0!==arguments[0]?arguments[0]:P);if(e.success){_(e.data);var t=y(e.data);E(t),$(s({},t)),R("")}else R(e.error),_(null),E({}),$({})},K=function(e,t){var r=s(s({},D),{},i({},e,t));if(E(r),m){var n=p(r);m(e,t,n)}};return r(X.Container,s(s({className:g(u,"Container"),style:j.container},L),{},{children:n(X.VStack,{className:g(u,"VStack"),style:s({gap:"1rem"},j.stack),children:[r(X.Heading,{className:g(u,"Heading"),style:j.heading,children:"JSON to Form Fields"}),J&&n(o,{children:[r(X.Box,{className:g(u,"Box"),style:s({width:"100%"},j.inputContainer),children:r(X.Textarea,{value:P,onChange:function(e){return G(e.target.value)},placeholder:"Paste your JSON data here...",className:g(u,"Textarea"),style:s({minHeight:"150px",fontFamily:"monospace"},j.textarea)})}),n(X.HStack,{className:g(u,"HStack"),style:s({gap:"0.5rem"},j.buttonGroup),children:[r(X.Button,{onClick:function(){return q()},className:g(u,"Button","default"),style:j.button,children:"Generate Form"}),r(X.Button,{onClick:function(){G(Z),q(Z)},className:g(u,"Button","secondary"),style:j.secondaryButton,children:"Load Sample"})]})]}),M&&r(X.Alert,{className:g(u,"Alert","error"),style:j.alert,children:r(X.Text,{style:j.errorText,children:M})}),Object.keys(D).length>0&&r(X.Card,{className:g(u,"Card"),style:s({width:"100%",padding:"1rem"},j.formCard),children:r(X.VStack,{className:g(u,"VStack"),style:s({gap:"1rem"},j.formStack),children:Object.entries(D).map(function(e){var t=d(e,2);return function(e,t){var o=v(t),a=k(e);return"checkbox"===o?r(X.Box,{className:g(u,"Box"),style:s({marginBottom:"1rem"},j.fieldContainer),children:n(X.Label,{className:g(u,"Label"),style:s({display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},j.label),children:[r("input",{type:"checkbox",checked:D[e]||!1,onChange:function(t){return K(e,t.target.checked)},className:g(u,"Input","checkbox"),style:j.checkbox}),r(X.Text,{className:g(u,"Text"),style:s({fontWeight:"500"},j.fieldLabel),children:a})]})},e):n(X.Box,"array"===o||"object"===o?{className:g(u,"Box"),style:s({marginBottom:"1rem"},j.fieldContainer),children:[r(X.Label,{className:g(u,"Label"),style:s({display:"block",fontWeight:"600",marginBottom:"0.5rem"},j.fieldLabel),children:a}),r(X.Textarea,{value:JSON.stringify(t,null,2),onChange:function(t){try{var r=JSON.parse(t.target.value);K(e,r)}catch(r){K(e,t.target.value)}},className:g(u,"Textarea"),style:s({fontFamily:"monospace",minHeight:"100px",width:"100%"},j.textarea)})]}:{className:g(u,"Box"),style:s({marginBottom:"1rem"},j.fieldContainer),children:[r(X.Label,{className:g(u,"Label"),style:s({display:"block",fontWeight:"600",marginBottom:"0.5rem"},j.fieldLabel),children:a}),r(X.Input,{type:o,value:D[e]||"",onChange:function(t){var r="number"===o?parseFloat(t.target.value)||0:t.target.value;K(e,r)},className:g(u,"Input"),style:s({width:"100%"},j.input)})]},e)}(t[0],t[1])})})}),H&&Object.keys(D).length>0&&n(X.HStack,{className:g(u,"HStack"),style:s({gap:"0.5rem",marginTop:"1rem"},j.controlButtons),children:[r(X.Button,{onClick:function(){if(f){var e=p(D);f(e,D)}},className:g(u,"Button","default"),style:j.saveButton,children:T}),r(X.Button,{onClick:function(){E(s({},W)),b&&b()},className:g(u,"Button","secondary"),style:j.cancelButton,children:w})]})]})}))};export{N as JsonToFields,w as JsonToTable,y as flattenObject,x as formatJson,k as getDisplayName,v as getInputType,T as getNestedLevel,g as getUIClasses,m as getUIComponents,h as parseJsonSafely,p as unflattenObject};
//# sourceMappingURL=index.esm.js.map
