import e,{useState as t,useRef as n,useCallback as r,useEffect as a,useMemo as i}from"react";import{jsx as o,jsxs as l,Fragment as c}from"react/jsx-runtime";function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return l}}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function y(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}var b=function(){return{Container:"div",Box:"div",Button:"button",Input:"input",Select:"select",Textarea:"textarea",Table:"table",Thead:"thead",Tbody:"tbody",Tr:"tr",Th:"th",Td:"td",Text:"span",Heading:"h2",Stack:"div",HStack:"div",VStack:"div",Card:"div",Alert:"div",Badge:"span",Grid:"div",GridItem:"div",Flex:"div",Label:"label"}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"chakra",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";if("chakra"===e)return"";var r={tailwind:{Container:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",Box:"block",Button:{default:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",secondary:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},Input:{default:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",checkbox:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},Select:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",Textarea:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm resize-vertical",Table:"min-w-full divide-y divide-gray-200",Thead:"bg-gray-50",Tbody:"bg-white divide-y divide-gray-200",Tr:"hover:bg-gray-50",Th:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",Td:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",Text:"text-gray-900",Heading:"text-2xl font-bold text-gray-900 mb-4",Stack:"space-y-4",HStack:"flex space-x-4 items-center",VStack:"flex flex-col space-y-4",Card:"bg-white overflow-hidden shadow rounded-lg p-6",Alert:{error:"bg-red-50 border border-red-200 rounded-md p-4 text-red-800",success:"bg-green-50 border border-green-200 rounded-md p-4 text-green-800",warning:"bg-yellow-50 border border-yellow-200 rounded-md p-4 text-yellow-800",info:"bg-blue-50 border border-blue-200 rounded-md p-4 text-blue-800"},Badge:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",Grid:"grid",GridItem:"",Flex:"flex",Label:"block text-sm font-medium text-gray-700"},shadcn:{Container:"container mx-auto px-4",Box:"block",Button:{default:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2",secondary:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary text-secondary-foreground hover:bg-secondary/80 h-10 px-4 py-2"},Input:{default:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",checkbox:"h-4 w-4 rounded border border-primary text-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},Select:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",Textarea:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",Table:"w-full caption-bottom text-sm",Thead:"[&_tr]:border-b",Tbody:"[&_tr:last-child]:border-0",Tr:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",Th:"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",Td:"p-4 align-middle [&:has([role=checkbox])]:pr-0",Text:"text-sm text-muted-foreground",Heading:"scroll-m-20 text-2xl font-semibold tracking-tight",Stack:"flex flex-col space-y-4",HStack:"flex space-x-4",VStack:"flex flex-col space-y-4",Card:"rounded-lg border bg-card text-card-foreground shadow-sm",Alert:{error:"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",warning:"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",info:"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground"},Badge:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",Grid:"grid",GridItem:"",Flex:"flex",Label:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}}[e];if(!r||!r[t])return"";var a=r[t];return"object"===h(a)?a[n]||a.default||"":a},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=t?"".concat(t,".").concat(r):r;"object"!==h(e[r])||null===e[r]||Array.isArray(e[r])?n[a]=e[r]:Object.assign(n,x(e[r],a))}return n},B=function(e){var t={};for(var n in e){for(var r=n.split("."),a=t,i=0;i<r.length-1;i++)a[r[i]]||(a[r[i]]={}),a=a[r[i]];a[r[r.length-1]]=e[n]}return t},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n[t])return f({type:n[t].type},n[t]);if("boolean"==typeof e)return{type:"checkbox"};if("number"==typeof e)return{type:"number"};if(Array.isArray(e))return{type:"array",items:e};if("object"===h(e)&&null!==e)return{type:"object"};if("string"==typeof e){if(e.length>100)return{type:"textarea",rows:4};if(e.includes("@")||t.toLowerCase().includes("email"))return{type:"email"};if(e.startsWith("http")||t.toLowerCase().includes("url"))return{type:"url"};if(e.match(/^\d{4}-\d{2}-\d{2}$/)||t.toLowerCase().includes("date"))return{type:"date"};if(t.toLowerCase().includes("password"))return{type:"password"}}return{type:"text"}},w=function(e){try{return{success:!0,data:JSON.parse(e)}}catch(e){return{success:!1,error:e.message}}},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return JSON.stringify(e,null,t)},N=function(e){return e.split(".").length-1},T=function(e){return e.split(".").pop().replace(/([A-Z])/g," $1").replace(/[_-]/g," ").replace(/\b\w/g,function(e){return e.toUpperCase()}).trim()},C=["uiLibrary","onSave","onCancel","onFieldChange","saveButtonText","cancelButtonText","initialJson","customStyles","showControls","pagination","pageSize","cacheSize","initialPage","onPageChange","paginationComponent","paginationRenderer"],A=function(e){var c=e.uiLibrary,s=void 0===c?"chakra":c,d=e.onSave,u=e.onCancel,y=e.onFieldChange,b=e.saveButtonText,x=void 0===b?"Save Changes":b,B=e.cancelButtonText,k=void 0===B?"Reset Form":B,w=e.initialJson,S=void 0===w?"":w,N=e.customStyles,A=void 0===N?{}:N,I=e.showControls,O=void 0===I||I,j=e.pagination,L=void 0===j||j,H=e.pageSize,P=void 0===H?10:H,E=e.cacheSize,F=void 0===E?3:E,M=e.initialPage,z=void 0===M?1:M,D=e.onPageChange,J=e.paginationComponent,W=void 0===J?null:J,V=e.paginationRenderer,G=void 0===V?null:V,R=p(e,C),_=m(t(S),2),U=_[0],$=_[1],K=m(t(null),2),X=K[0],Z=K[1],q=m(t(""),2),Q=q[0],Y=q[1],ee=m(t(null),2),te=ee[0],ne=ee[1],re=m(t(z>0?z:1),2),ae=re[0],ie=re[1],oe=n(new Map),le=n([]),ce={Container:"div",Box:"div",Button:"button",Input:"input",Select:"select",Textarea:"textarea",Table:"table",Thead:"thead",Tbody:"tbody",Tr:"tr",Th:"th",Td:"td",Text:"span",Heading:"h2",Stack:"div",HStack:"div",VStack:"div",Card:"div",Alert:"div",Badge:"span",Grid:"div",GridItem:"div",Flex:"div",Label:"label"},se=r(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U;if(Y(""),Z(null),e.trim())try{var t=JSON.parse(e);if(Array.isArray(t)){if(0===t.length)return void Y("The JSON array is empty");Z(t),ne(g(t))}else{if("object"!==h(t)||null===t)return void Y("JSON must be an object or array of objects");var n=[t];Z(n),ne([].concat(n))}}catch(e){Y("Invalid JSON: ".concat(e.message))}else Y("Please enter some JSON data")},[U]);a(function(){S?($(S),se(S)):""===S&&($(""),Z(null),ne(null),Y(""))},[S,se]),a(function(){oe.current.clear(),le.current=[],ie(z>0?z:1)},[te,z]);var de=i(function(){return Array.isArray(te)?te.length:0},[te]),ue=i(function(){return L?Math.max(1,Math.ceil((de||0)/Math.max(1,P))):1},[L,de,P]),fe=function(e){var t=Math.min(Math.max(1,e),ue);t!==ae&&(ie(t),"function"==typeof D&&D(t))},pe=function(){return fe(ae-1)},me=function(){return fe(ae+1)};return o(ce.Container,f(f({className:v(s,"Container"),style:A.container},R),{},{children:l(ce.VStack,{className:v(s,"VStack"),style:f({gap:"1rem"},A.stack),children:[Q&&o(ce.Alert,{className:v(s,"Alert","error"),style:A.alert,children:o(ce.Text,{style:A.errorText,children:Q})}),function(){if(!te||0===te.length)return null;var e,t=function(){if(!X||0===X.length)return[];var e=new Set;return X.forEach(function(t){Object.keys(t).forEach(function(t){return e.add(t)})}),Array.from(e)}(),n=L?function(e){if(!L||!Array.isArray(te))return te||[];var t=Math.min(Math.max(1,e),ue);if(oe.current.has(t)){var n=le.current.indexOf(t);return-1!==n&&le.current.splice(n,1),le.current.push(t),oe.current.get(t)}var r=(t-1)*P,a=r+P,i=te.slice(r,a);for(oe.current.set(t,i),le.current.push(t);le.current.length>Math.max(1,F);){var o=le.current.shift();null!=o&&oe.current.delete(o)}return i}(ae):te;return l(ce.Box,{className:v(s,"Box"),style:f({overflowX:"auto"},A.tableContainer),children:[l(ce.Table,{className:v(s,"Table"),style:A.table,children:[o(ce.Thead,{className:v(s,"Thead"),children:o(ce.Tr,{className:v(s,"Tr"),children:t.map(function(e){return o(ce.Th,{className:v(s,"Th"),style:f({textAlign:"center"},A.th),children:T(e)},e)})})}),o(ce.Tbody,{className:v(s,"Tbody"),children:n.map(function(e,n){return o(ce.Tr,{className:v(s,"Tr"),children:t.map(function(t){return o(ce.Td,{className:v(s,"Td"),style:A.td,children:o(ce.Input,{type:"text",value:e[t]||"",onChange:function(e){return function(e,t,n){var r=g(te);r[e][t]=n,ne(r),y&&y(t,n,r)}(L?(ae-1)*P+n:n,t,e.target.value)},className:v(s,"Input"),style:f({border:"none",background:"transparent"},A.input)})},t)})},n)})})]}),L&&ue>1&&(e={currentPage:ae,totalPages:ue,pageSize:P,cacheSize:F,goToPage:fe,prevPage:pe,nextPage:me},"function"==typeof G?o(ce.Box,{style:{marginTop:"12px"},children:G(e)}):W?o(ce.Box,{style:{marginTop:"12px"},children:o(W,f({},e))}):l(ce.HStack,{className:v(s,"HStack"),style:f({display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"12px"},A.pagination||{}),children:[o(ce.Button,{onClick:pe,disabled:ae<=1,className:v(s,"Button","secondary"),style:{opacity:ae<=1?.5:1},children:"Prev"}),l(ce.Text,{children:[ae," / ",ue]}),o(ce.Button,{onClick:me,disabled:ae>=ue,className:v(s,"Button","secondary"),style:{opacity:ae>=ue?.5:1},children:"Next"})]}))]})}(),O&&te&&l(ce.HStack,{gap:"2",className:v(s,"HStack"),style:f({gap:"0.5rem",marginTop:"1rem"},A.controlButtons),children:[o(ce.Button,{onClick:function(){if(d&&te){var e=te.map(function(e){return f({},e)});d(te,e)}},className:v(s,"Button","default"),style:A.saveButton,children:x}),o(ce.Button,{onClick:function(){X&&ne(g(X)),u&&u()},className:v(s,"Button","secondary"),style:A.cancelButton,children:k})]})]})}))},I=["_classNames","styles","renderers","uiLibrary","onSave","onCancel","onFieldChange","saveButtonText","cancelButtonText","initialJson","customStyles","showControls","columns","fieldConfig","sections","includeUnsectioned","unsectionedTitle"],O=function(e){e._classNames,e.styles;var n=e.renderers,i=void 0===n?{}:n;e.uiLibrary;var c=e.onSave,s=e.onCancel,u=e.onFieldChange,h=e.saveButtonText,y=void 0===h?"Save Changes":h,b=e.cancelButtonText,v=void 0===b?"Reset Form":b,S=e.initialJson,N=void 0===S?"":S,C=e.customStyles,A=void 0===C?{}:C,O=e.showControls,j=void 0===O||O,L=e.columns,H=void 0===L?2:L,P=e.fieldConfig,E=void 0===P?{}:P,F=e.sections,M=void 0===F?null:F,z=e.includeUnsectioned,D=void 0!==z&&z,J=e.unsectionedTitle,W=void 0===J?"Other":J,V=p(e,I),G=m(t(N),2),R=G[0],_=G[1],U=m(t({}),2),$=U[0],K=U[1],X=m(t({}),2),Z=X[0],q=X[1],Q=m(t(null),2)[1],Y=m(t(""),2),ee=Y[0],te=Y[1],ne=m(t({}),2),re=ne[0],ae=ne[1],ie=m(t(function(){return new Set}),2),oe=ie[0],le=ie[1],ce={Container:i.Container||"div",Box:i.Box||"div",Button:i.Button||"button",Input:i.Input||"input",Select:i.Select||"select",Textarea:i.Textarea||"textarea",Text:i.Text||"span",Heading:i.Heading||"h2",VStack:i.VStack||"div",HStack:i.HStack||"div",Card:i.Card||"div",Alert:i.Alert||"div",Label:i.Label||"label"},se=r(function(){var e=w(arguments.length>0&&void 0!==arguments[0]?arguments[0]:R);if(e.success){Q(e.data);var t=x(e.data);K(t),q(f({},t)),te("")}else te(e.error),Q(null),K({}),q({})},[R]);a(function(){N?(_(N),se(N)):""===N&&(_(""),K({}),q({}),Q(null),te(""))},[N,se]);var de=function(e,t){var n=f(f({},$),{},d({},e,t));if(K(n),u){var r=B(n);u(e,t,r)}},ue=function(e,t){var n=k(t,e,E),r=T(e);switch(n.type){case"checkbox":return pe(e,t,r);case"select":return me(e,t,r,n);case"multi-select":return ge(e,t,r,n);case"textarea":return he(e,t,r,n);case"email":case"url":case"date":case"password":return ye(e,t,r,n);case"number":return be(e,t,r);case"slider":return fe(e,t,r,n);case"tags":return xe(e,t,r,n);case"array":return ve(e,t,r,n);case"object":return Be(e,t,r);default:return ke(e,t,r)}},fe=function(e,t,n,r){var a,i,c,s,d=null!==(a=r.min)&&void 0!==a?a:0,u=null!==(i=r.max)&&void 0!==i?i:100,p=null!==(c=r.step)&&void 0!==c?c:1,m="number"==typeof $[e]?$[e]:null!==(s=r.default)&&void 0!==s?s:d;return l(ce.Box,{className:"",style:f({marginBottom:"1rem"},A.fieldContainer),children:[o(ce.Label,{className:"",style:A.label,children:o(ce.Text,{className:"",style:f({fontWeight:"500"},A.fieldLabel),children:n})}),l("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[o("input",{type:"range",min:d,max:u,step:p,value:m,onChange:function(t){return de(e,Number(t.target.value))},className:"",style:{width:"100%"}}),o(ce.Text,{className:"",style:{minWidth:"3rem",textAlign:"right"},children:m})]})]},e)},pe=function(e,t,n){return o(ce.Box,{className:"",style:f({marginBottom:"1rem"},A.fieldContainer),children:l(ce.Label,{className:"",style:f({display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},A.label),children:[o("input",{type:"checkbox",checked:$[e]||!1,onChange:function(t){return de(e,t.target.checked)},className:"",style:A.checkbox}),o(ce.Text,{className:"",style:f({fontWeight:"500"},A.fieldLabel),children:n})]})},e)},me=function(e,t,n,r){var a;return l(ce.Box,{className:"",style:f({marginBottom:"1rem"},A.fieldContainer),children:[o(ce.Label,{className:"",style:f({display:"block",fontWeight:"600",marginBottom:"0.5rem"},A.fieldLabel),children:n}),l(ce.Select,{value:$[e]||"",onChange:function(t){return de(e,t.target.value)},className:"",style:f({width:"100%"},A.select),children:[l("option",{value:"",children:["Select ",n]}),null===(a=r.options)||void 0===a?void 0:a.map(function(e){return o("option",{value:e,children:e},e)})]})]},e)},ge=function(e,t,n,r){var a,i=Array.isArray($[e])?$[e]:[];return l(ce.Box,{className:"",style:f({marginBottom:"1rem"},A.fieldContainer),children:[o(ce.Label,{className:"",style:f({display:"block",fontWeight:"600",marginBottom:"0.5rem"},A.fieldLabel),children:n}),o(ce.Box,{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:null===(a=r.options)||void 0===a?void 0:a.map(function(t){return l(ce.Label,{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[o("input",{type:"checkbox",checked:i.includes(t),onChange:function(n){var r=n.target.checked?[].concat(g(i),[t]):i.filter(function(e){return e!==t});de(e,r)},style:A.checkbox}),o(ce.Text,{style:f({fontSize:"14px"},A.text),children:t})]},t)})})]},e)},he=function(e,t,n,r){return l(ce.Box,{className:"",style:f({marginBottom:"1rem"},A.fieldContainer),children:[o(ce.Label,{className:"",style:f({display:"block",fontWeight:"600",marginBottom:"0.5rem"},A.fieldLabel),children:n}),o(ce.Textarea,{value:$[e]||"",onChange:function(t){return de(e,t.target.value)},className:"",style:f({width:"100%",minHeight:"".concat(1.5*(r.rows||4),"rem")},A.textarea)})]},e)},ye=function(e,t,n,r){return l(ce.Box,{className:"",style:f({marginBottom:"1rem"},A.fieldContainer),children:[o(ce.Label,{className:"",style:f({display:"block",fontWeight:"600",marginBottom:"0.5rem"},A.fieldLabel),children:n}),o(ce.Input,{type:r.type,value:$[e]||"",onChange:function(t){return de(e,t.target.value)},className:"",style:f({width:"100%"},A.input)})]},e)},be=function(e,t,n){return l(ce.Box,{className:"",style:f({marginBottom:"1rem"},A.fieldContainer),children:[o(ce.Label,{className:"",style:f({display:"block",fontWeight:"600",marginBottom:"0.5rem"},A.fieldLabel),children:n}),o(ce.Input,{type:"number",value:$[e]||"",onChange:function(t){var n=parseFloat(t.target.value)||0;de(e,n)},className:"",style:f({width:"100%"},A.input)})]},e)},ve=function(e,t,n,r){if((Array.isArray(t)?t:[]).every(function(e){return"string"==typeof e})){var a=Array.isArray($[e])?$[e]:[],i=re[e]||"",c=function(t){var n=(t||"").trim();n&&(a.includes(n)||(de(e,[].concat(g(a),[n])),ae(function(t){return f(f({},t),{},d({},e,""))})))},s=function(t){de(e,a.filter(function(e){return e!==t}))},u={display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 8px",borderRadius:"999px",background:"#eef2ff",color:"#3730a3",border:"1px solid #c7d2fe",fontSize:"12px"},p={cursor:"pointer",border:"none",background:"transparent",color:"#4338ca",fontSize:"14px",lineHeight:1};return l(ce.Box,{className:"",style:f({marginBottom:"1rem"},A.fieldContainer),children:[o(ce.Label,{className:"",style:f({display:"block",fontWeight:"600",marginBottom:"0.5rem"},A.fieldLabel),children:n}),l(ce.Box,{style:{display:"flex",flexWrap:"wrap",gap:"8px",alignItems:"center"},children:[a.map(function(e){return l("span",{style:u,children:[e,o("button",{"aria-label":"Remove ".concat(e),onClick:function(){return s(e)},style:p,children:"×"})]},e)}),o(ce.Input,{type:"text",value:i,onChange:function(t){return ae(function(n){return f(f({},n),{},d({},e,t.target.value))})},onKeyDown:function(e){"Enter"===e.key||","===e.key?(e.preventDefault(),c(i)):"Backspace"===e.key&&!i&&a.length&&s(a[a.length-1])},placeholder:r.placeholder||"Add ".concat(n," and press Enter"),className:"",style:f({minWidth:"140px",flex:"0 1 auto"},A.input)}),o(ce.Button,{onClick:function(){return c(i)},className:"",style:{padding:"6px 10px"},children:"Add"})]})]},e)}return l(ce.Box,{className:"",style:f({marginBottom:"1rem"},A.fieldContainer),children:[l(ce.Label,{className:"",style:f({display:"block",fontWeight:"600",marginBottom:"0.5rem"},A.fieldLabel),children:[n," (Array)"]}),o(ce.Textarea,{value:JSON.stringify(t,null,2),onChange:function(t){try{var n=JSON.parse(t.target.value);de(e,n)}catch(n){de(e,t.target.value)}},className:"",style:f({fontFamily:"monospace",minHeight:"100px",width:"100%"},A.textarea)})]},e)},xe=function(e,t,n,r){var a=Array.isArray($[e])?$[e]:[],i=re[e]||"",c=function(t){var n=(t||"").trim();n&&(a.includes(n)||(de(e,[].concat(g(a),[n])),ae(function(t){return f(f({},t),{},d({},e,""))})))},s=function(t){de(e,a.filter(function(e){return e!==t}))},u={display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 8px",borderRadius:"999px",background:"#eef2ff",color:"#3730a3",border:"1px solid #c7d2fe",fontSize:"12px"},p={cursor:"pointer",border:"none",background:"transparent",color:"#4338ca",fontSize:"14px",lineHeight:1};return l(ce.Box,{className:"",style:f({marginBottom:"1rem"},A.fieldContainer),children:[o(ce.Label,{className:"",style:f({display:"block",fontWeight:"600",marginBottom:"0.5rem"},A.fieldLabel),children:n}),l(ce.Box,{style:{display:"flex",flexWrap:"wrap",gap:"8px",alignItems:"center"},children:[a.map(function(e){return l("span",{style:u,children:[e,o("button",{"aria-label":"Remove ".concat(e),onClick:function(){return s(e)},style:p,children:"×"})]},e)}),o(ce.Input,{type:"text",value:i,onChange:function(t){return ae(function(n){return f(f({},n),{},d({},e,t.target.value))})},onKeyDown:function(e){"Enter"===e.key||","===e.key?(e.preventDefault(),c(i)):"Backspace"===e.key&&!i&&a.length&&s(a[a.length-1])},placeholder:r.placeholder||"Add tag and press Enter",className:"",style:f({minWidth:"140px",flex:"0 1 auto"},A.input)}),o(ce.Button,{onClick:function(){return c(i)},className:"",style:{padding:"6px 10px"},children:"Add"})]})]},e)},Be=function(e,t,n){return l(ce.Box,{className:"",style:f({marginBottom:"1rem"},A.fieldContainer),children:[l(ce.Label,{className:"",style:f({display:"block",fontWeight:"600",marginBottom:"0.5rem"},A.fieldLabel),children:[n," (Object)"]}),o(ce.Textarea,{value:JSON.stringify(t,null,2),onChange:function(t){try{var n=JSON.parse(t.target.value);de(e,n)}catch(n){de(e,t.target.value)}},className:"",style:f({fontFamily:"monospace",minHeight:"100px",width:"100%"},A.textarea)})]},e)},ke=function(e,t,n){return l(ce.Box,{className:"",style:f({marginBottom:"1rem"},A.fieldContainer),children:[o(ce.Label,{className:"",style:f({display:"block",fontWeight:"600",marginBottom:"0.5rem"},A.fieldLabel),children:n}),o(ce.Input,{type:"text",value:$[e]||"",onChange:function(t){return de(e,t.target.value)},className:"",style:f({width:"100%"},A.input)})]},e)};return o(ce.Container,f(f({className:"",style:A.container},V),{},{children:l(ce.VStack,{className:"",style:f({gap:"1rem"},A.stack),children:[ee&&o(ce.Alert,{className:"",style:A.alert,children:o(ce.Text,{style:A.errorText,children:ee})}),Object.keys($).length>0&&o(ce.Card,{className:"",style:f({width:"100%",padding:"1rem"},A.formCard),children:function(){if(Array.isArray(M)&&M.length){var e=Object.keys($),t=new Set,n=M.map(function(n,r){var a=n.id||"section-".concat(r),i=Array.isArray(n.fields)?n.fields:[];i.forEach(function(e){return t.add(e)});var c=i.filter(function(t){return e.includes(t)}),s=function(){if(H<=1)return o(ce.VStack,{style:{gap:"1rem"},children:c.map(function(e){return ue(e,$[e])})},a);for(var e=Math.ceil(c.length/H),t=[],n=0;n<H;n++){var r=n*e,i=Math.min(r+e,c.length);t.push(c.slice(r,i))}var l=f({display:"grid",gridTemplateColumns:"repeat(".concat(H,", 1fr)"),gap:"2rem",width:"100%"},A.formGrid);return o(ce.Box,{className:"",style:l,children:t.map(function(e,t){return o(ce.VStack,{className:"",style:f({gap:"1rem"},A.formColumn),children:e.map(function(e){return ue(e,$[e])})},t)})},a)}(),d=!(!n.defaultOpen&&n.collapsible),u=oe.has(a)?!d:d;return l(ce.Box,{style:{marginBottom:"1.25rem"},children:[l(ce.Box,{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:[l(ce.Box,{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.collapsible&&o("button",{"aria-label":"Toggle ".concat(n.title),onClick:function(){return le(function(e){var t=new Set(e);return t.has(a)?t.delete(a):t.add(a),t})},style:{border:"none",background:"transparent",cursor:"pointer"},children:o("span",{children:u?"▼":"▶"})}),o(ce.Heading,{className:"",style:{margin:0},children:n.title})]}),n.description&&o(ce.Text,{className:"",style:{opacity:.8},children:n.description})]}),(!n.collapsible||u)&&s]},"wrap-".concat(a))}),r=null;if(D){var a=e.filter(function(e){return!t.has(e)});if(a.length){var i="unsectioned",c=!0,s=!oe.has(i)&&c;r=l(ce.Box,{style:{marginBottom:"1.25rem"},children:[o(ce.Box,{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:l(ce.Box,{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o("button",{"aria-label":"Toggle ".concat(W),onClick:function(){return le(function(e){var t=new Set(e);return t.has(i)?t.delete(i):t.add(i),t})},style:{border:"none",background:"transparent",cursor:"pointer"},children:o("span",{children:s?"▼":"▶"})}),o(ce.Heading,{className:"",style:{margin:0},children:W})]})}),s&&function(){if(H<=1)return o(ce.VStack,{style:{gap:"1rem"},children:a.map(function(e){return ue(e,$[e])})});for(var e=Math.ceil(a.length/H),t=[],n=0;n<H;n++){var r=n*e,i=Math.min(r+e,a.length);t.push(a.slice(r,i))}var l=f({display:"grid",gridTemplateColumns:"repeat(".concat(H,", 1fr)"),gap:"2rem",width:"100%"},A.formGrid);return o(ce.Box,{className:"",style:l,children:t.map(function(e,t){return o(ce.VStack,{className:"",style:f({gap:"1rem"},A.formColumn),children:e.map(function(e){return ue(e,$[e])})},t)})})}()]},"wrap-".concat(i))}}return l(ce.VStack,{className:"",style:f({gap:"1rem"},A.formStack),children:[n,r]})}var d=Object.entries($);if(H<=1)return o(ce.VStack,{className:"",style:f({gap:"1rem"},A.formStack),children:d.map(function(e){var t=m(e,2),n=t[0],r=t[1];return ue(n,r)})});for(var u=Math.ceil(d.length/H),p=[],g=0;g<H;g++){var h=g*u,y=Math.min(h+u,d.length);p.push(d.slice(h,y))}var b=f({display:"grid",gridTemplateColumns:"repeat(".concat(H,", 1fr)"),gap:"2rem",width:"100%"},A.formGrid);return o(ce.Box,{className:"",style:b,children:p.map(function(e,t){return o(ce.VStack,{className:"",style:f({gap:"1rem"},A.formColumn),children:e.map(function(e){var t=m(e,2),n=t[0],r=t[1];return ue(n,r)})},t)})})}()}),j&&Object.keys($).length>0&&l(ce.HStack,{className:"",style:f({gap:"0.5rem",marginTop:"1rem"},A.controlButtons),children:[o(ce.Button,{onClick:function(){if(c){var e=B($);c(e,$)}},className:"",style:A.saveButton,children:y}),o(ce.Button,{onClick:function(){K(f({},Z)),s&&s()},className:"",style:A.cancelButton,children:v})]})]})}))};function j(n){var r=n.data,a=void 0===r?[]:r,s=n.classNames,d=void 0===s?{}:s,u=n.styles,p=void 0===u?{}:u,g=n.renderers,h=void 0===g?{}:g;n._uiLibrary;var y=n.startIcon,b=void 0===y?null:y,v=n.headerTitle,x=void 0===v?"My List title":v,B=n.headerDescription,k=void 0===B?null:B,w=n.mode,S=void 0===w?"dark":w,N=n.parentIcon,T=void 0===N?null:N,C=n.parentOpenIcon,A=void 0===C?null:C,I=n.parentClosedIcon,O=void 0===I?null:I,j=n.childIcon,L=void 0===j?null:j,H=n.hoverIcon,P=void 0===H?null:H,E=n.onItemClick,F=void 0===E?function(){}:E,M=n.onToggle,z=void 0===M?function(){}:M,D=n.sections,J=void 0===D?null:D,W=n.groupBy,V=void 0===W?null:W,G=n.sectionOrder,R=void 0===G?null:G,_=n.customStyles,U=void 0===_?{}:_,$={Container:h.Container||"div",Box:h.Box||"div",Heading:h.Heading||"h2",Text:h.Text||"span"},K=i(function(){return"light"===S?{bg:"#ffffff",headerText:"#4B5563",text:"#111827",rowHoverBg:"#F3F4F6",icon:"#374151",hoverIcon:"#6B7280",border:"#E5E7EB"}:{bg:"#111827",headerText:"#9CA3AF",text:"#E5E7EB",rowHoverBg:"#1F2937",icon:"#E5E7EB",hoverIcon:"#9CA3AF",border:"#374151"}},[S]),X={container:{background:K.bg},header:{padding:"8px 12px",color:K.headerText,fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.08em"},headerDescription:{padding:"0 12px 8px 12px",color:K.headerText,fontSize:"12px"},list:{padding:"8px"},row:{display:"flex",alignItems:"center",gap:"10px",padding:"8px 10px",borderRadius:"6px",cursor:"pointer",color:K.text},label:{flex:1},icon:{width:"18px",display:"inline-flex",alignItems:"center",justifyContent:"center",color:K.icon},hoverIcon:{color:K.hoverIcon},parent:{},child:{paddingLeft:"28px"}},Z=i(function(){return{container:f(f(f({},X.container),U.container||{}),p.container||{}),header:f(f(f({},X.header),U.header||{}),p.header||{}),headerDescription:f(f(f({},X.headerDescription),U.headerDescription||{}),p.headerDescription||{}),list:f(f(f({},X.list),U.list||{}),p.list||{}),row:f(f(f({},X.row),U.row||{}),p.row||{}),label:f(f(f({},X.label),U.label||{}),p.label||{}),icon:f(f(f({},X.icon),U.icon||{}),p.icon||{}),hoverIcon:f(f(f({},X.hoverIcon),U.hoverIcon||{}),p.hoverIcon||{}),parent:f(f(f({},X.parent),U.parent||{}),p.parent||{}),child:f(f(f({},X.child),U.child||{}),p.child||{}),sectionHeader:f(f({},U.sectionHeader||{}),p.sectionHeader||{})}},[U,p,X.container,X.header,X.headerDescription,X.list,X.row,X.label,X.icon,X.hoverIcon,X.parent,X.child]),q=m(t(function(){return new Set}),2),Q=q[0],Y=q[1],ee=m(t(function(){return new Set}),2),te=ee[0],ne=ee[1],re=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!==(n=e.id)&&void 0!==n?n:"".concat(r).concat(t)},ae=o("span",{style:{fontSize:14},children:"▼"}),ie=o("span",{style:{fontSize:14},children:"▶"}),oe=o("span",{style:{fontSize:14},children:"📁"}),le=o("span",{style:{fontSize:14},children:"🗂️"}),ce=o("span",{style:{fontSize:16},children:"…"}),se=function(e){var n=e.item,r=e.depth,a=void 0===r?0:r,i=e.index,s=e.parentPath,d=void 0===s?"":s,u=m(t(!1),2),p=u[0],g=u[1],h=re(n,i,"".concat(d).concat(a,"-")),y=function(e){return Array.isArray(e.children)&&e.children.length>0}(n),b=y&&Q.has(h);return l($.Box,{children:[l($.Box,{onClick:function(){F(n),y&&function(e,t){Y(function(n){var r=new Set(n);return r.has(e)?r.delete(e):r.add(e),z(t,r.has(e)),r})}(h,n)},onMouseEnter:function(){return g(!0)},onMouseLeave:function(){return g(!1)},style:f(f(f({},Z.row),y?Z.parent:Z.child),{},{paddingLeft:"".concat(y?10+16*a:28+16*a,"px")}),className:"json-to-list-row",children:[y?l(c,{children:[o($.Box,{style:Z.icon,children:b?A||ae:O||ie}),o($.Box,{style:Z.icon,children:n.icon||T||oe})]}):o($.Box,{style:Z.icon,children:n.icon||L||le}),o($.Box,{style:Z.label,children:n.label}),o($.Box,{className:"json-to-list-row-hover",style:f(f(f({},Z.icon),Z.hoverIcon),{},{opacity:p?1:0,transition:"opacity 0.15s ease"}),children:P||ce})]}),y&&b&&o($.Box,{children:n.children.map(function(e,t){return o(se,{item:e,depth:a+1,index:t,parentPath:h+"-"},re(e,t,h+"-"))})})]})},de=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(!(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&r),i=te.has(e)?!a:a;return l($.Box,{className:d.sectionHeader,style:f({display:"flex",alignItems:"center",justifyContent:"space-between",margin:"8px 8px 4px 8px"},Z.sectionHeader),children:[l($.Box,{className:d.sectionHeaderLeft,style:{display:"flex",alignItems:"center",gap:"8px"},children:[r&&o("button",{"aria-label":"Toggle ".concat(t),onClick:function(){return ne(function(t){var n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},style:{border:"none",background:"transparent",cursor:"pointer"},children:o("span",{children:i?"▼":"▶"})}),o($.Heading,{className:d.heading,style:{margin:0,color:"#ffffff"},children:t})]}),n&&o($.Text,{className:d.text,style:{opacity:.8},children:n})]},"header-".concat(e))};return l($.Container,{className:d.container,style:Z.container,children:[o($.Box,{className:d.header,style:Z.header,children:l($.Box,{className:d.headerLeft,style:{display:"flex",alignItems:"center",gap:"8px"},children:[b&&o($.Box,{style:Z.icon,children:b}),o("span",{className:d.title,children:x})]})}),k&&o($.Box,{className:d.headerDescription,style:Z.headerDescription,children:k}),function(){if(Array.isArray(J)&&J.length)return J.map(function(t,n){var r=t.id||"sec-".concat(n),i=de(r,t.title,t.description,!1!==t.collapsible,!1!==t.defaultOpen),c=!(!1===t.defaultOpen&&!1!==t.collapsible),s=te.has(r)?!c:c,d=(t.filter?a.filter(t.filter):a)||[];return l(e.Fragment,{children:[i,(!t.collapsible||s)&&o($.Box,{style:Z.list,children:d.map(function(e,t){return o(se,{item:e,index:t},re(e,t))})})]},"frag-".concat(r))});if("function"==typeof V){var t=new Map;return a.forEach(function(e){var n,r=null!==(n=V(e))&&void 0!==n?n:"Other";t.has(r)||t.set(r,[]),t.get(r).push(e)}),(R&&R.length?R.filter(function(e){return t.has(e)}):Array.from(t.keys())).map(function(n,r){var a="grp-".concat(r,"-").concat(n),i=de(a,n,null,!0,!0),c=!0,s=!te.has(a)&&c;return l(e.Fragment,{children:[i,s&&o($.Box,{style:Z.list,children:t.get(n).map(function(e,t){return o(se,{item:e,index:t},re(e,t))})})]},"frag-".concat(a))})}return o($.Box,{style:Z.list,children:a.map(function(e,t){return o(se,{item:e,index:t},re(e,t))})})}()]})}export{O as Fields,O as JsonToFields,j as JsonToList,A as JsonToTable,j as List,A as Table,x as flattenObject,S as formatJson,T as getDisplayName,k as getInputType,N as getNestedLevel,v as getUIClasses,b as getUIComponents,w as parseJsonSafely,B as unflattenObject};
//# sourceMappingURL=index.esm.js.map
