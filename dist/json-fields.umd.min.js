!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react/jsx-runtime")):"function"==typeof define&&define.amd?define(["exports","react","react/jsx-runtime"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).JsonFields={},e.React,e.jsxRuntime)}(this,function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,i,o,a=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){c=!0,l=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw l}}return a}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"chakra",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";if("chakra"===e)return"";var r={tailwind:{Container:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",Box:"block",Button:{default:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",secondary:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},Input:{default:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",checkbox:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},Select:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",Textarea:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm resize-vertical",Table:"min-w-full divide-y divide-gray-200",Thead:"bg-gray-50",Tbody:"bg-white divide-y divide-gray-200",Tr:"hover:bg-gray-50",Th:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",Td:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",Text:"text-gray-900",Heading:"text-2xl font-bold text-gray-900 mb-4",Stack:"space-y-4",HStack:"flex space-x-4 items-center",VStack:"flex flex-col space-y-4",Card:"bg-white overflow-hidden shadow rounded-lg p-6",Alert:{error:"bg-red-50 border border-red-200 rounded-md p-4 text-red-800",success:"bg-green-50 border border-green-200 rounded-md p-4 text-green-800",warning:"bg-yellow-50 border border-yellow-200 rounded-md p-4 text-yellow-800",info:"bg-blue-50 border border-blue-200 rounded-md p-4 text-blue-800"},Badge:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",Grid:"grid",GridItem:"",Flex:"flex",Label:"block text-sm font-medium text-gray-700"},shadcn:{Container:"container mx-auto px-4",Box:"block",Button:{default:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2",secondary:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary text-secondary-foreground hover:bg-secondary/80 h-10 px-4 py-2"},Input:{default:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",checkbox:"h-4 w-4 rounded border border-primary text-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},Select:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",Textarea:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",Table:"w-full caption-bottom text-sm",Thead:"[&_tr]:border-b",Tbody:"[&_tr:last-child]:border-0",Tr:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",Th:"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",Td:"p-4 align-middle [&:has([role=checkbox])]:pr-0",Text:"text-sm text-muted-foreground",Heading:"scroll-m-20 text-2xl font-semibold tracking-tight",Stack:"flex flex-col space-y-4",HStack:"flex space-x-4",VStack:"flex flex-col space-y-4",Card:"rounded-lg border bg-card text-card-foreground shadow-sm",Alert:{error:"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",warning:"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",info:"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground"},Badge:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",Grid:"grid",GridItem:"",Flex:"flex",Label:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}}[e];if(!r||!r[t])return"";var l=r[t];return"object"===c(l)?l[n]||l.default||"":l},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var l=t?"".concat(t,".").concat(r):r;"object"!==c(e[r])||null===e[r]||Array.isArray(e[r])?n[l]=e[r]:Object.assign(n,f(e[r],l))}return n},p=function(e){var t={};for(var n in e){for(var r=n.split("."),l=t,i=0;i<r.length-1;i++)l[r[i]]||(l[r[i]]={}),l=l[r[i]];l[r[r.length-1]]=e[n]}return t},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n[t])return o({type:n[t].type},n[t]);if("boolean"==typeof e)return{type:"checkbox"};if("number"==typeof e)return{type:"number"};if(Array.isArray(e))return{type:"array",items:e};if("object"===c(e)&&null!==e)return{type:"object"};if("string"==typeof e){if(e.length>100)return{type:"textarea",rows:4};if(e.includes("@")||t.toLowerCase().includes("email"))return{type:"email"};if(e.startsWith("http")||t.toLowerCase().includes("url"))return{type:"url"};if(e.match(/^\d{4}-\d{2}-\d{2}$/)||t.toLowerCase().includes("date"))return{type:"date"};if(t.toLowerCase().includes("password"))return{type:"password"}}return{type:"text"}},x=function(e){try{return{success:!0,data:JSON.parse(e)}}catch(e){return{success:!1,error:e.message}}},y=function(e){return e.split(".").pop().replace(/([A-Z])/g," $1").replace(/[_-]/g," ").replace(/\b\w/g,function(e){return e.toUpperCase()}).trim()},g=["_classNames","styles","renderers","customFieldRenderers","customInputRenderers","customControlRenderers","customLabelRenderers","uiLibrary","onSave","onCancel","onFieldChange","saveButtonText","cancelButtonText","initialJson","customStyles","showControls","inlineLabels","columns","fieldConfig","sections","includeUnsectioned","unsectionedTitle"],b=function(e){e._classNames,e.styles;var r=e.renderers,i=void 0===r?{}:r,u=e.customFieldRenderers,b=void 0===u?{}:u,h=e.customInputRenderers,v=void 0===h?{}:h,j=e.customControlRenderers,B=void 0===j?{}:j,k=e.customLabelRenderers,S=void 0===k?{}:k,T=e.uiLibrary,C=void 0===T?"chakra":T,w=e.onSave,N=e.onCancel,L=e.onFieldChange,I=e.saveButtonText,O=void 0===I?"Save Changes":I,A=e.cancelButtonText,D=void 0===A?"Reset Form":A,H=e.initialJson,F=void 0===H?"":H,W=e.customStyles,z=void 0===W?{}:W,V=e.showControls,P=void 0===V||V,R=e.inlineLabels,E=void 0!==R&&R,U=e.columns,J=void 0===U?2:U,G=e.fieldConfig,M=void 0===G?{}:G,_=e.sections,$=void 0===_?null:_,q=e.includeUnsectioned,K=void 0!==q&&q,Z=e.unsectionedTitle,Q=void 0===Z?"Other":Z,X=function(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,g),Y=a(t.useState(F),2),ee=Y[0],te=Y[1],ne=a(t.useState({}),2),re=ne[0],le=ne[1],ie=a(t.useState({}),2),oe=ie[0],ae=ie[1],se=a(t.useState(null),2)[1],ce=a(t.useState(""),2),ue=ce[0],de=ce[1],fe=a(t.useState({}),2),pe=fe[0],me=fe[1],xe=a(t.useState(function(){return new Set}),2),ye=xe[0],ge=xe[1],be={Container:i.Container||"div",Box:i.Box||"div",Button:i.Button||"button",Input:i.Input||"input",Select:i.Select||"select",Textarea:i.Textarea||"textarea",Text:i.Text||"span",Heading:i.Heading||"h2",VStack:i.VStack||"div",HStack:i.HStack||"div",Card:i.Card||"div",Alert:i.Alert||"div",Label:i.Label||"label"},he=function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=Array.isArray(t),d=!u&&"object"===c(t)&&null!==t,f=u?t:d?Object.entries(t).map(function(e){var t=a(e,2);return{key:t[0],value:t[1]}}):[],p=[];if(f.length){var m=new Set;f.forEach(function(e){return Object.keys(e||{}).forEach(function(e){return m.add(e)})}),p=Array.from(m)}else p=Array.isArray(i.columns)?i.columns:["key","value"];var x=function(t){if(u)ke(e,t);else if(d){var n={};t.forEach(function(e){var t,r,l=null!==(t=e.key)&&void 0!==t?t:e.name,i=null!==(r=e.value)&&void 0!==r?r:e.val;void 0!==l&&""!==l&&(n[l]=i)}),ke(e,n)}else ke(e,t)},y={display:"grid",gridTemplateColumns:"".concat("1fr ".repeat(p.length),"auto").trim(),gap:"0.5rem",alignItems:"center",padding:"3px 0px"},g=je(e,i),b=g.description,h=g.placement,v=b?n.jsx(be.Text,{className:ve(C,"Text"),style:{fontSize:"12px",opacity:.8,marginBottom:"0.5rem"},children:b}):null;return n.jsxs(be.Box,{className:ve(C,"Box"),style:o({marginBottom:"1rem"},z.fieldContainer),children:[n.jsx(be.Label,{className:ve(C,"Label"),style:o({display:"block",fontWeight:"600",marginBottom:"0.5rem"},z.fieldLabel),children:r}),"label"===h?v:null,!1!==i.showHeader&&n.jsxs(be.Box,{style:o(o({},y),{},{fontSize:"12px",opacity:.8}),children:[p.map(function(e){return n.jsx(be.Text,{children:e},"hdr-".concat(e))}),n.jsx("span",{})]}),n.jsxs(be.VStack,{style:{gap:"0.5rem"},children:[f.map(function(t,i){return n.jsxs(be.Box,{style:y,children:[p.map(function(r){var a;return n.jsx(be.Input,{type:"text",placeholder:r,value:null!==(a=null==t?void 0:t[r])&&void 0!==a?a:"",onChange:function(e){return t=i,n=r,a=e.target.value,s=f.map(function(e,r){return r===t?o(o({},e),{},l({},n,a)):e}),void x(s);var t,n,a,s},className:ve(C,"Input"),style:z.input},"".concat(e,"-").concat(i,"-").concat(r))}),n.jsx(be.Button,{"aria-label":"Remove ".concat(r," row ").concat(i+1),onClick:function(){return function(e){var t=f.filter(function(t,n){return n!==e});x(t)}(i)},className:ve(C,"Button","secondary"),style:{padding:"6px 10px"},children:"×"})]},"".concat(e,"-").concat(i))}),n.jsxs(be.Button,{onClick:function(){var e=p.reduce(function(e,t){return o(o({},e),{},l({},t,""))},{});x([].concat(s(f),[e]))},className:ve(C,"Button","default"),style:{alignSelf:"flex-start",padding:"6px 10px"},children:["+ Add ",r]})]}),"input"===h?v:null]},e)},ve=function(e,t,n){return d(e,t,n)},je=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=(null==M?void 0:M[e])||{};return{description:null!==(t=r.description)&&void 0!==t?t:l.description,placement:"input"===(null!==(n=r.descriptionPlacement)&&void 0!==n?n:l.descriptionPlacement)?"input":"label"}},Be=t.useCallback(function(){var e=x(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee);if(e.success){se(e.data);var t=f(e.data);le(t),ae(o({},t)),de("")}else de(e.error),se(null),le({}),ae({})},[ee]);t.useEffect(function(){F?(te(F),Be(F)):""===F&&(te(""),le({}),ae({}),se(null),de(""))},[F,Be]);var ke=function(e,t){var n=o(o({},re),{},l({},e,t));if(le(n),L){var r=p(n);L(e,t,r)}},Se=function(e,r){var i=m(r,e,M),a=y(e),s={key:e,value:r,displayName:a,fieldTypeConfig:i,formData:re,onChange:function(t){return ke(e,t)},UI:be,props:o({uiLibrary:C,onSave:w,onCancel:N,onFieldChange:L,saveButtonText:O,cancelButtonText:D,initialJson:F,customStyles:z,showControls:P,inlineLabels:E,columns:J,fieldConfig:M,sections:$,includeUnsectioned:K,unsectionedTitle:Q},X)},c=null==b?void 0:b[e];if("function"==typeof c)return n.jsx(t.Fragment,{children:c(s)},e);var u=null==v?void 0:v[i.type];if("function"==typeof u)return n.jsx(t.Fragment,{children:u(s)},e);switch(i.type){case"checkbox":return Ce(e,r,a);case"select":return we(e,r,a,i);case"segment":return function(e,t,r,i){var a={key:e,value:t,displayName:r,fieldTypeConfig:i,formData:re,onChange:function(t){return ke(e,t)},UI:be,props:o({uiLibrary:C,customStyles:z,inlineLabels:E},X)},s="function"==typeof(null==S?void 0:S[e])&&S[e](a)||"function"==typeof(null==S?void 0:S.segment)&&S.segment(a)||n.jsx(be.Label,{className:ve(C,"Label"),style:o(o({},z.fieldLabel),{},{marginBottom:E?0:"0.5rem"}),children:r}),c="function"==typeof(null==B?void 0:B[e])&&B[e](a)||"function"==typeof(null==B?void 0:B.segment)&&B.segment(a)||n.jsx(be.HStack,{className:ve(C,"HStack"),style:o(l(l(l({},E?"flex":"width",E?1:"100%"),"gap","0.5rem"),"flexWrap","wrap"),z.hstack),children:(i.options||[]).map(function(r){var l,i=(null!==(l=re[e])&&void 0!==l?l:t)===r;return n.jsx(be.Button,{type:"button",onClick:function(){return ke(e,r)},className:ve(C,"Button",i?"primary":"secondary"),style:{padding:"6px 10px",borderRadius:"8px",border:i?"1px solid var(--segment-selected-border, #6366f1)":"1px solid rgba(0,0,0,0.1)",background:i?"var(--segment-selected-bg, #eef2ff)":"var(--segment-bg, #fff)",color:i?"var(--segment-selected-fg, #3730a3)":"inherit",cursor:"pointer"},children:r},r)})}),u=je(e,i),d=u.description,f=u.placement,p=d?n.jsx(be.Text,{className:ve(C,"Text"),style:{fontSize:"12px",opacity:.8,marginTop:"0.25rem"},children:d}):null;return n.jsx(be.Box,{className:ve(C,"Box"),style:o({marginBottom:"1rem"},z.fieldContainer),children:E?n.jsxs(be.Box,{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[n.jsx(be.Box,{style:{minWidth:"30%"},children:s}),n.jsxs(be.Box,{style:{display:"flex",flexDirection:"column",flex:1},children:[c,p]})]}):n.jsxs(n.Fragment,{children:[s,"label"===f?p:null,c,"input"===f?p:null]})},e)}(e,r,a,i);case"multi-select":return Ne(e,r,a,i);case"textarea":return Le(e,r,a,i);case"email":case"url":case"date":case"password":return Ie(e,r,a,i);case"number":return Oe(e,r,a);case"slider":return Te(e,r,a,i);case"tags":return De(e,r,a,i);case"key-value-list":return he(e,r,a,i);case"array":return Ae(e,r,a,i);case"object":return He(e,r,a);default:return Fe(e,r,a)}},Te=function(e,t,r,l){var i,a,s,c,u=null!==(i=l.min)&&void 0!==i?i:0,d=null!==(a=l.max)&&void 0!==a?a:100,f=null!==(s=l.step)&&void 0!==s?s:1,p="number"==typeof re[e]?re[e]:null!==(c=l.default)&&void 0!==c?c:u,m=je(e,l),x=m.description,y=m.placement,g=x?n.jsx(be.Text,{className:ve(C,"Text"),style:{fontSize:"12px",opacity:.8,marginTop:"0.25rem",marginBottom:"label"===y?"0.5rem":0},children:x}):null;return n.jsxs(be.Box,{className:ve(C,"Box"),style:o({marginBottom:"1rem"},z.fieldContainer),children:[n.jsx(be.Label,{className:ve(C,"Label"),style:z.label,children:n.jsx(be.Text,{className:ve(C,"Text"),style:o({fontWeight:"500"},z.fieldLabel),children:r})}),"label"===y?g:null,n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[n.jsx("input",{type:"range",min:u,max:d,step:f,value:p,onChange:function(t){return ke(e,Number(t.target.value))},className:ve(C,"Input","range"),style:{width:"100%"}}),n.jsx(be.Text,{className:ve(C,"Text"),style:{minWidth:"3rem",textAlign:"right"},children:p})]}),"input"===y?g:null]},e)},Ce=function(e,t,r){var l={key:e,value:t,displayName:r,fieldTypeConfig:{type:"checkbox"},formData:re,onChange:function(t){return ke(e,t)},UI:be,props:o({uiLibrary:C,customStyles:z,inlineLabels:E},X)},i="function"==typeof(null==S?void 0:S[e])&&S[e](l)||"function"==typeof(null==S?void 0:S.checkbox)&&S.checkbox(l)||n.jsx(be.Text,{className:ve(C,"Text"),style:o({fontWeight:"500"},z.fieldLabel),children:r}),a="function"==typeof(null==B?void 0:B[e])&&B[e](l)||"function"==typeof(null==B?void 0:B.checkbox)&&B.checkbox(l)||n.jsx("input",{type:"checkbox",checked:re[e]||!1,onChange:function(t){return ke(e,t.target.checked)},className:ve(C,"Input","checkbox"),style:z.checkbox}),s=je(e,o({type:"checkbox"},null==M?void 0:M[e])),c=s.description,u=s.placement,d=c?n.jsx(be.Text,{className:ve(C,"Text"),style:{fontSize:"12px",opacity:.8,marginTop:"4px"},children:c}):null;return n.jsxs(be.Box,{className:ve(C,"Box"),style:o({marginBottom:"1rem"},z.fieldContainer),children:["label"===u?d:null,n.jsxs(be.Label,{className:ve(C,"Label"),style:o({display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},z.label),children:[a,i]}),"input"===u?d:null]},e)},we=function(e,t,r,i){var a,s={key:e,value:t,displayName:r,fieldTypeConfig:i,formData:re,onChange:function(t){return ke(e,t)},UI:be,props:o({uiLibrary:C,customStyles:z,inlineLabels:E},X)},c="function"==typeof(null==S?void 0:S[e])&&S[e](s)||"function"==typeof(null==S?void 0:S.select)&&S.select(s)||n.jsx(be.Label,{className:ve(C,"Label"),style:o(o({},z.fieldLabel),{},{marginBottom:E?0:"0.5rem"}),children:r}),u="function"==typeof(null==B?void 0:B[e])&&B[e](s)||"function"==typeof(null==B?void 0:B.select)&&B.select(s)||n.jsxs(be.Select,{value:re[e]||"",onChange:function(t){return ke(e,t.target.value)},className:ve(C,"Select"),style:o(l({},E?"flex":"width",E?1:"100%"),z.select),children:[n.jsxs("option",{value:"",children:["Select ",r]}),null===(a=i.options)||void 0===a?void 0:a.map(function(e){return n.jsx("option",{value:e,children:e},e)})]}),d=je(e,i),f=d.description,p=d.placement,m=f?n.jsx(be.Text,{className:ve(C,"Text"),style:{fontSize:"12px",opacity:.8,marginTop:"0.25rem"},children:f}):null;return n.jsx(be.Box,{className:ve(C,"Box"),style:o({marginBottom:"1rem"},z.fieldContainer),children:E?n.jsxs(be.Box,{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[n.jsx(be.Box,{style:{minWidth:"30%"},children:c}),n.jsxs(be.Box,{style:{display:"flex",flexDirection:"column",flex:1},children:[u,m]})]}):n.jsxs(n.Fragment,{children:[c,"label"===p?m:null,u,"input"===p?m:null]})},e)},Ne=function(e,t,r,l){var i,a=Array.isArray(re[e])?re[e]:[],c=je(e,l),u=c.description,d=c.placement,f=u?n.jsx(be.Text,{className:ve(C,"Text"),style:{fontSize:"12px",opacity:.8,marginTop:"0.25rem",marginBottom:"label"===d?"0.5rem":0},children:u}):null;return n.jsxs(be.Box,{className:ve(C,"Box"),style:o({marginBottom:"1rem"},z.fieldContainer),children:[n.jsx(be.Label,{className:ve(C,"Label"),style:o({display:"block",fontWeight:"600",marginBottom:"0.5rem"},z.fieldLabel),children:r}),"label"===d?f:null,n.jsx(be.Box,{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:null===(i=l.options)||void 0===i?void 0:i.map(function(t){return n.jsxs(be.Label,{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:a.includes(t),onChange:function(n){var r=n.target.checked?[].concat(s(a),[t]):a.filter(function(e){return e!==t});ke(e,r)},style:z.checkbox}),n.jsx(be.Text,{style:o({fontSize:"14px"},z.text),children:t})]},t)})}),"input"===d?f:null]},e)},Le=function(e,t,r,i){var a={key:e,value:t,displayName:r,fieldTypeConfig:i,formData:re,onChange:function(t){return ke(e,t)},UI:be,props:o({uiLibrary:C,customStyles:z,inlineLabels:E},X)},s="function"==typeof(null==S?void 0:S[e])&&S[e](a)||"function"==typeof(null==S?void 0:S.textarea)&&S.textarea(a)||n.jsx(be.Label,{className:ve(C,"Label"),style:o(o({},z.fieldLabel),{},{marginBottom:E?0:"0.5rem"}),children:r}),c="function"==typeof(null==B?void 0:B[e])&&B[e](a)||"function"==typeof(null==B?void 0:B.textarea)&&B.textarea(a)||n.jsx(be.Textarea,{value:re[e]||"",onChange:function(t){return ke(e,t.target.value)},className:ve(C,"Textarea"),style:o(l(l({},E?"flex":"width",E?1:"100%"),"minHeight","".concat(1.5*(i.rows||4),"rem")),z.textarea)}),u=je(e,i),d=u.description,f=u.placement,p=d?n.jsx(be.Text,{className:ve(C,"Text"),style:{fontSize:"12px",opacity:.8,marginTop:"0.25rem"},children:d}):null;return n.jsx(be.Box,{className:ve(C,"Box"),style:o({marginBottom:"1rem"},z.fieldContainer),children:E?n.jsxs(be.Box,{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[n.jsx(be.Box,{style:{minWidth:"30%"},children:s}),n.jsxs(be.Box,{style:{display:"flex",flexDirection:"column",flex:1},children:[c,p]})]}):n.jsxs(n.Fragment,{children:[s,"label"===f?p:null,c,"input"===f?p:null]})},e)},Ie=function(e,t,r,i){var a={key:e,value:t,displayName:r,fieldTypeConfig:i,formData:re,onChange:function(t){return ke(e,t)},UI:be,props:o({uiLibrary:C,customStyles:z,inlineLabels:E},X)},s="function"==typeof(null==S?void 0:S[e])&&S[e](a)||"function"==typeof(null==S?void 0:S[i.type])&&S[i.type](a)||n.jsx(be.Label,{className:ve(C,"Label"),style:o(o({},z.fieldLabel),{},{marginBottom:E?0:"0.5rem"}),children:r}),c="function"==typeof(null==B?void 0:B[e])&&B[e](a)||"function"==typeof(null==B?void 0:B[i.type])&&B[i.type](a)||n.jsx(be.Input,{type:i.type,value:re[e]||"",onChange:function(t){return ke(e,t.target.value)},className:ve(C,"Input"),style:o(l({},E?"flex":"width",E?1:"100%"),z.input)}),u=i.description?n.jsx(be.Text,{className:ve(C,"Text"),style:{fontSize:"12px",opacity:.8,marginTop:"0.25rem",marginBottom:E?0:"0.25rem"},children:i.description}):null;return n.jsx(be.Box,{className:ve(C,"Box"),style:o({marginBottom:"1rem"},z.fieldContainer),children:E?n.jsxs(be.Box,{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[n.jsx(be.Box,{style:{minWidth:"30%"},children:s}),n.jsxs(be.Box,{style:{display:"flex",flexDirection:"column",flex:1},children:[c,u]})]}):n.jsxs(n.Fragment,{children:[s,u,c]})},e)},Oe=function(e,t,r){var i={key:e,value:t,displayName:r,fieldTypeConfig:{type:"number"},formData:re,onChange:function(t){return ke(e,t)},UI:be,props:o({uiLibrary:C,customStyles:z,inlineLabels:E},X)},a="function"==typeof(null==S?void 0:S[e])&&S[e](i)||"function"==typeof(null==S?void 0:S.number)&&S.number(i)||n.jsx(be.Label,{className:ve(C,"Label"),style:o({display:"block",fontWeight:"600",marginBottom:E?0:"0.5rem"},z.fieldLabel),children:r}),s="function"==typeof(null==B?void 0:B[e])&&B[e](i)||"function"==typeof(null==B?void 0:B.number)&&B.number(i)||n.jsx(be.Input,{type:"number",value:re[e]||"",onChange:function(t){var n=parseFloat(t.target.value)||0;ke(e,n)},className:ve(C,"Input"),style:o(l({},E?"flex":"width",E?1:"100%"),z.input)}),c=je(e,o({type:"number"},null==M?void 0:M[e])),u=c.description,d=c.placement,f=u?n.jsx(be.Text,{className:ve(C,"Text"),style:{fontSize:"12px",opacity:.8,marginTop:"0.25rem"},children:u}):null;return n.jsx(be.Box,{className:ve(C,"Box"),style:o({marginBottom:"1rem"},z.fieldContainer),children:E?n.jsxs(be.Box,{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[n.jsx(be.Box,{style:{minWidth:"30%"},children:a}),n.jsxs(be.Box,{style:{display:"flex",flexDirection:"column",flex:1},children:[s,f]})]}):n.jsxs(n.Fragment,{children:[a,"label"===d?f:null,s,"input"===d?f:null]})},e)},Ae=function(e,t,r,i){if((Array.isArray(t)?t:[]).every(function(e){return"string"==typeof e})){var a=Array.isArray(re[e])?re[e]:[],c=pe[e]||"",u=function(t){var n=(t||"").trim();n&&(a.includes(n)||(ke(e,[].concat(s(a),[n])),me(function(t){return o(o({},t),{},l({},e,""))})))},d=function(t){ke(e,a.filter(function(e){return e!==t}))},f={display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 8px",borderRadius:"999px",background:"#eef2ff",color:"#3730a3",border:"1px solid #c7d2fe",fontSize:"12px"},p={cursor:"pointer",border:"none",background:"transparent",color:"#4338ca",fontSize:"14px",lineHeight:1},m=je(e,i),x=m.description,y=m.placement,g=x?n.jsx(be.Text,{className:ve(C,"Text"),style:{fontSize:"12px",opacity:.8,marginBottom:"0.5rem"},children:x}):null;return n.jsxs(be.Box,{className:ve(C,"Box"),style:o({marginBottom:"1rem"},z.fieldContainer),children:[n.jsx(be.Label,{className:ve(C,"Label"),style:o({display:"block",fontWeight:"600",marginBottom:"0.5rem"},z.fieldLabel),children:r}),"label"===y?g:null,n.jsxs(be.Box,{style:{display:"flex",flexWrap:"wrap",gap:"8px",alignItems:"center"},children:[a.map(function(e){return n.jsxs("span",{style:f,children:[e,n.jsx("button",{"aria-label":"Remove ".concat(e),onClick:function(){return d(e)},style:p,children:"×"})]},e)}),n.jsx(be.Input,{type:"text",value:c,onChange:function(t){return me(function(n){return o(o({},n),{},l({},e,t.target.value))})},onKeyDown:function(e){"Enter"===e.key||","===e.key?(e.preventDefault(),u(c)):"Backspace"===e.key&&!c&&a.length&&d(a[a.length-1])},placeholder:i.placeholder||"Add ".concat(r," and press Enter"),className:ve(C,"Input"),style:o({minWidth:"140px",flex:"0 1 auto"},z.input)}),n.jsx(be.Button,{onClick:function(){return u(c)},className:ve(C,"Button","secondary"),style:{padding:"6px 10px"},children:"Add"})]}),"input"===y?g:null]},e)}var b=je(e,i),h=b.description,v=b.placement,j=h?n.jsx(be.Text,{className:ve(C,"Text"),style:{fontSize:"12px",opacity:.8,marginBottom:"0.5rem"},children:h}):null;return n.jsxs(be.Box,{className:ve(C,"Box"),style:o({marginBottom:"1rem"},z.fieldContainer),children:[n.jsxs(be.Label,{className:ve(C,"Label"),style:o({display:"block",fontWeight:"600",marginBottom:"0.5rem"},z.fieldLabel),children:[r," (Array)"]}),"label"===v?j:null,n.jsx(be.Textarea,{value:JSON.stringify(t,null,2),onChange:function(t){try{var n=JSON.parse(t.target.value);ke(e,n)}catch(n){ke(e,t.target.value)}},className:ve(C,"Textarea"),style:o({fontFamily:"monospace",minHeight:"100px",width:"100%"},z.textarea)}),"input"===v?j:null]},e)},De=function(e,t,r,i){var a=Array.isArray(re[e])?re[e]:[],c=pe[e]||"",u=function(t){var n=(t||"").trim();n&&(a.includes(n)||(ke(e,[].concat(s(a),[n])),me(function(t){return o(o({},t),{},l({},e,""))})))},d=function(t){ke(e,a.filter(function(e){return e!==t}))},f={display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 8px",borderRadius:"999px",background:"#eef2ff",color:"#3730a3",border:"1px solid #c7d2fe",fontSize:"12px"},p={cursor:"pointer",border:"none",background:"transparent",color:"#4338ca",fontSize:"14px",lineHeight:1},m=je(e,i),x=m.description,y=m.placement,g=x?n.jsx(be.Text,{className:ve(C,"Text"),style:{fontSize:"12px",opacity:.8,marginBottom:"0.5rem"},children:x}):null;return n.jsxs(be.Box,{className:ve(C,"Box"),style:o({marginBottom:"1rem"},z.fieldContainer),children:[n.jsx(be.Label,{className:ve(C,"Label"),style:o({display:"block",fontWeight:"600",marginBottom:"0.5rem"},z.fieldLabel),children:r}),"label"===y?g:null,n.jsxs(be.Box,{style:{display:"flex",flexWrap:"wrap",gap:"8px",alignItems:"center"},children:[a.map(function(e){return n.jsxs("span",{style:f,children:[e,n.jsx("button",{"aria-label":"Remove ".concat(e),onClick:function(){return d(e)},style:p,children:"×"})]},e)}),n.jsx(be.Input,{type:"text",value:c,onChange:function(t){return me(function(n){return o(o({},n),{},l({},e,t.target.value))})},onKeyDown:function(e){"Enter"===e.key||","===e.key?(e.preventDefault(),u(c)):"Backspace"===e.key&&!c&&a.length&&d(a[a.length-1])},placeholder:i.placeholder||"Add tag and press Enter",className:ve(C,"Input"),style:o({minWidth:"140px",flex:"0 1 auto"},z.input)}),n.jsx(be.Button,{onClick:function(){return u(c)},className:ve(C,"Button","secondary"),style:{padding:"6px 10px"},children:"Add"})]}),"input"===y?g:null]},e)},He=function(e,t,r){var l=je(e,(null==M?void 0:M[e])||{type:"object"}),i=l.description,a=l.placement,s=i?n.jsx(be.Text,{className:ve(C,"Text"),style:{fontSize:"12px",opacity:.8,marginBottom:"0.5rem"},children:i}):null;return n.jsxs(be.Box,{className:ve(C,"Box"),style:o({marginBottom:"1rem"},z.fieldContainer),children:[n.jsxs(be.Label,{className:ve(C,"Label"),style:o({display:"block",fontWeight:"600",marginBottom:"0.5rem"},z.fieldLabel),children:[r," (Object)"]}),"label"===a?s:null,n.jsx(be.Textarea,{value:JSON.stringify(t,null,2),onChange:function(t){try{var n=JSON.parse(t.target.value);ke(e,n)}catch(n){ke(e,t.target.value)}},className:ve(C,"Textarea"),style:o({fontFamily:"monospace",minHeight:"100px",width:"100%"},z.textarea)}),"input"===a?s:null]},e)},Fe=function(e,t,r){var i={key:e,value:t,displayName:r,fieldTypeConfig:{type:"text"},formData:re,onChange:function(t){return ke(e,t)},UI:be,props:o({uiLibrary:C,customStyles:z,inlineLabels:E},X)},a="function"==typeof(null==S?void 0:S[e])&&S[e](i)||"function"==typeof(null==S?void 0:S.text)&&S.text(i)||n.jsx(be.Label,{className:ve(C,"Label"),style:o({display:"block",fontWeight:"600",marginBottom:E?0:"0.5rem"},z.fieldLabel),children:r}),s="function"==typeof(null==B?void 0:B[e])&&B[e](i)||"function"==typeof(null==B?void 0:B.text)&&B.text(i)||n.jsx(be.Input,{type:"text",value:re[e]||"",onChange:function(t){return ke(e,t.target.value)},className:ve(C,"Input"),style:o(l({},E?"flex":"width",E?1:"100%"),z.input)}),c=je(e,o({type:"text"},null==M?void 0:M[e])),u=c.description,d=c.placement,f=u?n.jsx(be.Text,{className:ve(C,"Text"),style:{fontSize:"12px",opacity:.8,marginTop:"0.25rem"},children:u}):null;return n.jsx(be.Box,{className:ve(C,"Box"),style:o({marginBottom:"1rem"},z.fieldContainer),children:E?n.jsxs(be.Box,{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[n.jsx(be.Box,{style:{minWidth:"30%"},children:a}),n.jsxs(be.Box,{style:{display:"flex",flexDirection:"column",flex:1},children:[s,f]})]}):n.jsxs(n.Fragment,{children:[a,"label"===d?f:null,s,"input"===d?f:null]})},e)};return n.jsx(be.Container,o(o({className:ve(C,"Container"),style:z.container},X),{},{children:n.jsxs(be.VStack,{className:ve(C,"VStack"),style:o({gap:"1rem"},z.stack),children:[ue&&n.jsx(be.Alert,{className:ve(C,"Alert","error"),style:z.alert,children:n.jsx(be.Text,{style:z.errorText,children:ue})}),Object.keys(re).length>0&&n.jsx(be.Card,{className:ve(C,"Card"),style:o({width:"100%",padding:"1rem"},z.formCard),children:function(){if(Array.isArray($)&&$.length){var e=Object.keys(re),t=new Set,r=$.map(function(r,l){var i=r.id||"section-".concat(l),a=Array.isArray(r.fields)?r.fields:[];a.forEach(function(e){return t.add(e)});var s=a.filter(function(t){return e.includes(t)}),c=function(){if(J<=1)return n.jsx(be.VStack,{style:{gap:"1rem"},children:s.map(function(e){return Se(e,re[e])})},i);for(var e=Math.ceil(s.length/J),t=[],r=0;r<J;r++){var l=r*e,a=Math.min(l+e,s.length);t.push(s.slice(l,a))}var c=o({display:"grid",gridTemplateColumns:"repeat(".concat(J,", 1fr)"),gap:"2rem",width:"100%"},z.formGrid);return n.jsx(be.Box,{className:ve(C,"Box"),style:c,children:t.map(function(e,t){return n.jsx(be.VStack,{className:ve(C,"VStack"),style:o({gap:"1rem"},z.formColumn),children:e.map(function(e){return Se(e,re[e])})},t)})},i)}(),u=!(!r.defaultOpen&&r.collapsible),d=ye.has(i)?!u:u;return n.jsxs(be.Box,{style:{marginBottom:"1.25rem"},children:[n.jsxs(be.Box,{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:[n.jsxs(be.Box,{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.collapsible&&n.jsx("button",{"aria-label":"Toggle ".concat(r.title),onClick:function(){return ge(function(e){var t=new Set(e);return t.has(i)?t.delete(i):t.add(i),t})},style:{border:"none",background:"transparent",cursor:"pointer"},children:n.jsx("span",{children:d?"▼":"▶"})}),n.jsx(be.Heading,{className:ve(C,"Heading"),style:{margin:0},children:r.title})]}),r.description&&n.jsx(be.Text,{className:ve(C,"Text"),style:{opacity:.8},children:r.description})]}),(!r.collapsible||d)&&c]},"wrap-".concat(i))}),l=null;if(K){var i=e.filter(function(e){return!t.has(e)});if(i.length){var s="unsectioned",c=!0,u=!ye.has(s)&&c;l=n.jsxs(be.Box,{style:{marginBottom:"1.25rem"},children:[n.jsx(be.Box,{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:n.jsxs(be.Box,{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("button",{"aria-label":"Toggle ".concat(Q),onClick:function(){return ge(function(e){var t=new Set(e);return t.has(s)?t.delete(s):t.add(s),t})},style:{border:"none",background:"transparent",cursor:"pointer"},children:n.jsx("span",{children:u?"▼":"▶"})}),n.jsx(be.Heading,{className:ve(C,"Heading"),style:{margin:0},children:Q})]})}),u&&function(){if(J<=1)return n.jsx(be.VStack,{style:{gap:"1rem"},children:i.map(function(e){return Se(e,re[e])})});for(var e=Math.ceil(i.length/J),t=[],r=0;r<J;r++){var l=r*e,a=Math.min(l+e,i.length);t.push(i.slice(l,a))}var s=o({display:"grid",gridTemplateColumns:"repeat(".concat(J,", 1fr)"),gap:"2rem",width:"100%"},z.formGrid);return n.jsx(be.Box,{className:ve(C,"Box"),style:s,children:t.map(function(e,t){return n.jsx(be.VStack,{className:ve(C,"VStack"),style:o({gap:"1rem"},z.formColumn),children:e.map(function(e){return Se(e,re[e])})},t)})})}()]},"wrap-".concat(s))}}return n.jsxs(be.VStack,{className:ve(C,"VStack"),style:o({gap:"1rem"},z.formStack),children:[r,l]})}var d=Object.entries(re);if(J<=1)return n.jsx(be.VStack,{className:ve(C,"VStack"),style:o({gap:"1rem"},z.formStack),children:d.map(function(e){var t=a(e,2),n=t[0],r=t[1];return Se(n,r)})});for(var f=Math.ceil(d.length/J),p=[],m=0;m<J;m++){var x=m*f,y=Math.min(x+f,d.length);p.push(d.slice(x,y))}var g=o({display:"grid",gridTemplateColumns:"repeat(".concat(J,", 1fr)"),gap:"2rem",width:"100%"},z.formGrid);return n.jsx(be.Box,{className:ve(C,"Box"),style:g,children:p.map(function(e,t){return n.jsx(be.VStack,{className:ve(C,"VStack"),style:o({gap:"1rem"},z.formColumn),children:e.map(function(e){var t=a(e,2),n=t[0],r=t[1];return Se(n,r)})},t)})})}()}),P&&Object.keys(re).length>0&&n.jsxs(be.HStack,{className:ve(C,"HStack"),style:o({gap:"0.5rem",marginTop:"1rem"},z.controlButtons),children:[n.jsx(be.Button,{onClick:function(){if(w){var e=p(re);w(e,re)}},className:ve(C,"Button","default"),style:z.saveButton,children:O}),n.jsx(be.Button,{onClick:function(){le(o({},oe)),N&&N()},className:ve(C,"Button","secondary"),style:z.cancelButton,children:D})]})]})}))};e.Fields=b,e.JsonFields=b,e.flattenObject=f,e.formatJson=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return JSON.stringify(e,null,t)},e.getDisplayName=y,e.getInputType=m,e.getNestedLevel=function(e){return e.split(".").length-1},e.getUIClasses=d,e.getUIComponents=function(){return{Container:"div",Box:"div",Button:"button",Input:"input",Select:"select",Textarea:"textarea",Table:"table",Thead:"thead",Tbody:"tbody",Tr:"tr",Th:"th",Td:"td",Text:"span",Heading:"h2",Stack:"div",HStack:"div",VStack:"div",Card:"div",Alert:"div",Badge:"span",Grid:"div",GridItem:"div",Flex:"div",Label:"label"}},e.parseJsonSafely=x,e.unflattenObject=p});
//# sourceMappingURL=json-fields.umd.min.js.map
